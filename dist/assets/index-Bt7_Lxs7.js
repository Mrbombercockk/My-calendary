var UR=Object.defineProperty;var FR=(e,t,n)=>t in e?UR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Zt=(e,t,n)=>FR(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function s2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jg={exports:{}},Oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function HR(){if(Hx)return Oc;Hx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:e,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Oc.Fragment=t,Oc.jsx=n,Oc.jsxs=n,Oc}var qx;function qR(){return qx||(qx=1,Jg.exports=HR()),Jg.exports}var S=qR(),tp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function YR(){if(Yx)return It;Yx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function A(L,et,ct){this.props=L,this.context=et,this.refs=R,this.updater=ct||x}A.prototype.isReactComponent={},A.prototype.setState=function(L,et){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,et,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=A.prototype;function B(L,et,ct){this.props=L,this.context=et,this.refs=R,this.updater=ct||x}var F=B.prototype=new V;F.constructor=B,E(F,A.prototype),F.isPureReactComponent=!0;var W=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function P(L,et,ct,ot,mt,Et){return ct=Et.ref,{$$typeof:e,type:L,key:et,ref:ct!==void 0?ct:null,props:Et}}function D(L,et){return P(L.type,et,void 0,void 0,void 0,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function I(L){var et={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return et[ct]})}var N=/\/+/g;function j(L,et){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):et.toString(36)}function k(){}function Nt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(et){L.status==="pending"&&(L.status="fulfilled",L.value=et)},function(et){L.status==="pending"&&(L.status="rejected",L.reason=et)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Tt(L,et,ct,ot,mt){var Et=typeof L;(Et==="undefined"||Et==="boolean")&&(L=null);var yt=!1;if(L===null)yt=!0;else switch(Et){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(L.$$typeof){case e:case t:yt=!0;break;case p:return yt=L._init,Tt(yt(L._payload),et,ct,ot,mt)}}if(yt)return mt=mt(L),yt=ot===""?"."+j(L,0):ot,W(mt)?(ct="",yt!=null&&(ct=yt.replace(N,"$&/")+"/"),Tt(mt,et,ct,"",function(re){return re})):mt!=null&&(M(mt)&&(mt=D(mt,ct+(mt.key==null||L&&L.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+yt)),et.push(mt)),1;yt=0;var ve=ot===""?".":ot+":";if(W(L))for(var qt=0;qt<L.length;qt++)ot=L[qt],Et=ve+j(ot,qt),yt+=Tt(ot,et,ct,Et,mt);else if(qt=_(L),typeof qt=="function")for(L=qt.call(L),qt=0;!(ot=L.next()).done;)ot=ot.value,Et=ve+j(ot,qt++),yt+=Tt(ot,et,ct,Et,mt);else if(Et==="object"){if(typeof L.then=="function")return Tt(Nt(L),et,ct,ot,mt);throw et=String(L),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return yt}function K(L,et,ct){if(L==null)return L;var ot=[],mt=0;return Tt(L,ot,"","",function(Et){return et.call(ct,Et,mt++)}),ot}function st(L){if(L._status===-1){var et=L._result;et=et(),et.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=et)}if(L._status===1)return L._result.default;throw L._result}var ht=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function wt(){}return It.Children={map:K,forEach:function(L,et,ct){K(L,function(){et.apply(this,arguments)},ct)},count:function(L){var et=0;return K(L,function(){et++}),et},toArray:function(L){return K(L,function(et){return et})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},It.Component=A,It.Fragment=n,It.Profiler=r,It.PureComponent=B,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,It.__COMPILER_RUNTIME={__proto__:null,c:function(L){return q.H.useMemoCache(L)}},It.cache=function(L){return function(){return L.apply(null,arguments)}},It.cloneElement=function(L,et,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=E({},L.props),mt=L.key,Et=void 0;if(et!=null)for(yt in et.ref!==void 0&&(Et=void 0),et.key!==void 0&&(mt=""+et.key),et)!Z.call(et,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&et.ref===void 0||(ot[yt]=et[yt]);var yt=arguments.length-2;if(yt===1)ot.children=ct;else if(1<yt){for(var ve=Array(yt),qt=0;qt<yt;qt++)ve[qt]=arguments[qt+2];ot.children=ve}return P(L.type,mt,void 0,void 0,Et,ot)},It.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},It.createElement=function(L,et,ct){var ot,mt={},Et=null;if(et!=null)for(ot in et.key!==void 0&&(Et=""+et.key),et)Z.call(et,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(mt[ot]=et[ot]);var yt=arguments.length-2;if(yt===1)mt.children=ct;else if(1<yt){for(var ve=Array(yt),qt=0;qt<yt;qt++)ve[qt]=arguments[qt+2];mt.children=ve}if(L&&L.defaultProps)for(ot in yt=L.defaultProps,yt)mt[ot]===void 0&&(mt[ot]=yt[ot]);return P(L,Et,void 0,void 0,null,mt)},It.createRef=function(){return{current:null}},It.forwardRef=function(L){return{$$typeof:u,render:L}},It.isValidElement=M,It.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:st}},It.memo=function(L,et){return{$$typeof:d,type:L,compare:et===void 0?null:et}},It.startTransition=function(L){var et=q.T,ct={};q.T=ct;try{var ot=L(),mt=q.S;mt!==null&&mt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(wt,ht)}catch(Et){ht(Et)}finally{q.T=et}},It.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},It.use=function(L){return q.H.use(L)},It.useActionState=function(L,et,ct){return q.H.useActionState(L,et,ct)},It.useCallback=function(L,et){return q.H.useCallback(L,et)},It.useContext=function(L){return q.H.useContext(L)},It.useDebugValue=function(){},It.useDeferredValue=function(L,et){return q.H.useDeferredValue(L,et)},It.useEffect=function(L,et,ct){var ot=q.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,et)},It.useId=function(){return q.H.useId()},It.useImperativeHandle=function(L,et,ct){return q.H.useImperativeHandle(L,et,ct)},It.useInsertionEffect=function(L,et){return q.H.useInsertionEffect(L,et)},It.useLayoutEffect=function(L,et){return q.H.useLayoutEffect(L,et)},It.useMemo=function(L,et){return q.H.useMemo(L,et)},It.useOptimistic=function(L,et){return q.H.useOptimistic(L,et)},It.useReducer=function(L,et,ct){return q.H.useReducer(L,et,ct)},It.useRef=function(L){return q.H.useRef(L)},It.useState=function(L){return q.H.useState(L)},It.useSyncExternalStore=function(L,et,ct){return q.H.useSyncExternalStore(L,et,ct)},It.useTransition=function(){return q.H.useTransition()},It.version="19.1.0",It}var Gx;function i0(){return Gx||(Gx=1,tp.exports=YR()),tp.exports}var it=i0();const Gs=s2(it);var ep={exports:{}},Mc={},np={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function GR(){return $x||($x=1,function(e){function t(K,st){var ht=K.length;K.push(st);t:for(;0<ht;){var wt=ht-1>>>1,L=K[wt];if(0<r(L,st))K[wt]=st,K[ht]=L,ht=wt;else break t}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var st=K[0],ht=K.pop();if(ht!==st){K[0]=ht;t:for(var wt=0,L=K.length,et=L>>>1;wt<et;){var ct=2*(wt+1)-1,ot=K[ct],mt=ct+1,Et=K[mt];if(0>r(ot,ht))mt<L&&0>r(Et,ot)?(K[wt]=Et,K[mt]=ht,wt=mt):(K[wt]=ot,K[ct]=ht,wt=ct);else if(mt<L&&0>r(Et,ht))K[wt]=Et,K[mt]=ht,wt=mt;else break t}}return st}function r(K,st){var ht=K.sortIndex-st.sortIndex;return ht!==0?ht:K.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],d=[],p=1,v=null,_=3,x=!1,E=!1,R=!1,A=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(K){for(var st=n(d);st!==null;){if(st.callback===null)i(d);else if(st.startTime<=K)i(d),st.sortIndex=st.expirationTime,t(f,st);else break;st=n(d)}}function q(K){if(R=!1,W(K),!E)if(n(f)!==null)E=!0,Z||(Z=!0,j());else{var st=n(d);st!==null&&Tt(q,st.startTime-K)}}var Z=!1,P=-1,D=5,M=-1;function I(){return A?!0:!(e.unstable_now()-M<D)}function N(){if(A=!1,Z){var K=e.unstable_now();M=K;var st=!0;try{t:{E=!1,R&&(R=!1,B(P),P=-1),x=!0;var ht=_;try{e:{for(W(K),v=n(f);v!==null&&!(v.expirationTime>K&&I());){var wt=v.callback;if(typeof wt=="function"){v.callback=null,_=v.priorityLevel;var L=wt(v.expirationTime<=K);if(K=e.unstable_now(),typeof L=="function"){v.callback=L,W(K),st=!0;break e}v===n(f)&&i(f),W(K)}else i(f);v=n(f)}if(v!==null)st=!0;else{var et=n(d);et!==null&&Tt(q,et.startTime-K),st=!1}}break t}finally{v=null,_=ht,x=!1}st=void 0}}finally{st?j():Z=!1}}}var j;if(typeof F=="function")j=function(){F(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Nt=k.port2;k.port1.onmessage=N,j=function(){Nt.postMessage(null)}}else j=function(){V(N,0)};function Tt(K,st){P=V(function(){K(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(K){switch(_){case 1:case 2:case 3:var st=3;break;default:st=_}var ht=_;_=st;try{return K()}finally{_=ht}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=_;_=K;try{return st()}finally{_=ht}},e.unstable_scheduleCallback=function(K,st,ht){var wt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?wt+ht:wt):ht=wt,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ht+L,K={id:p++,callback:st,priorityLevel:K,startTime:ht,expirationTime:L,sortIndex:-1},ht>wt?(K.sortIndex=ht,t(d,K),n(f)===null&&K===n(d)&&(R?(B(P),P=-1):R=!0,Tt(q,ht-wt))):(K.sortIndex=L,t(f,K),E||x||(E=!0,Z||(Z=!0,j()))),K},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(K){var st=_;return function(){var ht=_;_=st;try{return K.apply(this,arguments)}finally{_=ht}}}}(ip)),ip}var Kx;function $R(){return Kx||(Kx=1,np.exports=GR()),np.exports}var sp={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function KR(){if(Xx)return wn;Xx=1;var e=i0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},wn.flushSync=function(f){var d=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=p,i.d.f()}},wn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},wn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},wn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,v=u(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},wn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},wn.requestFormReset=function(f){i.d.r(f)},wn.unstable_batchedUpdates=function(f,d){return f(d)},wn.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var Qx;function XR(){if(Qx)return sp.exports;Qx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=KR(),sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function QR(){if(Wx)return Mc;Wx=1;var e=$R(),t=i0(),n=XR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,h=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return u(g),s;if(y===h)return u(g),a;y=y.sibling}throw Error(i(188))}if(l.return!==h.return)l=g,h=y;else{for(var w=!1,C=g.child;C;){if(C===l){w=!0,l=g,h=y;break}if(C===h){w=!0,h=g,l=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===l){w=!0,l=y,h=g;break}if(C===h){w=!0,h=y,l=g;break}C=C.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case F:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case W:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:Nt(s.type)||"Memo";case D:a=s._payload,s=s._init;try{return Nt(s(a))}catch{}}return null}var Tt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},wt=[],L=-1;function et(s){return{current:s}}function ct(s){0>L||(s.current=wt[L],wt[L]=null,L--)}function ot(s,a){L++,wt[L]=s.current,s.current=a}var mt=et(null),Et=et(null),yt=et(null),ve=et(null);function qt(s,a){switch(ot(yt,a),ot(Et,s),ot(mt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?yx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=yx(a),s=vx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(mt),ot(mt,s)}function re(){ct(mt),ct(Et),ct(yt)}function bt(s){s.memoizedState!==null&&ot(ve,s);var a=mt.current,l=vx(a,s.type);a!==l&&(ot(Et,s),ot(mt,l))}function lt(s){Et.current===s&&(ct(mt),ct(Et)),ve.current===s&&(ct(ve),Ec._currentValue=ht)}var dt=Object.prototype.hasOwnProperty,_t=e.unstable_scheduleCallback,vt=e.unstable_cancelCallback,Se=e.unstable_shouldYield,be=e.unstable_requestPaint,Wt=e.unstable_now,Ws=e.unstable_getCurrentPriorityLevel,Zs=e.unstable_ImmediatePriority,Js=e.unstable_UserBlockingPriority,ds=e.unstable_NormalPriority,Ml=e.unstable_LowPriority,ms=e.unstable_IdlePriority,Qr=e.log,Wa=e.unstable_setDisableYieldValue,Ee=null,ie=null;function Vn(s){if(typeof Qr=="function"&&Wa(s),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(Ee,s)}catch{}}var He=Math.clz32?Math.clz32:gs,Wr=Math.log,Za=Math.LN2;function gs(s){return s>>>=0,s===0?32:31-(Wr(s)/Za|0)|0}var ni=256,Ii=4194304;function $n(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ps(s,a,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?g=$n(h):(w&=C,w!==0?g=$n(w):l||(l=C&~s,l!==0&&(g=$n(l))))):(C=h&~y,C!==0?g=$n(C):w!==0?g=$n(w):l||(l=h&~s,l!==0&&(g=$n(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function ji(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ys(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var s=ni;return ni<<=1,(ni&4194048)===0&&(ni=256),s}function tr(){var s=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),s}function Si(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ii(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qe(s,a,l,h,g,y){var w=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,z=s.expirationTimes,$=s.hiddenUpdates;for(l=w&~l;0<l;){var tt=31-He(l),rt=1<<tt;C[tt]=0,z[tt]=-1;var X=$[tt];if(X!==null)for($[tt]=null,tt=0;tt<X.length;tt++){var Q=X[tt];Q!==null&&(Q.lane&=-536870913)}l&=~rt}h!==0&&Te(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~a))}function Te(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-He(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194090}function Li(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var h=31-He(l),g=1<<h;g&a|s[h]&a&&(s[h]|=a),l&=~g}}function te(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function un(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zi(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:jx(s.type))}function er(s,a){var l=st.p;try{return st.p=s,a()}finally{st.p=l}}var ge=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ge,Ae="__reactProps$"+ge,hn="__reactContainer$"+ge,vs="__reactEvents$"+ge,Jr="__reactListeners$"+ge,si="__reactHandles$"+ge,Ja="__reactResources$"+ge,Ei="__reactMarker$"+ge;function Ai(s){delete s[Ne],delete s[Ae],delete s[vs],delete s[Jr],delete s[si]}function Di(s){var a=s[Ne];if(a)return a;for(var l=s.parentNode;l;){if(a=l[hn]||l[Ne]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Tx(s);s!==null;){if(l=s[Ne])return l;s=Tx(s)}return a}s=l,l=s.parentNode}return null}function ri(s){if(s=s[Ne]||s[hn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Mt(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Lt(s){var a=s[Ja];return a||(a=s[Ja]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[Ei]=!0}var fn=new Set,nn={};function Pn(s,a){Ci(s,a),Ci(s+"Capture",a)}function Ci(s,a){for(nn[s]=a,s=0;s<a.length;s++)fn.add(a[s])}var to=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},ta={};function Yu(s){return dt.call(ta,s)?!0:dt.call(qu,s)?!1:to.test(s)?ta[s]=!0:(qu[s]=!0,!1)}function nr(s,a,l){if(Yu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Bi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function dn(s,a,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+h)}}var ea,Gu;function bs(s){if(ea===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ea=a&&a[1]||"",Gu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+s+Gu}var eo=!1;function no(s,a){if(!s||eo)return"";eo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Q){var X=Q}Reflect.construct(s,[],rt)}else{try{rt.call()}catch(Q){X=Q}s.call(rt.prototype)}}else{try{throw Error()}catch(Q){X=Q}(rt=s())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var z=w.split(`
`),$=C.split(`
`);for(g=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;if(h===z.length||g===$.length)for(h=z.length-1,g=$.length-1;1<=h&&0<=g&&z[h]!==$[g];)g--;for(;1<=h&&0<=g;h--,g--)if(z[h]!==$[g]){if(h!==1||g!==1)do if(h--,g--,0>g||z[h]!==$[g]){var tt=`
`+z[h].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=h&&0<=g);break}}}finally{eo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function Nl(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return no(s.type,!1);case 11:return no(s.type.render,!1);case 1:return no(s.type,!0);case 31:return bs("Activity");default:return""}}function io(s){try{var a="";do a+=Nl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function im(s){var a=Vl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function so(s){s._valueTracker||(s._valueTracker=im(s))}function Pl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return s&&(h=Vl(s)?s.checked?"true":"false":s.value),s=h,s!==l?(a.setValue(s),!0):!1}function na(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var sm=/[\n"\\]/g;function Ye(s){return s.replace(sm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Kn(s,a,l,h,g,y,w,C){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+kn(a)):s.value!==""+kn(a)&&(s.value=""+kn(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?ir(s,w,kn(a)):l!=null?ir(s,w,kn(l)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+kn(C):s.removeAttribute("name")}function ia(s,a,l,h,g,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+kn(l):"",a=a!=null?""+kn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=C?s.checked:!!h,s.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function ir(s,a,l){a==="number"&&na(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function _s(s,a,l,h){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&h&&(s[l].defaultSelected=!0)}else{for(l=""+kn(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function he(s,a,l){if(a!=null&&(a=""+kn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+kn(l):""}function sa(s,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(Tt(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=kn(a),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function ai(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(s,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,l):typeof l!="number"||l===0||ra.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function kl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&$u(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&$u(s,y,a[y])}function Il(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(s){return am.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var xs=null;function oi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ts=null,ws=null;function jl(s){var a=ri(s);if(a&&(s=a.stateNode)){var l=s[Ae]||null;t:switch(s=a.stateNode,a.type){case"input":if(Kn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ye(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==s&&h.form===s.form){var g=h[Ae]||null;if(!g)throw Error(i(90));Kn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===s.form&&Pl(h)}break t;case"textarea":he(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&_s(s,!!l.multiple,a,!1)}}}var Ui=!1;function Ku(s,a,l){if(Ui)return s(a,l);Ui=!0;try{var h=s(a);return h}finally{if(Ui=!1,(Ts!==null||ws!==null)&&(Uh(),Ts&&(a=Ts,s=ws,ws=Ts=null,jl(a),s)))for(a=0;a<s.length;a++)jl(s[a])}}function aa(s,a){var l=s.stateNode;if(l===null)return null;var h=l[Ae]||null;if(h===null)return null;l=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=!1;if(Ri)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){li=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{li=!1}var Fi=null,sr=null,Ss=null;function Ll(){if(Ss)return Ss;var s,a=sr,l=a.length,h,g="value"in Fi?Fi.value:Fi.textContent,y=g.length;for(s=0;s<l&&a[s]===g[s];s++);var w=l-s;for(h=1;h<=w&&a[l-h]===g[y-h];h++);return Ss=g.slice(s,1<h?1-h:void 0)}function Hi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function qi(){return!0}function zl(){return!1}function sn(s){function a(l,h,g,y,w){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qi:zl,this.isPropagationStopped=zl,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),a}var ae={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=sn(ae),la=p({},ae,{view:0,detail:0}),Xu=sn(la),oo,lo,Yi,ca=p({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(oo=s.screenX-Yi.screenX,lo=s.screenY-Yi.screenY):lo=oo=0,Yi=s),oo)},movementY:function(s){return"movementY"in s?s.movementY:lo}}),ci=sn(ca),Qu=p({},ca,{dataTransfer:0}),om=sn(Qu),ua=p({},la,{relatedTarget:0}),co=sn(ua),Bl=p({},ae,{animationName:0,elapsedTime:0,pseudoElement:0}),uo=sn(Bl),Wu=p({},ae,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ho=sn(Wu),lm=p({},ae,{data:0}),Ul=sn(lm),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ju[s])?!!a[s]:!1}function fa(){return Fl}var th=p({},la,{key:function(s){if(s.key){var a=ha[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Hi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(s){return s.type==="keypress"?Hi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fo=sn(th),eh=p({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=sn(eh),Es=p({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),nh=sn(Es),ih=p({},ae,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=sn(ih),rh=p({},ca,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=sn(rh),In=p({},ae,{newState:0,oldState:0}),ah=sn(In),oh=[9,13,27,32],Gi=Ri&&"CompositionEvent"in window,m=null;Ri&&"documentMode"in document&&(m=document.documentMode);var b=Ri&&"TextEvent"in window&&!m,T=Ri&&(!Gi||m&&8<m&&11>=m),O=" ",Y=!1;function J(s,a){switch(s){case"keyup":return oh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yt=!1;function Xe(s,a){switch(s){case"compositionend":return ut(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return s=a.data,s===O&&Y?null:s;default:return null}}function Gt(s,a){if(Yt)return s==="compositionend"||!Gi&&J(s,a)?(s=Ll(),Ss=sr=Fi=null,Yt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qe(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!rn[s.type]:a==="textarea"}function As(s,a,l,h){Ts?ws?ws.push(h):ws=[h]:Ts=h,a=$h(a,"onChange"),0<a.length&&(l=new ao("onChange","change",null,l,h),s.push({event:l,listeners:a}))}var mn=null,$i=null;function ql(s){fx(s,0)}function lh(s){var a=Mt(s);if(Pl(a))return s}function Vv(s,a){if(s==="change")return a}var Pv=!1;if(Ri){var cm;if(Ri){var um="oninput"in document;if(!um){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),um=typeof kv.oninput=="function"}cm=um}else cm=!1;Pv=cm&&(!document.documentMode||9<document.documentMode)}function Iv(){mn&&(mn.detachEvent("onpropertychange",jv),$i=mn=null)}function jv(s){if(s.propertyName==="value"&&lh($i)){var a=[];As(a,$i,s,oi(s)),Ku(ql,a)}}function yC(s,a,l){s==="focusin"?(Iv(),mn=a,$i=l,mn.attachEvent("onpropertychange",jv)):s==="focusout"&&Iv()}function vC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lh($i)}function bC(s,a){if(s==="click")return lh(a)}function _C(s,a){if(s==="input"||s==="change")return lh(a)}function xC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Xn=typeof Object.is=="function"?Object.is:xC;function Yl(s,a){if(Xn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!dt.call(a,g)||!Xn(s[g],a[g]))return!1}return!0}function Lv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zv(s,a){var l=Lv(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=a&&h>=a)return{node:l,offset:a-s};s=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Lv(l)}}function Bv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Uv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=na(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=na(s.document)}return a}function hm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var TC=Ri&&"documentMode"in document&&11>=document.documentMode,go=null,fm=null,Gl=null,dm=!1;function Fv(s,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dm||go==null||go!==na(h)||(h=go,"selectionStart"in h&&hm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gl&&Yl(Gl,h)||(Gl=h,h=$h(fm,"onSelect"),0<h.length&&(a=new ao("onSelect","select",null,a,l),s.push({event:a,listeners:h}),a.target=go)))}function da(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var po={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},mm={},Hv={};Ri&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ma(s){if(mm[s])return mm[s];if(!po[s])return s;var a=po[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Hv)return mm[s]=a[l];return s}var qv=ma("animationend"),Yv=ma("animationiteration"),Gv=ma("animationstart"),wC=ma("transitionrun"),SC=ma("transitionstart"),EC=ma("transitioncancel"),$v=ma("transitionend"),Kv=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function Oi(s,a){Kv.set(s,a),Pn(a,[s])}var Xv=new WeakMap;function ui(s,a){if(typeof s=="object"&&s!==null){var l=Xv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:io(a)},Xv.set(s,a),a)}return{value:s,source:a,stack:io(a)}}var hi=[],yo=0,pm=0;function ch(){for(var s=yo,a=pm=yo=0;a<s;){var l=hi[a];hi[a++]=null;var h=hi[a];hi[a++]=null;var g=hi[a];hi[a++]=null;var y=hi[a];if(hi[a++]=null,h!==null&&g!==null){var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}y!==0&&Qv(l,g,y)}}function uh(s,a,l,h){hi[yo++]=s,hi[yo++]=a,hi[yo++]=l,hi[yo++]=h,pm|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function ym(s,a,l,h){return uh(s,a,l,h),hh(s)}function vo(s,a){return uh(s,null,null,a),hh(s)}function Qv(s,a,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-He(l),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=l|536870912),y):null}function hh(s){if(50<yc)throw yc=0,wg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var bo={};function AC(s,a,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,a,l,h){return new AC(s,a,l,h)}function vm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ds(s,a){var l=s.alternate;return l===null?(l=Qn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Wv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function fh(s,a,l,h,g,y){var w=0;if(h=s,typeof s=="function")vm(s)&&(w=1);else if(typeof s=="string")w=CR(s,l,mt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=Qn(31,l,a,g),s.elementType=M,s.lanes=y,s;case E:return ga(l.children,g,y,a);case R:w=8,g|=24;break;case A:return s=Qn(12,l,a,g|2),s.elementType=A,s.lanes=y,s;case q:return s=Qn(13,l,a,g),s.elementType=q,s.lanes=y,s;case Z:return s=Qn(19,l,a,g),s.elementType=Z,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:case F:w=10;break t;case B:w=9;break t;case W:w=11;break t;case P:w=14;break t;case D:w=16,h=null;break t}w=29,l=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Qn(w,l,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function ga(s,a,l,h){return s=Qn(7,s,h,a),s.lanes=l,s}function bm(s,a,l){return s=Qn(6,s,null,a),s.lanes=l,s}function _m(s,a,l){return a=Qn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var _o=[],xo=0,dh=null,mh=0,fi=[],di=0,pa=null,Cs=1,Rs="";function ya(s,a){_o[xo++]=mh,_o[xo++]=dh,dh=s,mh=a}function Zv(s,a,l){fi[di++]=Cs,fi[di++]=Rs,fi[di++]=pa,pa=s;var h=Cs;s=Rs;var g=32-He(h)-1;h&=~(1<<g),l+=1;var y=32-He(a)+g;if(30<y){var w=g-g%5;y=(h&(1<<w)-1).toString(32),h>>=w,g-=w,Cs=1<<32-He(a)+g|l<<g|h,Rs=y+s}else Cs=1<<y|l<<g|h,Rs=s}function xm(s){s.return!==null&&(ya(s,1),Zv(s,1,0))}function Tm(s){for(;s===dh;)dh=_o[--xo],_o[xo]=null,mh=_o[--xo],_o[xo]=null;for(;s===pa;)pa=fi[--di],fi[di]=null,Rs=fi[--di],fi[di]=null,Cs=fi[--di],fi[di]=null}var jn=null,Ve=null,se=!1,va=null,Ki=!1,wm=Error(i(519));function ba(s){var a=Error(i(418,""));throw Xl(ui(a,s)),wm}function Jv(s){var a=s.stateNode,l=s.type,h=s.memoizedProps;switch(a[Ne]=s,a[Ae]=h,l){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(l=0;l<bc.length;l++)Ft(bc[l],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Ft("invalid",a),ia(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),so(a);break;case"select":Ft("invalid",a);break;case"textarea":Ft("invalid",a),sa(a,h.value,h.defaultValue,h.children),so(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||px(a.textContent,l)?(h.popover!=null&&(Ft("beforetoggle",a),Ft("toggle",a)),h.onScroll!=null&&Ft("scroll",a),h.onScrollEnd!=null&&Ft("scrollend",a),h.onClick!=null&&(a.onclick=Kh),a=!0):a=!1,a||ba(s)}function tb(s){for(jn=s.return;jn;)switch(jn.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:jn=jn.return}}function $l(s){if(s!==jn)return!1;if(!se)return tb(s),se=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zg(s.type,s.memoizedProps)),l=!l),l&&Ve&&ba(s),tb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ve=Ni(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ve=null}}else a===27?(a=Ve,_r(s.type)?(s=Hg,Hg=null,Ve=s):Ve=a):Ve=jn?Ni(s.stateNode.nextSibling):null;return!0}function Kl(){Ve=jn=null,se=!1}function eb(){var s=va;return s!==null&&(Fn===null?Fn=s:Fn.push.apply(Fn,s),va=null),s}function Xl(s){va===null?va=[s]:va.push(s)}var Sm=et(null),_a=null,Os=null;function rr(s,a,l){ot(Sm,a._currentValue),a._currentValue=l}function Ms(s){s._currentValue=Sm.current,ct(Sm)}function Em(s,a,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===l)break;s=s.return}}function Am(s,a,l,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=g;for(var z=0;z<a.length;z++)if(C.context===a[z]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Em(y.return,l,s),h||(w=null);break t}y=C.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),Em(w,l,s),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Ql(s,a,l,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var C=g.type;Xn(g.pendingProps.value,w.value)||(s!==null?s.push(C):s=[C])}}else if(g===ve.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Ec):s=[Ec])}g=g.return}s!==null&&Am(a,s,l,h),a.flags|=262144}function gh(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xa(s){_a=s,Os=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Tn(s){return nb(_a,s)}function ph(s,a){return _a===null&&xa(s),nb(s,a)}function nb(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Os===null){if(s===null)throw Error(i(308));Os=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Os=Os.next=a;return l}var DC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},CC=e.unstable_scheduleCallback,RC=e.unstable_NormalPriority,We={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new DC,data:new Map,refCount:0}}function Wl(s){s.refCount--,s.refCount===0&&CC(RC,function(){s.controller.abort()})}var Zl=null,Cm=0,To=0,wo=null;function OC(s,a){if(Zl===null){var l=Zl=[];Cm=0,To=Og(),wo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Cm++,a.then(ib,ib),a}function ib(){if(--Cm===0&&Zl!==null){wo!==null&&(wo.status="fulfilled");var s=Zl;Zl=null,To=0,wo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function MC(s,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var sb=K.S;K.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&OC(s,a),sb!==null&&sb(s,a)};var Ta=et(null);function Rm(){var s=Ta.current;return s!==null?s:_e.pooledCache}function yh(s,a){a===null?ot(Ta,Ta.current):ot(Ta,a.pool)}function rb(){var s=Rm();return s===null?null:{parent:We._currentValue,pool:s}}var Jl=Error(i(460)),ab=Error(i(474)),vh=Error(i(542)),Om={then:function(){}};function ob(s){return s=s.status,s==="fulfilled"||s==="rejected"}function bh(){}function lb(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(bh,bh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,ub(s),s;default:if(typeof a.status=="string")a.then(bh,bh);else{if(s=_e,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,ub(s),s}throw tc=a,Jl}}var tc=null;function cb(){if(tc===null)throw Error(i(459));var s=tc;return tc=null,s}function ub(s){if(s===Jl||s===vh)throw Error(i(483))}var ar=!1;function Mm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function or(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function lr(s,a,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(oe&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=hh(s),Qv(s,null,l),a}return uh(s,h,a,l),hh(s)}function ec(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Li(s,l)}}function Vm(s,a){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Pm=!1;function nc(){if(Pm){var s=wo;if(s!==null)throw s}}function ic(s,a,l,h){Pm=!1;var g=s.updateQueue;ar=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var z=C,$=z.next;z.next=null,w===null?y=$:w.next=$,w=z;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,C=tt.lastBaseUpdate,C!==w&&(C===null?tt.firstBaseUpdate=$:C.next=$,tt.lastBaseUpdate=z))}if(y!==null){var rt=g.baseState;w=0,tt=$=z=null,C=y;do{var X=C.lane&-536870913,Q=X!==C.lane;if(Q?($t&X)===X:(h&X)===X){X!==0&&X===To&&(Pm=!0),tt!==null&&(tt=tt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Rt=s,St=C;X=a;var me=l;switch(St.tag){case 1:if(Rt=St.payload,typeof Rt=="function"){rt=Rt.call(me,rt,X);break t}rt=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=St.payload,X=typeof Rt=="function"?Rt.call(me,rt,X):Rt,X==null)break t;rt=p({},rt,X);break t;case 2:ar=!0}}X=C.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},tt===null?($=tt=Q,z=rt):tt=tt.next=Q,w|=X;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);tt===null&&(z=rt),g.baseState=z,g.firstBaseUpdate=$,g.lastBaseUpdate=tt,y===null&&(g.shared.lanes=0),pr|=w,s.lanes=w,s.memoizedState=rt}}function hb(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function fb(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)hb(l[s],a)}var So=et(null),_h=et(0);function db(s,a){s=Ls,ot(_h,s),ot(So,a),Ls=s|a.baseLanes}function km(){ot(_h,Ls),ot(So,So.current)}function Im(){Ls=_h.current,ct(So),ct(_h)}var cr=0,jt=null,fe=null,Ge=null,xh=!1,Eo=!1,wa=!1,Th=0,sc=0,Ao=null,NC=0;function je(){throw Error(i(321))}function jm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Xn(s[l],a[l]))return!1;return!0}function Lm(s,a,l,h,g,y){return cr=y,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?Qb:Wb,wa=!1,y=l(h,g),wa=!1,Eo&&(y=gb(a,l,h,g)),mb(s),y}function mb(s){K.H=Ch;var a=fe!==null&&fe.next!==null;if(cr=0,Ge=fe=jt=null,xh=!1,sc=0,Ao=null,a)throw Error(i(300));s===null||an||(s=s.dependencies,s!==null&&gh(s)&&(an=!0))}function gb(s,a,l,h){jt=s;var g=0;do{if(Eo&&(Ao=null),sc=0,Eo=!1,25<=g)throw Error(i(301));if(g+=1,Ge=fe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=zC,y=a(l,h)}while(Eo);return y}function VC(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?rc(a):a,s=s.useState()[0],(fe!==null?fe.memoizedState:null)!==s&&(jt.flags|=1024),a}function zm(){var s=Th!==0;return Th=0,s}function Bm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Um(s){if(xh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}xh=!1}cr=0,Ge=fe=jt=null,Eo=!1,sc=Th=0,Ao=null}function Bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?jt.memoizedState=Ge=s:Ge=Ge.next=s,Ge}function $e(){if(fe===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=fe.next;var a=Ge===null?jt.memoizedState:Ge.next;if(a!==null)Ge=a,fe=s;else{if(s===null)throw jt.alternate===null?Error(i(467)):Error(i(310));fe=s,s={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Ge===null?jt.memoizedState=Ge=s:Ge=Ge.next=s}return Ge}function Fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(s){var a=sc;return sc+=1,Ao===null&&(Ao=[]),s=lb(Ao,s,a),a=jt,(Ge===null?a.memoizedState:Ge.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Qb:Wb),s}function wh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return rc(s);if(s.$$typeof===F)return Tn(s)}throw Error(i(438,String(s)))}function Hm(s){var a=null,l=jt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Fm(),jt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),h=0;h<s;h++)l[h]=I;return a.index++,l}function Ns(s,a){return typeof a=="function"?a(s):a}function Sh(s){var a=$e();return qm(a,fe,s)}function qm(s,a,l){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var C=w=null,z=null,$=a,tt=!1;do{var rt=$.lane&-536870913;if(rt!==$.lane?($t&rt)===rt:(cr&rt)===rt){var X=$.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),rt===To&&(tt=!0);else if((cr&X)===X){$=$.next,X===To&&(tt=!0);continue}else rt={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},z===null?(C=z=rt,w=y):z=z.next=rt,jt.lanes|=X,pr|=X;rt=$.action,wa&&l(y,rt),y=$.hasEagerState?$.eagerState:l(y,rt)}else X={lane:rt,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},z===null?(C=z=X,w=y):z=z.next=X,jt.lanes|=rt,pr|=rt;$=$.next}while($!==null&&$!==a);if(z===null?w=y:z.next=C,!Xn(y,s.memoizedState)&&(an=!0,tt&&(l=wo,l!==null)))throw l;s.memoizedState=y,s.baseState=w,s.baseQueue=z,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Ym(s){var a=$e(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do y=s(y,w.action),w=w.next;while(w!==g);Xn(y,a.memoizedState)||(an=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,h]}function pb(s,a,l){var h=jt,g=$e(),y=se;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!Xn((fe||g).memoizedState,l);w&&(g.memoizedState=l,an=!0),g=g.queue;var C=bb.bind(null,h,g,s);if(ac(2048,8,C,[s]),g.getSnapshot!==a||w||Ge!==null&&Ge.memoizedState.tag&1){if(h.flags|=2048,Do(9,Eh(),vb.bind(null,h,g,l,a),null),_e===null)throw Error(i(349));y||(cr&124)!==0||yb(h,a,l)}return l}function yb(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=jt.updateQueue,a===null?(a=Fm(),jt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function vb(s,a,l,h){a.value=l,a.getSnapshot=h,_b(a)&&xb(s)}function bb(s,a,l){return l(function(){_b(a)&&xb(s)})}function _b(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Xn(s,l)}catch{return!0}}function xb(s){var a=vo(s,2);a!==null&&ei(a,s,2)}function Gm(s){var a=Bn();if(typeof s=="function"){var l=s;if(s=l(),wa){Vn(!0);try{l()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},a}function Tb(s,a,l,h){return s.baseState=l,qm(s,fe,typeof h=="function"?h:Ns)}function PC(s,a,l,h,g){if(Dh(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};K.T!==null?l(!0):y.isTransition=!1,h(y),l=a.pending,l===null?(y.next=a.pending=y,wb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function wb(s,a){var l=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=K.T,w={};K.T=w;try{var C=l(g,h),z=K.S;z!==null&&z(w,C),Sb(s,a,C)}catch($){$m(s,a,$)}finally{K.T=y}}else try{y=l(g,h),Sb(s,a,y)}catch($){$m(s,a,$)}}function Sb(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Eb(s,a,h)},function(h){return $m(s,a,h)}):Eb(s,a,l)}function Eb(s,a,l){a.status="fulfilled",a.value=l,Ab(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,wb(s,l)))}function $m(s,a,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Ab(a),a=a.next;while(a!==h)}s.action=null}function Ab(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Db(s,a){return a}function Cb(s,a){if(se){var l=_e.formState;if(l!==null){t:{var h=jt;if(se){if(Ve){e:{for(var g=Ve,y=Ki;g.nodeType!==8;){if(!y){g=null;break e}if(g=Ni(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ve=Ni(g.nextSibling),h=g.data==="F!";break t}}ba(h)}h=!1}h&&(a=l[0])}}return l=Bn(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Db,lastRenderedState:a},l.queue=h,l=$b.bind(null,jt,h),h.dispatch=l,h=Gm(!1),y=Zm.bind(null,jt,!1,h.queue),h=Bn(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,l=PC.bind(null,jt,g,y,l),g.dispatch=l,h.memoizedState=s,[a,l,!1]}function Rb(s){var a=$e();return Ob(a,fe,s)}function Ob(s,a,l){if(a=qm(s,a,Db)[0],s=Sh(Ns)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=rc(a)}catch(w){throw w===Jl?vh:w}else h=a;a=$e();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(jt.flags|=2048,Do(9,Eh(),kC.bind(null,g,l),null)),[h,y,s]}function kC(s,a){s.action=a}function Mb(s){var a=$e(),l=fe;if(l!==null)return Ob(a,l,s);$e(),a=a.memoizedState,l=$e();var h=l.queue.dispatch;return l.memoizedState=s,[a,h,!1]}function Do(s,a,l,h){return s={tag:s,create:l,deps:h,inst:a,next:null},a=jt.updateQueue,a===null&&(a=Fm(),jt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,a.lastEffect=s),s}function Eh(){return{destroy:void 0,resource:void 0}}function Nb(){return $e().memoizedState}function Ah(s,a,l,h){var g=Bn();h=h===void 0?null:h,jt.flags|=s,g.memoizedState=Do(1|a,Eh(),l,h)}function ac(s,a,l,h){var g=$e();h=h===void 0?null:h;var y=g.memoizedState.inst;fe!==null&&h!==null&&jm(h,fe.memoizedState.deps)?g.memoizedState=Do(a,y,l,h):(jt.flags|=s,g.memoizedState=Do(1|a,y,l,h))}function Vb(s,a){Ah(8390656,8,s,a)}function Pb(s,a){ac(2048,8,s,a)}function kb(s,a){return ac(4,2,s,a)}function Ib(s,a){return ac(4,4,s,a)}function jb(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Lb(s,a,l){l=l!=null?l.concat([s]):null,ac(4,4,jb.bind(null,a,s),l)}function Km(){}function zb(s,a){var l=$e();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&jm(a,h[1])?h[0]:(l.memoizedState=[s,a],s)}function Bb(s,a){var l=$e();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&jm(a,h[1]))return h[0];if(h=s(),wa){Vn(!0);try{s()}finally{Vn(!1)}}return l.memoizedState=[h,a],h}function Xm(s,a,l){return l===void 0||(cr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=H_(),jt.lanes|=s,pr|=s,l)}function Ub(s,a,l,h){return Xn(l,a)?l:So.current!==null?(s=Xm(s,l,h),Xn(s,a)||(an=!0),s):(cr&42)===0?(an=!0,s.memoizedState=l):(s=H_(),jt.lanes|=s,pr|=s,a)}function Fb(s,a,l,h,g){var y=st.p;st.p=y!==0&&8>y?y:8;var w=K.T,C={};K.T=C,Zm(s,!1,a,l);try{var z=g(),$=K.S;if($!==null&&$(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var tt=MC(z,h);oc(s,a,tt,ti(s))}else oc(s,a,h,ti(s))}catch(rt){oc(s,a,{then:function(){},status:"rejected",reason:rt},ti())}finally{st.p=y,K.T=w}}function IC(){}function Qm(s,a,l,h){if(s.tag!==5)throw Error(i(476));var g=Hb(s).queue;Fb(s,g,a,ht,l===null?IC:function(){return qb(s),l(h)})}function Hb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function qb(s){var a=Hb(s).next.queue;oc(s,a,{},ti())}function Wm(){return Tn(Ec)}function Yb(){return $e().memoizedState}function Gb(){return $e().memoizedState}function jC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=ti();s=or(l);var h=lr(a,s,l);h!==null&&(ei(h,a,l),ec(h,a,l)),a={cache:Dm()},s.payload=a;return}a=a.return}}function LC(s,a,l){var h=ti();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Dh(s)?Kb(a,l):(l=ym(s,a,l,h),l!==null&&(ei(l,s,h),Xb(l,a,h)))}function $b(s,a,l){var h=ti();oc(s,a,l,h)}function oc(s,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dh(s))Kb(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,C=y(w,l);if(g.hasEagerState=!0,g.eagerState=C,Xn(C,w))return uh(s,a,g,0),_e===null&&ch(),!1}catch{}finally{}if(l=ym(s,a,g,h),l!==null)return ei(l,s,h),Xb(l,a,h),!0}return!1}function Zm(s,a,l,h){if(h={lane:2,revertLane:Og(),action:h,hasEagerState:!1,eagerState:null,next:null},Dh(s)){if(a)throw Error(i(479))}else a=ym(s,l,h,2),a!==null&&ei(a,s,2)}function Dh(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function Kb(s,a){Eo=xh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Xb(s,a,l){if((l&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Li(s,l)}}var Ch={readContext:Tn,use:wh,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},Qb={readContext:Tn,use:wh,useCallback:function(s,a){return Bn().memoizedState=[s,a===void 0?null:a],s},useContext:Tn,useEffect:Vb,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Ah(4194308,4,jb.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Ah(4194308,4,s,a)},useInsertionEffect:function(s,a){Ah(4,2,s,a)},useMemo:function(s,a){var l=Bn();a=a===void 0?null:a;var h=s();if(wa){Vn(!0);try{s()}finally{Vn(!1)}}return l.memoizedState=[h,a],h},useReducer:function(s,a,l){var h=Bn();if(l!==void 0){var g=l(a);if(wa){Vn(!0);try{l(a)}finally{Vn(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=LC.bind(null,jt,s),[h.memoizedState,s]},useRef:function(s){var a=Bn();return s={current:s},a.memoizedState=s},useState:function(s){s=Gm(s);var a=s.queue,l=$b.bind(null,jt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Km,useDeferredValue:function(s,a){var l=Bn();return Xm(l,s,a)},useTransition:function(){var s=Gm(!1);return s=Fb.bind(null,jt,s.queue,!0,!1),Bn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var h=jt,g=Bn();if(se){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),_e===null)throw Error(i(349));($t&124)!==0||yb(h,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Vb(bb.bind(null,h,y,s),[s]),h.flags|=2048,Do(9,Eh(),vb.bind(null,h,y,l,a),null),l},useId:function(){var s=Bn(),a=_e.identifierPrefix;if(se){var l=Rs,h=Cs;l=(h&~(1<<32-He(h)-1)).toString(32)+l,a="«"+a+"R"+l,l=Th++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=NC++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Wm,useFormState:Cb,useActionState:Cb,useOptimistic:function(s){var a=Bn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Zm.bind(null,jt,!0,l),l.dispatch=a,[s,a]},useMemoCache:Hm,useCacheRefresh:function(){return Bn().memoizedState=jC.bind(null,jt)}},Wb={readContext:Tn,use:wh,useCallback:zb,useContext:Tn,useEffect:Pb,useImperativeHandle:Lb,useInsertionEffect:kb,useLayoutEffect:Ib,useMemo:Bb,useReducer:Sh,useRef:Nb,useState:function(){return Sh(Ns)},useDebugValue:Km,useDeferredValue:function(s,a){var l=$e();return Ub(l,fe.memoizedState,s,a)},useTransition:function(){var s=Sh(Ns)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:rc(s),a]},useSyncExternalStore:pb,useId:Yb,useHostTransitionStatus:Wm,useFormState:Rb,useActionState:Rb,useOptimistic:function(s,a){var l=$e();return Tb(l,fe,s,a)},useMemoCache:Hm,useCacheRefresh:Gb},zC={readContext:Tn,use:wh,useCallback:zb,useContext:Tn,useEffect:Pb,useImperativeHandle:Lb,useInsertionEffect:kb,useLayoutEffect:Ib,useMemo:Bb,useReducer:Ym,useRef:Nb,useState:function(){return Ym(Ns)},useDebugValue:Km,useDeferredValue:function(s,a){var l=$e();return fe===null?Xm(l,s,a):Ub(l,fe.memoizedState,s,a)},useTransition:function(){var s=Ym(Ns)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:rc(s),a]},useSyncExternalStore:pb,useId:Yb,useHostTransitionStatus:Wm,useFormState:Mb,useActionState:Mb,useOptimistic:function(s,a){var l=$e();return fe!==null?Tb(l,fe,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:Gb},Co=null,lc=0;function Rh(s){var a=lc;return lc+=1,Co===null&&(Co=[]),lb(Co,s,a)}function cc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Oh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Zb(s){var a=s._init;return a(s._payload)}function Jb(s){function a(H,U){if(s){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function l(H,U){if(!s)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function h(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function g(H,U){return H=Ds(H,U),H.index=0,H.sibling=null,H}function y(H,U,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=67108866,U):G):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function w(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function C(H,U,G,nt){return U===null||U.tag!==6?(U=bm(G,H.mode,nt),U.return=H,U):(U=g(U,G),U.return=H,U)}function z(H,U,G,nt){var pt=G.type;return pt===E?tt(H,U,G.props.children,nt,G.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===D&&Zb(pt)===U.type)?(U=g(U,G.props),cc(U,G),U.return=H,U):(U=fh(G.type,G.key,G.props,null,H.mode,nt),cc(U,G),U.return=H,U)}function $(H,U,G,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=_m(G,H.mode,nt),U.return=H,U):(U=g(U,G.children||[]),U.return=H,U)}function tt(H,U,G,nt,pt){return U===null||U.tag!==7?(U=ga(G,H.mode,nt,pt),U.return=H,U):(U=g(U,G),U.return=H,U)}function rt(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bm(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return G=fh(U.type,U.key,U.props,null,H.mode,G),cc(G,U),G.return=H,G;case x:return U=_m(U,H.mode,G),U.return=H,U;case D:var nt=U._init;return U=nt(U._payload),rt(H,U,G)}if(Tt(U)||j(U))return U=ga(U,H.mode,G,null),U.return=H,U;if(typeof U.then=="function")return rt(H,Rh(U),G);if(U.$$typeof===F)return rt(H,ph(H,U),G);Oh(H,U)}return null}function X(H,U,G,nt){var pt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:C(H,U,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return G.key===pt?z(H,U,G,nt):null;case x:return G.key===pt?$(H,U,G,nt):null;case D:return pt=G._init,G=pt(G._payload),X(H,U,G,nt)}if(Tt(G)||j(G))return pt!==null?null:tt(H,U,G,nt,null);if(typeof G.then=="function")return X(H,U,Rh(G),nt);if(G.$$typeof===F)return X(H,U,ph(H,G),nt);Oh(H,G)}return null}function Q(H,U,G,nt,pt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return H=H.get(G)||null,C(U,H,""+nt,pt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case _:return H=H.get(nt.key===null?G:nt.key)||null,z(U,H,nt,pt);case x:return H=H.get(nt.key===null?G:nt.key)||null,$(U,H,nt,pt);case D:var zt=nt._init;return nt=zt(nt._payload),Q(H,U,G,nt,pt)}if(Tt(nt)||j(nt))return H=H.get(G)||null,tt(U,H,nt,pt,null);if(typeof nt.then=="function")return Q(H,U,G,Rh(nt),pt);if(nt.$$typeof===F)return Q(H,U,G,ph(U,nt),pt);Oh(U,nt)}return null}function Rt(H,U,G,nt){for(var pt=null,zt=null,xt=U,At=U=0,ln=null;xt!==null&&At<G.length;At++){xt.index>At?(ln=xt,xt=null):ln=xt.sibling;var ee=X(H,xt,G[At],nt);if(ee===null){xt===null&&(xt=ln);break}s&&xt&&ee.alternate===null&&a(H,xt),U=y(ee,U,At),zt===null?pt=ee:zt.sibling=ee,zt=ee,xt=ln}if(At===G.length)return l(H,xt),se&&ya(H,At),pt;if(xt===null){for(;At<G.length;At++)xt=rt(H,G[At],nt),xt!==null&&(U=y(xt,U,At),zt===null?pt=xt:zt.sibling=xt,zt=xt);return se&&ya(H,At),pt}for(xt=h(xt);At<G.length;At++)ln=Q(xt,H,At,G[At],nt),ln!==null&&(s&&ln.alternate!==null&&xt.delete(ln.key===null?At:ln.key),U=y(ln,U,At),zt===null?pt=ln:zt.sibling=ln,zt=ln);return s&&xt.forEach(function(Er){return a(H,Er)}),se&&ya(H,At),pt}function St(H,U,G,nt){if(G==null)throw Error(i(151));for(var pt=null,zt=null,xt=U,At=U=0,ln=null,ee=G.next();xt!==null&&!ee.done;At++,ee=G.next()){xt.index>At?(ln=xt,xt=null):ln=xt.sibling;var Er=X(H,xt,ee.value,nt);if(Er===null){xt===null&&(xt=ln);break}s&&xt&&Er.alternate===null&&a(H,xt),U=y(Er,U,At),zt===null?pt=Er:zt.sibling=Er,zt=Er,xt=ln}if(ee.done)return l(H,xt),se&&ya(H,At),pt;if(xt===null){for(;!ee.done;At++,ee=G.next())ee=rt(H,ee.value,nt),ee!==null&&(U=y(ee,U,At),zt===null?pt=ee:zt.sibling=ee,zt=ee);return se&&ya(H,At),pt}for(xt=h(xt);!ee.done;At++,ee=G.next())ee=Q(xt,H,At,ee.value,nt),ee!==null&&(s&&ee.alternate!==null&&xt.delete(ee.key===null?At:ee.key),U=y(ee,U,At),zt===null?pt=ee:zt.sibling=ee,zt=ee);return s&&xt.forEach(function(BR){return a(H,BR)}),se&&ya(H,At),pt}function me(H,U,G,nt){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case _:t:{for(var pt=G.key;U!==null;){if(U.key===pt){if(pt=G.type,pt===E){if(U.tag===7){l(H,U.sibling),nt=g(U,G.props.children),nt.return=H,H=nt;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===D&&Zb(pt)===U.type){l(H,U.sibling),nt=g(U,G.props),cc(nt,G),nt.return=H,H=nt;break t}l(H,U);break}else a(H,U);U=U.sibling}G.type===E?(nt=ga(G.props.children,H.mode,nt,G.key),nt.return=H,H=nt):(nt=fh(G.type,G.key,G.props,null,H.mode,nt),cc(nt,G),nt.return=H,H=nt)}return w(H);case x:t:{for(pt=G.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(H,U.sibling),nt=g(U,G.children||[]),nt.return=H,H=nt;break t}else{l(H,U);break}else a(H,U);U=U.sibling}nt=_m(G,H.mode,nt),nt.return=H,H=nt}return w(H);case D:return pt=G._init,G=pt(G._payload),me(H,U,G,nt)}if(Tt(G))return Rt(H,U,G,nt);if(j(G)){if(pt=j(G),typeof pt!="function")throw Error(i(150));return G=pt.call(G),St(H,U,G,nt)}if(typeof G.then=="function")return me(H,U,Rh(G),nt);if(G.$$typeof===F)return me(H,U,ph(H,G),nt);Oh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(H,U.sibling),nt=g(U,G),nt.return=H,H=nt):(l(H,U),nt=bm(G,H.mode,nt),nt.return=H,H=nt),w(H)):l(H,U)}return function(H,U,G,nt){try{lc=0;var pt=me(H,U,G,nt);return Co=null,pt}catch(xt){if(xt===Jl||xt===vh)throw xt;var zt=Qn(29,xt,null,H.mode);return zt.lanes=nt,zt.return=H,zt}finally{}}}var Ro=Jb(!0),t_=Jb(!1),mi=et(null),Xi=null;function ur(s){var a=s.alternate;ot(Ze,Ze.current&1),ot(mi,s),Xi===null&&(a===null||So.current!==null||a.memoizedState!==null)&&(Xi=s)}function e_(s){if(s.tag===22){if(ot(Ze,Ze.current),ot(mi,s),Xi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Xi=s)}}else hr()}function hr(){ot(Ze,Ze.current),ot(mi,mi.current)}function Vs(s){ct(mi),Xi===s&&(Xi=null),ct(Ze)}var Ze=et(0);function Mh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Fg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Jm(s,a,l,h){a=s.memoizedState,l=l(h,a),l=l==null?a:p({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tg={enqueueSetState:function(s,a,l){s=s._reactInternals;var h=ti(),g=or(h);g.payload=a,l!=null&&(g.callback=l),a=lr(s,g,h),a!==null&&(ei(a,s,h),ec(a,s,h))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var h=ti(),g=or(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=lr(s,g,h),a!==null&&(ei(a,s,h),ec(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=ti(),h=or(l);h.tag=2,a!=null&&(h.callback=a),a=lr(s,h,l),a!==null&&(ei(a,s,l),ec(a,s,l))}};function n_(s,a,l,h,g,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,w):a.prototype&&a.prototype.isPureReactComponent?!Yl(l,h)||!Yl(g,y):!0}function i_(s,a,l,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==s&&tg.enqueueReplaceState(a,a.state,null)}function Sa(s,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(s=s.defaultProps){l===a&&(l=p({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var Nh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function s_(s){Nh(s)}function r_(s){console.error(s)}function a_(s){Nh(s)}function Vh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function o_(s,a,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function eg(s,a,l){return l=or(l),l.tag=3,l.payload={element:null},l.callback=function(){Vh(s,a)},l}function l_(s){return s=or(s),s.tag=3,s}function c_(s,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){o_(a,l,h)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){o_(a,l,h),typeof g!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function BC(s,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Ql(a,l,g,!0),l=mi.current,l!==null){switch(l.tag){case 13:return Xi===null?Eg():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Om?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),Dg(s,h,g)),!1;case 22:return l.flags|=65536,h===Om?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),Dg(s,h,g)),!1}throw Error(i(435,l.tag))}return Dg(s,h,g),Eg(),!1}if(se)return a=mi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==wm&&(s=Error(i(422),{cause:h}),Xl(ui(s,l)))):(h!==wm&&(a=Error(i(423),{cause:h}),Xl(ui(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=ui(h,l),g=eg(s.stateNode,h,g),Vm(s,g),Pe!==4&&(Pe=2)),!1;var y=Error(i(520),{cause:h});if(y=ui(y,l),pc===null?pc=[y]:pc.push(y),Pe!==4&&(Pe=2),a===null)return!0;h=ui(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=eg(l.stateNode,h,s),Vm(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yr===null||!yr.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=l_(g),c_(g,s,l,h),Vm(l,g),!1}l=l.return}while(l!==null);return!1}var u_=Error(i(461)),an=!1;function gn(s,a,l,h){a.child=s===null?t_(a,null,l,h):Ro(a,s.child,l,h)}function h_(s,a,l,h,g){l=l.render;var y=a.ref;if("ref"in h){var w={};for(var C in h)C!=="ref"&&(w[C]=h[C])}else w=h;return xa(a),h=Lm(s,a,l,w,y,g),C=zm(),s!==null&&!an?(Bm(s,a,g),Ps(s,a,g)):(se&&C&&xm(a),a.flags|=1,gn(s,a,h,g),a.child)}function f_(s,a,l,h,g){if(s===null){var y=l.type;return typeof y=="function"&&!vm(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,d_(s,a,y,h,g)):(s=fh(l.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!cg(s,g)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Yl,l(w,h)&&s.ref===a.ref)return Ps(s,a,g)}return a.flags|=1,s=Ds(y,h),s.ref=a.ref,s.return=a,a.child=s}function d_(s,a,l,h,g){if(s!==null){var y=s.memoizedProps;if(Yl(y,h)&&s.ref===a.ref)if(an=!1,a.pendingProps=h=y,cg(s,g))(s.flags&131072)!==0&&(an=!0);else return a.lanes=s.lanes,Ps(s,a,g)}return ng(s,a,l,h,g)}function m_(s,a,l){var h=a.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,s!==null){for(g=a.child=s.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return g_(s,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&yh(a,y!==null?y.cachePool:null),y!==null?db(a,y):km(),e_(a);else return a.lanes=a.childLanes=536870912,g_(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(yh(a,y.cachePool),db(a,y),hr(),a.memoizedState=null):(s!==null&&yh(a,null),km(),hr());return gn(s,a,g,l),a.child}function g_(s,a,l,h){var g=Rm();return g=g===null?null:{parent:We._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&yh(a,null),km(),e_(a),s!==null&&Ql(s,a,h,!0),null}function Ph(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ng(s,a,l,h,g){return xa(a),l=Lm(s,a,l,h,void 0,g),h=zm(),s!==null&&!an?(Bm(s,a,g),Ps(s,a,g)):(se&&h&&xm(a),a.flags|=1,gn(s,a,l,g),a.child)}function p_(s,a,l,h,g,y){return xa(a),a.updateQueue=null,l=gb(a,h,l,g),mb(s),h=zm(),s!==null&&!an?(Bm(s,a,y),Ps(s,a,y)):(se&&h&&xm(a),a.flags|=1,gn(s,a,l,y),a.child)}function y_(s,a,l,h,g){if(xa(a),a.stateNode===null){var y=bo,w=l.contextType;typeof w=="object"&&w!==null&&(y=Tn(w)),y=new l(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Mm(a),w=l.contextType,y.context=typeof w=="object"&&w!==null?Tn(w):bo,y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jm(a,l,w,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&tg.enqueueReplaceState(y,y.state,null),ic(a,h,y,g),nc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var C=a.memoizedProps,z=Sa(l,C);y.props=z;var $=y.context,tt=l.contextType;w=bo,typeof tt=="object"&&tt!==null&&(w=Tn(tt));var rt=l.getDerivedStateFromProps;tt=typeof rt=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,tt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||$!==w)&&i_(a,y,h,w),ar=!1;var X=a.memoizedState;y.state=X,ic(a,h,y,g),nc(),$=a.memoizedState,C||X!==$||ar?(typeof rt=="function"&&(Jm(a,l,rt,h),$=a.memoizedState),(z=ar||n_(a,l,z,h,X,$,w))?(tt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=$),y.props=h,y.state=$,y.context=w,h=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Nm(s,a),w=a.memoizedProps,tt=Sa(l,w),y.props=tt,rt=a.pendingProps,X=y.context,$=l.contextType,z=bo,typeof $=="object"&&$!==null&&(z=Tn($)),C=l.getDerivedStateFromProps,($=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==rt||X!==z)&&i_(a,y,h,z),ar=!1,X=a.memoizedState,y.state=X,ic(a,h,y,g),nc();var Q=a.memoizedState;w!==rt||X!==Q||ar||s!==null&&s.dependencies!==null&&gh(s.dependencies)?(typeof C=="function"&&(Jm(a,l,C,h),Q=a.memoizedState),(tt=ar||n_(a,l,tt,h,X,Q,z)||s!==null&&s.dependencies!==null&&gh(s.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Q,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Q,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Q),y.props=h,y.state=Q,y.context=z,h=tt):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Ph(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Ro(a,s.child,null,g),a.child=Ro(a,null,l,g)):gn(s,a,l,g),a.memoizedState=y.state,s=a.child):s=Ps(s,a,g),s}function v_(s,a,l,h){return Kl(),a.flags|=256,gn(s,a,l,h),a.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(s){return{baseLanes:s,cachePool:rb()}}function rg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=gi),s}function b_(s,a,l){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(Ze.current&2)!==0),w&&(g=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(se){if(g?ur(a):hr(),se){var C=Ve,z;if(z=C){t:{for(z=C,C=Ki;z.nodeType!==8;){if(!C){C=null;break t}if(z=Ni(z.nextSibling),z===null){C=null;break t}}C=z}C!==null?(a.memoizedState={dehydrated:C,treeContext:pa!==null?{id:Cs,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},z=Qn(18,null,null,0),z.stateNode=C,z.return=a,a.child=z,jn=a,Ve=null,z=!0):z=!1}z||ba(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Fg(C)?a.lanes=32:a.lanes=536870912,null;Vs(a)}return C=h.children,h=h.fallback,g?(hr(),g=a.mode,C=kh({mode:"hidden",children:C},g),h=ga(h,g,l,null),C.return=a,h.return=a,C.sibling=h,a.child=C,g=a.child,g.memoizedState=sg(l),g.childLanes=rg(s,w,l),a.memoizedState=ig,h):(ur(a),ag(a,C))}if(z=s.memoizedState,z!==null&&(C=z.dehydrated,C!==null)){if(y)a.flags&256?(ur(a),a.flags&=-257,a=og(s,a,l)):a.memoizedState!==null?(hr(),a.child=s.child,a.flags|=128,a=null):(hr(),g=h.fallback,C=a.mode,h=kh({mode:"visible",children:h.children},C),g=ga(g,C,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Ro(a,s.child,null,l),h=a.child,h.memoizedState=sg(l),h.childLanes=rg(s,w,l),a.memoizedState=ig,a=g);else if(ur(a),Fg(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var $=w.dgst;w=$,h=Error(i(419)),h.stack="",h.digest=w,Xl({value:h,source:null,stack:null}),a=og(s,a,l)}else if(an||Ql(s,a,l,!1),w=(l&s.childLanes)!==0,an||w){if(w=_e,w!==null&&(h=l&-l,h=(h&42)!==0?1:te(h),h=(h&(w.suspendedLanes|l))!==0?0:h,h!==0&&h!==z.retryLane))throw z.retryLane=h,vo(s,h),ei(w,s,h),u_;C.data==="$?"||Eg(),a=og(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Ve=Ni(C.nextSibling),jn=a,se=!0,va=null,Ki=!1,s!==null&&(fi[di++]=Cs,fi[di++]=Rs,fi[di++]=pa,Cs=s.id,Rs=s.overflow,pa=a),a=ag(a,h.children),a.flags|=4096);return a}return g?(hr(),g=h.fallback,C=a.mode,z=s.child,$=z.sibling,h=Ds(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,$!==null?g=Ds($,g):(g=ga(g,C,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,C=s.child.memoizedState,C===null?C=sg(l):(z=C.cachePool,z!==null?($=We._currentValue,z=z.parent!==$?{parent:$,pool:$}:z):z=rb(),C={baseLanes:C.baseLanes|l,cachePool:z}),g.memoizedState=C,g.childLanes=rg(s,w,l),a.memoizedState=ig,h):(ur(a),l=s.child,s=l.sibling,l=Ds(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=l,a.memoizedState=null,l)}function ag(s,a){return a=kh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function kh(s,a){return s=Qn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function og(s,a,l){return Ro(a,s.child,null,l),s=ag(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function __(s,a,l){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Em(s.return,a,l)}function lg(s,a,l,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function x_(s,a,l){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(gn(s,a,h.children,l),h=Ze.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&__(s,l,a);else if(s.tag===19)__(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ot(Ze,h),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Mh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),lg(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Mh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}lg(a,!0,l,null,y);break;case"together":lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),pr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ql(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Ds(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ds(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function cg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&gh(s)))}function UC(s,a,l){switch(a.tag){case 3:qt(a,a.stateNode.containerInfo),rr(a,We,s.memoizedState.cache),Kl();break;case 27:case 5:bt(a);break;case 4:qt(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ur(a),a.flags|=128,null):(l&a.child.childLanes)!==0?b_(s,a,l):(ur(a),s=Ps(s,a,l),s!==null?s.sibling:null);ur(a);break;case 19:var g=(s.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Ql(s,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return x_(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(Ze,Ze.current),h)break;return null;case 22:case 23:return a.lanes=0,m_(s,a,l);case 24:rr(a,We,s.memoizedState.cache)}return Ps(s,a,l)}function T_(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)an=!0;else{if(!cg(s,l)&&(a.flags&128)===0)return an=!1,UC(s,a,l);an=(s.flags&131072)!==0}else an=!1,se&&(a.flags&1048576)!==0&&Zv(a,mh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")vm(h)?(s=Sa(h,s),a.tag=1,a=y_(null,a,h,s,l)):(a.tag=0,a=ng(null,a,h,s,l));else{if(h!=null){if(g=h.$$typeof,g===W){a.tag=11,a=h_(null,a,h,s,l);break t}else if(g===P){a.tag=14,a=f_(null,a,h,s,l);break t}}throw a=Nt(h)||h,Error(i(306,a,""))}}return a;case 0:return ng(s,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=Sa(h,a.pendingProps),y_(s,a,h,g,l);case 3:t:{if(qt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,Nm(s,a),ic(a,h,null,l);var w=a.memoizedState;if(h=w.cache,rr(a,We,h),h!==y.cache&&Am(a,[We],l,!0),nc(),h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=v_(s,a,h,l);break t}else if(h!==g){g=ui(Error(i(424)),a),Xl(g),a=v_(s,a,h,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ve=Ni(s.firstChild),jn=a,se=!0,va=null,Ki=!0,l=t_(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Kl(),h===g){a=Ps(s,a,l);break t}gn(s,a,h,l)}a=a.child}return a;case 26:return Ph(s,a),s===null?(l=Ax(a.type,null,a.pendingProps,null))?a.memoizedState=l:se||(l=a.type,s=a.pendingProps,h=Xh(yt.current).createElement(l),h[Ne]=a,h[Ae]=s,yn(h,l,s),Pt(h),a.stateNode=h):a.memoizedState=Ax(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return bt(a),s===null&&se&&(h=a.stateNode=wx(a.type,a.pendingProps,yt.current),jn=a,Ki=!0,g=Ve,_r(a.type)?(Hg=g,Ve=Ni(h.firstChild)):Ve=g),gn(s,a,a.pendingProps.children,l),Ph(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&se&&((g=h=Ve)&&(h=gR(h,a.type,a.pendingProps,Ki),h!==null?(a.stateNode=h,jn=a,Ve=Ni(h.firstChild),Ki=!1,g=!0):g=!1),g||ba(a)),bt(a),g=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,h=y.children,zg(g,y)?h=null:w!==null&&zg(g,w)&&(a.flags|=32),a.memoizedState!==null&&(g=Lm(s,a,VC,null,null,l),Ec._currentValue=g),Ph(s,a),gn(s,a,h,l),a.child;case 6:return s===null&&se&&((s=l=Ve)&&(l=pR(l,a.pendingProps,Ki),l!==null?(a.stateNode=l,jn=a,Ve=null,s=!0):s=!1),s||ba(a)),null;case 13:return b_(s,a,l);case 4:return qt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ro(a,null,h,l):gn(s,a,h,l),a.child;case 11:return h_(s,a,a.type,a.pendingProps,l);case 7:return gn(s,a,a.pendingProps,l),a.child;case 8:return gn(s,a,a.pendingProps.children,l),a.child;case 12:return gn(s,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,rr(a,a.type,h.value),gn(s,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,xa(a),g=Tn(g),h=h(g),a.flags|=1,gn(s,a,h,l),a.child;case 14:return f_(s,a,a.type,a.pendingProps,l);case 15:return d_(s,a,a.type,a.pendingProps,l);case 19:return x_(s,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},s===null?(l=kh(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ds(s.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return m_(s,a,l);case 24:return xa(a),h=Tn(We),s===null?(g=Rm(),g===null&&(g=_e,y=Dm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:h,cache:g},Mm(a),rr(a,We,g)):((s.lanes&l)!==0&&(Nm(s,a),ic(a,null,null,l),nc()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),rr(a,We,h)):(h=y.cache,rr(a,We,h),h!==g.cache&&Am(a,[We],l,!0))),gn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ks(s){s.flags|=4}function w_(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Mx(a)){if(a=mi.current,a!==null&&(($t&4194048)===$t?Xi!==null:($t&62914560)!==$t&&($t&536870912)===0||a!==Xi))throw tc=Om,ab;s.flags|=8192}}function Ih(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?tr():536870912,s.lanes|=a,Vo|=a)}function uc(s,a){if(!se)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Re(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=l,a}function FC(s,a,l){var h=a.pendingProps;switch(Tm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(a),null;case 1:return Re(a),null;case 3:return l=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ms(We),re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&($l(a)?ks(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,eb())),Re(a),null;case 26:return l=a.memoizedState,s===null?(ks(a),l!==null?(Re(a),w_(a,l)):(Re(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ks(a),Re(a),w_(a,l)):(Re(a),a.flags&=-16777217):(s.memoizedProps!==h&&ks(a),Re(a),a.flags&=-16777217),null;case 27:lt(a),l=yt.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&ks(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Re(a),null}s=mt.current,$l(a)?Jv(a):(s=wx(g,h,l),a.stateNode=s,ks(a))}return Re(a),null;case 5:if(lt(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&ks(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Re(a),null}if(s=mt.current,$l(a))Jv(a);else{switch(g=Xh(yt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}s[Ne]=a,s[Ae]=h;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(yn(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ks(a)}}return Re(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&ks(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=yt.current,$l(a)){if(s=a.stateNode,l=a.memoizedProps,h=null,g=jn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Ne]=a,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||px(s.nodeValue,l)),s||ba(a)}else s=Xh(s).createTextNode(h),s[Ne]=a,a.stateNode=s}return Re(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=$l(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ne]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Re(a),g=!1}else g=eb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Vs(a),a):(Vs(a),null)}if(Vs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Ih(a,a.updateQueue),Re(a),null;case 4:return re(),s===null&&Pg(a.stateNode.containerInfo),Re(a),null;case 10:return Ms(a.type),Re(a),null;case 19:if(ct(Ze),g=a.memoizedState,g===null)return Re(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)uc(g,!1);else{if(Pe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Mh(s),y!==null){for(a.flags|=128,uc(g,!1),s=y.updateQueue,a.updateQueue=s,Ih(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)Wv(l,s),l=l.sibling;return ot(Ze,Ze.current&1|2),a.child}s=s.sibling}g.tail!==null&&Wt()>zh&&(a.flags|=128,h=!0,uc(g,!1),a.lanes=4194304)}else{if(!h)if(s=Mh(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,Ih(a,s),uc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!se)return Re(a),null}else 2*Wt()-g.renderingStartTime>zh&&l!==536870912&&(a.flags|=128,h=!0,uc(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(s=g.last,s!==null?s.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Wt(),a.sibling=null,s=Ze.current,ot(Ze,h?s&1|2:s&1),a):(Re(a),null);case 22:case 23:return Vs(a),Im(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Re(a),a.subtreeFlags&6&&(a.flags|=8192)):Re(a),l=a.updateQueue,l!==null&&Ih(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),s!==null&&ct(Ta),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ms(We),Re(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function HC(s,a){switch(Tm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ms(We),re(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return lt(a),null;case 13:if(Vs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Kl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Ze),null;case 4:return re(),null;case 10:return Ms(a.type),null;case 22:case 23:return Vs(a),Im(),s!==null&&ct(Ta),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ms(We),null;case 25:return null;default:return null}}function S_(s,a){switch(Tm(a),a.tag){case 3:Ms(We),re();break;case 26:case 27:case 5:lt(a);break;case 4:re();break;case 13:Vs(a);break;case 19:ct(Ze);break;case 10:Ms(a.type);break;case 22:case 23:Vs(a),Im(),s!==null&&ct(Ta);break;case 24:Ms(We)}}function hc(s,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&s)===s){h=void 0;var y=l.create,w=l.inst;h=y(),w.destroy=h}l=l.next}while(l!==g)}}catch(C){pe(a,a.return,C)}}function fr(s,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var w=h.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,g=a;var z=l,$=C;try{$()}catch(tt){pe(g,z,tt)}}}h=h.next}while(h!==y)}}catch(tt){pe(a,a.return,tt)}}function E_(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{fb(a,l)}catch(h){pe(s,s.return,h)}}}function A_(s,a,l){l.props=Sa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){pe(s,a,h)}}function fc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(g){pe(s,a,g)}}function Qi(s,a){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){pe(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){pe(s,a,g)}else l.current=null}function D_(s){var a=s.type,l=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){pe(s,s.return,g)}}function ug(s,a,l){try{var h=s.stateNode;uR(h,s.type,l,a),h[Ae]=a}catch(g){pe(s,s.return,g)}}function C_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_r(s.type)||s.tag===4}function hg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||C_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_r(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fg(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Kh));else if(h!==4&&(h===27&&_r(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(fg(s,a,l),s=s.sibling;s!==null;)fg(s,a,l),s=s.sibling}function jh(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(h!==4&&(h===27&&_r(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(jh(s,a,l),s=s.sibling;s!==null;)jh(s,a,l),s=s.sibling}function R_(s){var a=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);yn(a,h,l),a[Ne]=s,a[Ae]=l}catch(y){pe(s,s.return,y)}}var Is=!1,Le=!1,dg=!1,O_=typeof WeakSet=="function"?WeakSet:Set,on=null;function qC(s,a){if(s=s.containerInfo,jg=ef,s=Uv(s),hm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var w=0,C=-1,z=-1,$=0,tt=0,rt=s,X=null;e:for(;;){for(var Q;rt!==l||g!==0&&rt.nodeType!==3||(C=w+g),rt!==y||h!==0&&rt.nodeType!==3||(z=w+h),rt.nodeType===3&&(w+=rt.nodeValue.length),(Q=rt.firstChild)!==null;)X=rt,rt=Q;for(;;){if(rt===s)break e;if(X===l&&++$===g&&(C=w),X===y&&++tt===h&&(z=w),(Q=rt.nextSibling)!==null)break;rt=X,X=rt.parentNode}rt=Q}l=C===-1||z===-1?null:{start:C,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lg={focusedElem:s,selectionRange:l},ef=!1,on=a;on!==null;)if(a=on,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,on=s;else for(;on!==null;){switch(a=on,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Rt=Sa(l.type,g,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(Rt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(St){pe(l,l.return,St)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,on=s;break}on=a.return}}function M_(s,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:dr(s,l),h&4&&hc(5,l);break;case 1:if(dr(s,l),h&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(w){pe(l,l.return,w)}else{var g=Sa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){pe(l,l.return,w)}}h&64&&E_(l),h&512&&fc(l,l.return);break;case 3:if(dr(s,l),h&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{fb(s,a)}catch(w){pe(l,l.return,w)}}break;case 27:a===null&&h&4&&R_(l);case 26:case 5:dr(s,l),a===null&&h&4&&D_(l),h&512&&fc(l,l.return);break;case 12:dr(s,l);break;case 13:dr(s,l),h&4&&P_(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=JC.bind(null,l),yR(s,l))));break;case 22:if(h=l.memoizedState!==null||Is,!h){a=a!==null&&a.memoizedState!==null||Le,g=Is;var y=Le;Is=h,(Le=a)&&!y?mr(s,l,(l.subtreeFlags&8772)!==0):dr(s,l),Is=g,Le=y}break;case 30:break;default:dr(s,l)}}function N_(s){var a=s.alternate;a!==null&&(s.alternate=null,N_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ai(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var De=null,Un=!1;function js(s,a,l){for(l=l.child;l!==null;)V_(s,a,l),l=l.sibling}function V_(s,a,l){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(Ee,l)}catch{}switch(l.tag){case 26:Le||Qi(l,a),js(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Le||Qi(l,a);var h=De,g=Un;_r(l.type)&&(De=l.stateNode,Un=!1),js(s,a,l),xc(l.stateNode),De=h,Un=g;break;case 5:Le||Qi(l,a);case 6:if(h=De,g=Un,De=null,js(s,a,l),De=h,Un=g,De!==null)if(Un)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(l.stateNode)}catch(y){pe(l,a,y)}else try{De.removeChild(l.stateNode)}catch(y){pe(l,a,y)}break;case 18:De!==null&&(Un?(s=De,xx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Rc(s)):xx(De,l.stateNode));break;case 4:h=De,g=Un,De=l.stateNode.containerInfo,Un=!0,js(s,a,l),De=h,Un=g;break;case 0:case 11:case 14:case 15:Le||fr(2,l,a),Le||fr(4,l,a),js(s,a,l);break;case 1:Le||(Qi(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&A_(l,a,h)),js(s,a,l);break;case 21:js(s,a,l);break;case 22:Le=(h=Le)||l.memoizedState!==null,js(s,a,l),Le=h;break;default:js(s,a,l)}}function P_(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rc(s)}catch(l){pe(a,a.return,l)}}function YC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new O_),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new O_),a;default:throw Error(i(435,s.tag))}}function mg(s,a){var l=YC(s);a.forEach(function(h){var g=tR.bind(null,s,h);l.has(h)||(l.add(h),h.then(g,g))})}function Wn(s,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=s,w=a,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(_r(C.type)){De=C.stateNode,Un=!1;break t}break;case 5:De=C.stateNode,Un=!1;break t;case 3:case 4:De=C.stateNode.containerInfo,Un=!0;break t}C=C.return}if(De===null)throw Error(i(160));V_(y,w,g),De=null,Un=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)k_(a,s),a=a.sibling}var Mi=null;function k_(s,a){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wn(a,s),Zn(s),h&4&&(fr(3,s,s.return),hc(3,s),fr(5,s,s.return));break;case 1:Wn(a,s),Zn(s),h&512&&(Le||l===null||Qi(l,l.return)),h&64&&Is&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Mi;if(Wn(a,s),Zn(s),h&512&&(Le||l===null||Qi(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){t:{h=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ei]||y[Ne]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),yn(y,h,l),y[Ne]=s,Pt(y),h=y;break t;case"link":var w=Rx("link","href",g).get(h+(l.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(C,1);break e}}y=g.createElement(h),yn(y,h,l),g.head.appendChild(y);break;case"meta":if(w=Rx("meta","content",g).get(h+(l.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(C,1);break e}}y=g.createElement(h),yn(y,h,l),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ne]=s,Pt(y),h=y}s.stateNode=h}else Ox(g,s.type,s.stateNode);else s.stateNode=Cx(g,h,s.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?Ox(g,s.type,s.stateNode):Cx(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ug(s,s.memoizedProps,l.memoizedProps)}break;case 27:Wn(a,s),Zn(s),h&512&&(Le||l===null||Qi(l,l.return)),l!==null&&h&4&&ug(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Wn(a,s),Zn(s),h&512&&(Le||l===null||Qi(l,l.return)),s.flags&32){g=s.stateNode;try{ai(g,"")}catch(Q){pe(s,s.return,Q)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,ug(s,g,l!==null?l.memoizedProps:g)),h&1024&&(dg=!0);break;case 6:if(Wn(a,s),Zn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(Q){pe(s,s.return,Q)}}break;case 3:if(Zh=null,g=Mi,Mi=Qh(a.containerInfo),Wn(a,s),Mi=g,Zn(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Rc(a.containerInfo)}catch(Q){pe(s,s.return,Q)}dg&&(dg=!1,I_(s));break;case 4:h=Mi,Mi=Qh(s.stateNode.containerInfo),Wn(a,s),Zn(s),Mi=h;break;case 12:Wn(a,s),Zn(s);break;case 13:Wn(a,s),Zn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_g=Wt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,mg(s,h)));break;case 22:g=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,$=Is,tt=Le;if(Is=$||g,Le=tt||z,Wn(a,s),Le=tt,Is=$,Zn(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||z||Is||Le||Ea(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(y=z.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=z.stateNode;var rt=z.memoizedProps.style,X=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){pe(z,z.return,Q)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(Q){pe(z,z.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,mg(s,l))));break;case 19:Wn(a,s),Zn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,mg(s,h)));break;case 30:break;case 21:break;default:Wn(a,s),Zn(s)}}function Zn(s){var a=s.flags;if(a&2){try{for(var l,h=s.return;h!==null;){if(C_(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=hg(s);jh(s,y,g);break;case 5:var w=l.stateNode;l.flags&32&&(ai(w,""),l.flags&=-33);var C=hg(s);jh(s,C,w);break;case 3:case 4:var z=l.stateNode.containerInfo,$=hg(s);fg(s,$,z);break;default:throw Error(i(161))}}catch(tt){pe(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function I_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;I_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function dr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)M_(s,a.alternate,a),a=a.sibling}function Ea(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:fr(4,a,a.return),Ea(a);break;case 1:Qi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&A_(a,a.return,l),Ea(a);break;case 27:xc(a.stateNode);case 26:case 5:Qi(a,a.return),Ea(a);break;case 22:a.memoizedState===null&&Ea(a);break;case 30:Ea(a);break;default:Ea(a)}s=s.sibling}}function mr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:mr(g,y,l),hc(4,y);break;case 1:if(mr(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch($){pe(h,h.return,$)}if(h=y,g=h.updateQueue,g!==null){var C=h.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)hb(z[g],C)}catch($){pe(h,h.return,$)}}l&&w&64&&E_(y),fc(y,y.return);break;case 27:R_(y);case 26:case 5:mr(g,y,l),l&&h===null&&w&4&&D_(y),fc(y,y.return);break;case 12:mr(g,y,l);break;case 13:mr(g,y,l),l&&w&4&&P_(g,y);break;case 22:y.memoizedState===null&&mr(g,y,l),fc(y,y.return);break;case 30:break;default:mr(g,y,l)}a=a.sibling}}function gg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Wl(l))}function pg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Wl(s))}function Wi(s,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)j_(s,a,l,h),a=a.sibling}function j_(s,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(s,a,l,h),g&2048&&hc(9,a);break;case 1:Wi(s,a,l,h);break;case 3:Wi(s,a,l,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Wl(s)));break;case 12:if(g&2048){Wi(s,a,l,h),s=a.stateNode;try{var y=a.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){pe(a,a.return,z)}}else Wi(s,a,l,h);break;case 13:Wi(s,a,l,h);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?Wi(s,a,l,h):dc(s,a):y._visibility&2?Wi(s,a,l,h):(y._visibility|=2,Oo(s,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&gg(w,a);break;case 24:Wi(s,a,l,h),g&2048&&pg(a.alternate,a);break;default:Wi(s,a,l,h)}}function Oo(s,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,w=a,C=l,z=h,$=w.flags;switch(w.tag){case 0:case 11:case 15:Oo(y,w,C,z,g),hc(8,w);break;case 23:break;case 22:var tt=w.stateNode;w.memoizedState!==null?tt._visibility&2?Oo(y,w,C,z,g):dc(y,w):(tt._visibility|=2,Oo(y,w,C,z,g)),g&&$&2048&&gg(w.alternate,w);break;case 24:Oo(y,w,C,z,g),g&&$&2048&&pg(w.alternate,w);break;default:Oo(y,w,C,z,g)}a=a.sibling}}function dc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,h=a,g=h.flags;switch(h.tag){case 22:dc(l,h),g&2048&&gg(h.alternate,h);break;case 24:dc(l,h),g&2048&&pg(h.alternate,h);break;default:dc(l,h)}a=a.sibling}}var mc=8192;function Mo(s){if(s.subtreeFlags&mc)for(s=s.child;s!==null;)L_(s),s=s.sibling}function L_(s){switch(s.tag){case 26:Mo(s),s.flags&mc&&s.memoizedState!==null&&OR(Mi,s.memoizedState,s.memoizedProps);break;case 5:Mo(s);break;case 3:case 4:var a=Mi;Mi=Qh(s.stateNode.containerInfo),Mo(s),Mi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=mc,mc=16777216,Mo(s),mc=a):Mo(s));break;default:Mo(s)}}function z_(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function gc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];on=h,U_(h,s)}z_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)B_(s),s=s.sibling}function B_(s){switch(s.tag){case 0:case 11:case 15:gc(s),s.flags&2048&&fr(9,s,s.return);break;case 3:gc(s);break;case 12:gc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Lh(s)):gc(s);break;default:gc(s)}}function Lh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];on=h,U_(h,s)}z_(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:fr(8,a,a.return),Lh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Lh(a));break;default:Lh(a)}s=s.sibling}}function U_(s,a){for(;on!==null;){var l=on;switch(l.tag){case 0:case 11:case 15:fr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wl(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,on=h;else t:for(l=s;on!==null;){h=on;var g=h.sibling,y=h.return;if(N_(h),h===l){on=null;break t}if(g!==null){g.return=y,on=g;break t}on=y}}}var GC={getCacheForType:function(s){var a=Tn(We),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},$C=typeof WeakMap=="function"?WeakMap:Map,oe=0,_e=null,Ut=null,$t=0,le=0,Jn=null,gr=!1,No=!1,yg=!1,Ls=0,Pe=0,pr=0,Aa=0,vg=0,gi=0,Vo=0,pc=null,Fn=null,bg=!1,_g=0,zh=1/0,Bh=null,yr=null,pn=0,vr=null,Po=null,ko=0,xg=0,Tg=null,F_=null,yc=0,wg=null;function ti(){if((oe&2)!==0&&$t!==0)return $t&-$t;if(K.T!==null){var s=To;return s!==0?s:Og()}return zi()}function H_(){gi===0&&(gi=($t&536870912)===0||se?Zr():536870912);var s=mi.current;return s!==null&&(s.flags|=32),gi}function ei(s,a,l){(s===_e&&(le===2||le===9)||s.cancelPendingCommit!==null)&&(Io(s,0),br(s,$t,gi,!1)),ii(s,l),((oe&2)===0||s!==_e)&&(s===_e&&((oe&2)===0&&(Aa|=l),Pe===4&&br(s,$t,gi,!1)),Zi(s))}function q_(s,a,l){if((oe&6)!==0)throw Error(i(327));var h=!l&&(a&124)===0&&(a&s.expiredLanes)===0||ji(s,a),g=h?QC(s,a):Ag(s,a,!0),y=h;do{if(g===0){No&&!h&&br(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!KC(l)){g=Ag(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var C=s;g=pc;var z=C.current.memoizedState.isDehydrated;if(z&&(Io(C,w).flags|=256),w=Ag(C,w,!1),w!==2){if(yg&&!z){C.errorRecoveryDisabledLanes|=y,Aa|=y,g=4;break t}y=Fn,Fn=g,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){Io(s,0),br(s,a,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:br(h,a,gi,!gr);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=_g+300-Wt(),10<g)){if(br(h,a,gi,!gr),ps(h,0,!0)!==0)break t;h.timeoutHandle=bx(Y_.bind(null,h,l,Fn,Bh,bg,a,gi,Aa,Vo,gr,y,2,-0,0),g);break t}Y_(h,l,Fn,Bh,bg,a,gi,Aa,Vo,gr,y,0,-0,0)}}break}while(!0);Zi(s)}function Y_(s,a,l,h,g,y,w,C,z,$,tt,rt,X,Q){if(s.timeoutHandle=-1,rt=a.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(Sc={stylesheets:null,count:0,unsuspend:RR},L_(a),rt=MR(),rt!==null)){s.cancelPendingCommit=rt(Z_.bind(null,s,a,y,l,h,g,w,C,z,tt,1,X,Q)),br(s,y,w,!$);return}Z_(s,a,y,l,h,g,w,C,z)}function KC(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!Xn(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function br(s,a,l,h){a&=~vg,a&=~Aa,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-He(g),w=1<<y;h[y]=-1,g&=~w}l!==0&&Te(s,l,a)}function Uh(){return(oe&6)===0?(vc(0),!1):!0}function Sg(){if(Ut!==null){if(le===0)var s=Ut.return;else s=Ut,Os=_a=null,Um(s),Co=null,lc=0,s=Ut;for(;s!==null;)S_(s.alternate,s),s=s.return;Ut=null}}function Io(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,fR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Sg(),_e=s,Ut=l=Ds(s.current,null),$t=a,le=0,Jn=null,gr=!1,No=ji(s,a),yg=!1,Vo=gi=vg=Aa=pr=Pe=0,Fn=pc=null,bg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-He(h),y=1<<g;a|=s[g],h&=~y}return Ls=a,ch(),l}function G_(s,a){jt=null,K.H=Ch,a===Jl||a===vh?(a=cb(),le=3):a===ab?(a=cb(),le=4):le=a===u_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jn=a,Ut===null&&(Pe=1,Vh(s,ui(a,s.current)))}function $_(){var s=K.H;return K.H=Ch,s===null?Ch:s}function K_(){var s=K.A;return K.A=GC,s}function Eg(){Pe=4,gr||($t&4194048)!==$t&&mi.current!==null||(No=!0),(pr&134217727)===0&&(Aa&134217727)===0||_e===null||br(_e,$t,gi,!1)}function Ag(s,a,l){var h=oe;oe|=2;var g=$_(),y=K_();(_e!==s||$t!==a)&&(Bh=null,Io(s,a)),a=!1;var w=Pe;t:do try{if(le!==0&&Ut!==null){var C=Ut,z=Jn;switch(le){case 8:Sg(),w=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(a=!0);var $=le;if(le=0,Jn=null,jo(s,C,z,$),l&&No){w=0;break t}break;default:$=le,le=0,Jn=null,jo(s,C,z,$)}}XC(),w=Pe;break}catch(tt){G_(s,tt)}while(!0);return a&&s.shellSuspendCounter++,Os=_a=null,oe=h,K.H=g,K.A=y,Ut===null&&(_e=null,$t=0,ch()),w}function XC(){for(;Ut!==null;)X_(Ut)}function QC(s,a){var l=oe;oe|=2;var h=$_(),g=K_();_e!==s||$t!==a?(Bh=null,zh=Wt()+500,Io(s,a)):No=ji(s,a);t:do try{if(le!==0&&Ut!==null){a=Ut;var y=Jn;e:switch(le){case 1:le=0,Jn=null,jo(s,a,y,1);break;case 2:case 9:if(ob(y)){le=0,Jn=null,Q_(a);break}a=function(){le!==2&&le!==9||_e!==s||(le=7),Zi(s)},y.then(a,a);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:ob(y)?(le=0,Jn=null,Q_(a)):(le=0,Jn=null,jo(s,a,y,7));break;case 5:var w=null;switch(Ut.tag){case 26:w=Ut.memoizedState;case 5:case 27:var C=Ut;if(!w||Mx(w)){le=0,Jn=null;var z=C.sibling;if(z!==null)Ut=z;else{var $=C.return;$!==null?(Ut=$,Fh($)):Ut=null}break e}}le=0,Jn=null,jo(s,a,y,5);break;case 6:le=0,Jn=null,jo(s,a,y,6);break;case 8:Sg(),Pe=6;break t;default:throw Error(i(462))}}WC();break}catch(tt){G_(s,tt)}while(!0);return Os=_a=null,K.H=h,K.A=g,oe=l,Ut!==null?0:(_e=null,$t=0,ch(),Pe)}function WC(){for(;Ut!==null&&!Se();)X_(Ut)}function X_(s){var a=T_(s.alternate,s,Ls);s.memoizedProps=s.pendingProps,a===null?Fh(s):Ut=a}function Q_(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=p_(l,a,a.pendingProps,a.type,void 0,$t);break;case 11:a=p_(l,a,a.pendingProps,a.type.render,a.ref,$t);break;case 5:Um(a);default:S_(l,a),a=Ut=Wv(a,Ls),a=T_(l,a,Ls)}s.memoizedProps=s.pendingProps,a===null?Fh(s):Ut=a}function jo(s,a,l,h){Os=_a=null,Um(a),Co=null,lc=0;var g=a.return;try{if(BC(s,g,a,l,$t)){Pe=1,Vh(s,ui(l,s.current)),Ut=null;return}}catch(y){if(g!==null)throw Ut=g,y;Pe=1,Vh(s,ui(l,s.current)),Ut=null;return}a.flags&32768?(se||h===1?s=!0:No||($t&536870912)!==0?s=!1:(gr=s=!0,(h===2||h===9||h===3||h===6)&&(h=mi.current,h!==null&&h.tag===13&&(h.flags|=16384))),W_(a,s)):Fh(a)}function Fh(s){var a=s;do{if((a.flags&32768)!==0){W_(a,gr);return}s=a.return;var l=FC(a.alternate,a,Ls);if(l!==null){Ut=l;return}if(a=a.sibling,a!==null){Ut=a;return}Ut=a=s}while(a!==null);Pe===0&&(Pe=5)}function W_(s,a){do{var l=HC(s.alternate,s);if(l!==null){l.flags&=32767,Ut=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ut=s;return}Ut=s=l}while(s!==null);Pe=6,Ut=null}function Z_(s,a,l,h,g,y,w,C,z){s.cancelPendingCommit=null;do Hh();while(pn!==0);if((oe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=pm,qe(s,l,y,w,C,z),s===_e&&(Ut=_e=null,$t=0),Po=a,vr=s,ko=l,xg=y,Tg=g,F_=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eR(ds,function(){return ix(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,g=st.p,st.p=2,w=oe,oe|=4;try{qC(s,a,l)}finally{oe=w,st.p=g,K.T=h}}pn=1,J_(),tx(),ex()}}function J_(){if(pn===1){pn=0;var s=vr,a=Po,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var h=st.p;st.p=2;var g=oe;oe|=4;try{k_(a,s);var y=Lg,w=Uv(s.containerInfo),C=y.focusedElem,z=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&Bv(C.ownerDocument.documentElement,C)){if(z!==null&&hm(C)){var $=z.start,tt=z.end;if(tt===void 0&&(tt=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(tt,C.value.length);else{var rt=C.ownerDocument||document,X=rt&&rt.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Rt=C.textContent.length,St=Math.min(z.start,Rt),me=z.end===void 0?St:Math.min(z.end,Rt);!Q.extend&&St>me&&(w=me,me=St,St=w);var H=zv(C,St),U=zv(C,me);if(H&&U&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var G=rt.createRange();G.setStart(H.node,H.offset),Q.removeAllRanges(),St>me?(Q.addRange(G),Q.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Q.addRange(G))}}}}for(rt=[],Q=C;Q=Q.parentNode;)Q.nodeType===1&&rt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<rt.length;C++){var nt=rt[C];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}ef=!!jg,Lg=jg=null}finally{oe=g,st.p=h,K.T=l}}s.current=a,pn=2}}function tx(){if(pn===2){pn=0;var s=vr,a=Po,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var h=st.p;st.p=2;var g=oe;oe|=4;try{M_(s,a.alternate,a)}finally{oe=g,st.p=h,K.T=l}}pn=3}}function ex(){if(pn===4||pn===3){pn=0,be();var s=vr,a=Po,l=ko,h=F_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,Po=vr=null,nx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(yr=null),un(l),a=a.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(Ee,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=K.T,g=st.p,st.p=2,K.T=null;try{for(var y=s.onRecoverableError,w=0;w<h.length;w++){var C=h[w];y(C.value,{componentStack:C.stack})}}finally{K.T=a,st.p=g}}(ko&3)!==0&&Hh(),Zi(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===wg?yc++:(yc=0,wg=s):yc=0,vc(0)}}function nx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Wl(a)))}function Hh(s){return J_(),tx(),ex(),ix()}function ix(){if(pn!==5)return!1;var s=vr,a=xg;xg=0;var l=un(ko),h=K.T,g=st.p;try{st.p=32>l?32:l,K.T=null,l=Tg,Tg=null;var y=vr,w=ko;if(pn=0,Po=vr=null,ko=0,(oe&6)!==0)throw Error(i(331));var C=oe;if(oe|=4,B_(y.current),j_(y,y.current,w,l),oe=C,vc(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(Ee,y)}catch{}return!0}finally{st.p=g,K.T=h,nx(s,a)}}function sx(s,a,l){a=ui(l,a),a=eg(s.stateNode,a,2),s=lr(s,a,2),s!==null&&(ii(s,2),Zi(s))}function pe(s,a,l){if(s.tag===3)sx(s,s,l);else for(;a!==null;){if(a.tag===3){sx(a,s,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yr===null||!yr.has(h))){s=ui(l,s),l=l_(2),h=lr(a,l,2),h!==null&&(c_(l,h,a,s),ii(h,2),Zi(h));break}}a=a.return}}function Dg(s,a,l){var h=s.pingCache;if(h===null){h=s.pingCache=new $C;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(yg=!0,g.add(l),s=ZC.bind(null,s,a,l),a.then(s,s))}function ZC(s,a,l){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,_e===s&&($t&l)===l&&(Pe===4||Pe===3&&($t&62914560)===$t&&300>Wt()-_g?(oe&2)===0&&Io(s,0):vg|=l,Vo===$t&&(Vo=0)),Zi(s)}function rx(s,a){a===0&&(a=tr()),s=vo(s,a),s!==null&&(ii(s,a),Zi(s))}function JC(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),rx(s,l)}function tR(s,a){var l=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),rx(s,l)}function eR(s,a){return _t(s,a)}var qh=null,Lo=null,Cg=!1,Yh=!1,Rg=!1,Da=0;function Zi(s){s!==Lo&&s.next===null&&(Lo===null?qh=Lo=s:Lo=Lo.next=s),Yh=!0,Cg||(Cg=!0,iR())}function vc(s,a){if(!Rg&&Yh){Rg=!0;do for(var l=!1,h=qh;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var w=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-He(42|s)+1)-1,y&=g&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,cx(h,y))}else y=$t,y=ps(h,h===_e?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ji(h,y)||(l=!0,cx(h,y));h=h.next}while(l);Rg=!1}}function nR(){ax()}function ax(){Yh=Cg=!1;var s=0;Da!==0&&(hR()&&(s=Da),Da=0);for(var a=Wt(),l=null,h=qh;h!==null;){var g=h.next,y=ox(h,a);y===0?(h.next=null,l===null?qh=g:l.next=g,g===null&&(Lo=l)):(l=h,(s!==0||(y&3)!==0)&&(Yh=!0)),h=g}vc(s)}function ox(s,a){for(var l=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-He(y),C=1<<w,z=g[w];z===-1?((C&l)===0||(C&h)!==0)&&(g[w]=ys(C,a)):z<=a&&(s.expiredLanes|=C),y&=~C}if(a=_e,l=$t,l=ps(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===a&&(le===2||le===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&vt(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ji(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(h!==null&&vt(h),un(l)){case 2:case 8:l=Js;break;case 32:l=ds;break;case 268435456:l=ms;break;default:l=ds}return h=lx.bind(null,s),l=_t(l,h),s.callbackPriority=a,s.callbackNode=l,a}return h!==null&&h!==null&&vt(h),s.callbackPriority=2,s.callbackNode=null,2}function lx(s,a){if(pn!==0&&pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Hh()&&s.callbackNode!==l)return null;var h=$t;return h=ps(s,s===_e?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(q_(s,h,a),ox(s,Wt()),s.callbackNode!=null&&s.callbackNode===l?lx.bind(null,s):null)}function cx(s,a){if(Hh())return null;q_(s,a,!0)}function iR(){dR(function(){(oe&6)!==0?_t(Zs,nR):ax()})}function Og(){return Da===0&&(Da=Zr()),Da}function ux(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ro(""+s)}function hx(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function sR(s,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var y=ux((g[Ae]||null).action),w=h.submitter;w&&(a=(a=w[Ae]||null)?ux(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var C=new ao("action","action",null,h,g);s.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Da!==0){var z=w?hx(g,w):new FormData(g);Qm(l,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(C.preventDefault(),z=w?hx(g,w):new FormData(g),Qm(l,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var Mg=0;Mg<gm.length;Mg++){var Ng=gm[Mg],rR=Ng.toLowerCase(),aR=Ng[0].toUpperCase()+Ng.slice(1);Oi(rR,"on"+aR)}Oi(qv,"onAnimationEnd"),Oi(Yv,"onAnimationIteration"),Oi(Gv,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(wC,"onTransitionRun"),Oi(SC,"onTransitionStart"),Oi(EC,"onTransitionCancel"),Oi($v,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function fx(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var w=h.length-1;0<=w;w--){var C=h[w],z=C.instance,$=C.currentTarget;if(C=C.listener,z!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=$;try{y(g)}catch(tt){Nh(tt)}g.currentTarget=null,y=z}else for(w=0;w<h.length;w++){if(C=h[w],z=C.instance,$=C.currentTarget,C=C.listener,z!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=$;try{y(g)}catch(tt){Nh(tt)}g.currentTarget=null,y=z}}}}function Ft(s,a){var l=a[vs];l===void 0&&(l=a[vs]=new Set);var h=s+"__bubble";l.has(h)||(dx(a,s,2,!1),l.add(h))}function Vg(s,a,l){var h=0;a&&(h|=4),dx(l,s,h,a)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Pg(s){if(!s[Gh]){s[Gh]=!0,fn.forEach(function(l){l!=="selectionchange"&&(oR.has(l)||Vg(l,!1,s),Vg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Gh]||(a[Gh]=!0,Vg("selectionchange",!1,a))}}function dx(s,a,l,h){switch(jx(a)){case 2:var g=PR;break;case 8:g=kR;break;default:g=Kg}l=g.bind(null,a,l,s),g=void 0,!li||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function kg(s,a,l,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var C=h.stateNode.containerInfo;if(C===g)break;if(w===4)for(w=h.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;C!==null;){if(w=Di(C),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){h=y=w;continue t}C=C.parentNode}}h=h.return}Ku(function(){var $=y,tt=oi(l),rt=[];t:{var X=Kv.get(s);if(X!==void 0){var Q=ao,Rt=s;switch(s){case"keypress":if(Hi(l)===0)break t;case"keydown":case"keyup":Q=fo;break;case"focusin":Rt="focus",Q=co;break;case"focusout":Rt="blur",Q=co;break;case"beforeblur":case"afterblur":Q=co;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=nh;break;case qv:case Yv:case Gv:Q=uo;break;case $v:Q=sh;break;case"scroll":case"scrollend":Q=Xu;break;case"wheel":Q=mo;break;case"copy":case"cut":case"paste":Q=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hl;break;case"toggle":case"beforetoggle":Q=ah}var St=(a&4)!==0,me=!St&&(s==="scroll"||s==="scrollend"),H=St?X!==null?X+"Capture":null:X;St=[];for(var U=$,G;U!==null;){var nt=U;if(G=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||G===null||H===null||(nt=aa(U,H),nt!=null&&St.push(_c(U,nt,G))),me)break;U=U.return}0<St.length&&(X=new Q(X,Rt,null,l,tt),rt.push({event:X,listeners:St}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==xs&&(Rt=l.relatedTarget||l.fromElement)&&(Di(Rt)||Rt[hn]))break t;if((Q||X)&&(X=tt.window===tt?tt:(X=tt.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Rt=l.relatedTarget||l.toElement,Q=$,Rt=Rt?Di(Rt):null,Rt!==null&&(me=o(Rt),St=Rt.tag,Rt!==me||St!==5&&St!==27&&St!==6)&&(Rt=null)):(Q=null,Rt=$),Q!==Rt)){if(St=ci,nt="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(St=Hl,nt="onPointerLeave",H="onPointerEnter",U="pointer"),me=Q==null?X:Mt(Q),G=Rt==null?X:Mt(Rt),X=new St(nt,U+"leave",Q,l,tt),X.target=me,X.relatedTarget=G,nt=null,Di(tt)===$&&(St=new St(H,U+"enter",Rt,l,tt),St.target=G,St.relatedTarget=me,nt=St),me=nt,Q&&Rt)e:{for(St=Q,H=Rt,U=0,G=St;G;G=zo(G))U++;for(G=0,nt=H;nt;nt=zo(nt))G++;for(;0<U-G;)St=zo(St),U--;for(;0<G-U;)H=zo(H),G--;for(;U--;){if(St===H||H!==null&&St===H.alternate)break e;St=zo(St),H=zo(H)}St=null}else St=null;Q!==null&&mx(rt,X,Q,St,!1),Rt!==null&&me!==null&&mx(rt,me,Rt,St,!0)}}t:{if(X=$?Mt($):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var pt=Vv;else if(Qe(X))if(Pv)pt=_C;else{pt=vC;var zt=yC}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Il($.elementType)&&(pt=Vv):pt=bC;if(pt&&(pt=pt(s,$))){As(rt,pt,l,tt);break t}zt&&zt(s,X,$),s==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&ir(X,"number",X.value)}switch(zt=$?Mt($):window,s){case"focusin":(Qe(zt)||zt.contentEditable==="true")&&(go=zt,fm=$,Gl=null);break;case"focusout":Gl=fm=go=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Fv(rt,l,tt);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":Fv(rt,l,tt)}var xt;if(Gi)t:{switch(s){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Yt?J(s,l)&&(At="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(At="onCompositionStart");At&&(T&&l.locale!=="ko"&&(Yt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Yt&&(xt=Ll()):(Fi=tt,sr="value"in Fi?Fi.value:Fi.textContent,Yt=!0)),zt=$h($,At),0<zt.length&&(At=new Ul(At,s,null,l,tt),rt.push({event:At,listeners:zt}),xt?At.data=xt:(xt=ut(l),xt!==null&&(At.data=xt)))),(xt=b?Xe(s,l):Gt(s,l))&&(At=$h($,"onBeforeInput"),0<At.length&&(zt=new Ul("onBeforeInput","beforeinput",null,l,tt),rt.push({event:zt,listeners:At}),zt.data=xt)),sR(rt,s,$,l,tt)}fx(rt,a)})}function _c(s,a,l){return{instance:s,listener:a,currentTarget:l}}function $h(s,a){for(var l=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=aa(s,l),g!=null&&h.unshift(_c(s,g,y)),g=aa(s,a),g!=null&&h.push(_c(s,g,y))),s.tag===3)return h;s=s.return}return[]}function zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mx(s,a,l,h,g){for(var y=a._reactName,w=[];l!==null&&l!==h;){var C=l,z=C.alternate,$=C.stateNode;if(C=C.tag,z!==null&&z===h)break;C!==5&&C!==26&&C!==27||$===null||(z=$,g?($=aa(l,y),$!=null&&w.unshift(_c(l,$,z))):g||($=aa(l,y),$!=null&&w.push(_c(l,$,z)))),l=l.return}w.length!==0&&s.push({event:a,listeners:w})}var lR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function gx(s){return(typeof s=="string"?s:""+s).replace(lR,`
`).replace(cR,"")}function px(s,a){return a=gx(a),gx(s)===a}function Kh(){}function de(s,a,l,h,g,y){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ai(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ai(s,""+h);break;case"className":Bi(s,"class",h);break;case"tabIndex":Bi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,l,h);break;case"style":kl(s,h,y);break;case"data":if(a!=="object"){Bi(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=ro(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&de(s,a,"name",g.name,g,null),de(s,a,"formEncType",g.formEncType,g,null),de(s,a,"formMethod",g.formMethod,g,null),de(s,a,"formTarget",g.formTarget,g,null)):(de(s,a,"encType",g.encType,g,null),de(s,a,"method",g.method,g,null),de(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=ro(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=Kh);break;case"onScroll":h!=null&&Ft("scroll",s);break;case"onScrollEnd":h!=null&&Ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=ro(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":Ft("beforetoggle",s),Ft("toggle",s),nr(s,"popover",h);break;case"xlinkActuate":dn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":dn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":dn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":dn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":dn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":dn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":dn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":dn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":dn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":nr(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rm.get(l)||l,nr(s,l,h))}}function Ig(s,a,l,h,g,y){switch(l){case"style":kl(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof h=="string"?ai(s,h):(typeof h=="number"||typeof h=="bigint")&&ai(s,""+h);break;case"onScroll":h!=null&&Ft("scroll",s);break;case"onScrollEnd":h!=null&&Ft("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nn.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=s[Ae]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,h,g);break t}l in s?s[l]=h:h===!0?s.setAttribute(l,""):nr(s,l,h)}}}function yn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",s),Ft("load",s);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:de(s,a,y,w,l,null)}}g&&de(s,a,"srcSet",l.srcSet,l,null),h&&de(s,a,"src",l.src,l,null);return;case"input":Ft("invalid",s);var C=y=w=g=null,z=null,$=null;for(h in l)if(l.hasOwnProperty(h)){var tt=l[h];if(tt!=null)switch(h){case"name":g=tt;break;case"type":w=tt;break;case"checked":z=tt;break;case"defaultChecked":$=tt;break;case"value":y=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:de(s,a,h,tt,l,null)}}ia(s,y,C,z,$,w,g,!1),so(s);return;case"select":Ft("invalid",s),h=w=y=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":h=C;default:de(s,a,g,C,l,null)}a=y,l=w,s.multiple=!!h,a!=null?_s(s,!!h,a,!1):l!=null&&_s(s,!!h,l,!0);return;case"textarea":Ft("invalid",s),y=g=h=null;for(w in l)if(l.hasOwnProperty(w)&&(C=l[w],C!=null))switch(w){case"value":h=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:de(s,a,w,C,l,null)}sa(s,h,g,y),so(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(h=l[z],h!=null))switch(z){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:de(s,a,z,h,l,null)}return;case"dialog":Ft("beforetoggle",s),Ft("toggle",s),Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":Ft("load",s);break;case"video":case"audio":for(h=0;h<bc.length;h++)Ft(bc[h],s);break;case"image":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"embed":case"source":case"link":Ft("error",s),Ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(h=l[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:de(s,a,$,h,l,null)}return;default:if(Il(a)){for(tt in l)l.hasOwnProperty(tt)&&(h=l[tt],h!==void 0&&Ig(s,a,tt,h,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(h=l[C],h!=null&&de(s,a,C,h,l,null))}function uR(s,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,C=null,z=null,$=null,tt=null;for(Q in l){var rt=l[Q];if(l.hasOwnProperty(Q)&&rt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":z=rt;default:h.hasOwnProperty(Q)||de(s,a,Q,null,h,rt)}}for(var X in h){var Q=h[X];if(rt=l[X],h.hasOwnProperty(X)&&(Q!=null||rt!=null))switch(X){case"type":y=Q;break;case"name":g=Q;break;case"checked":$=Q;break;case"defaultChecked":tt=Q;break;case"value":w=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==rt&&de(s,a,X,Q,h,rt)}}Kn(s,w,C,z,$,tt,y,g);return;case"select":Q=w=C=X=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":Q=z;default:h.hasOwnProperty(y)||de(s,a,y,null,h,z)}for(g in h)if(y=h[g],z=l[g],h.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":X=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==z&&de(s,a,g,y,h,z)}a=C,l=w,h=Q,X!=null?_s(s,!!l,X,!1):!!h!=!!l&&(a!=null?_s(s,!!l,a,!0):_s(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:de(s,a,C,null,h,g)}for(w in h)if(g=h[w],y=l[w],h.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&de(s,a,w,g,h,y)}he(s,X,Q);return;case"option":for(var Rt in l)if(X=l[Rt],l.hasOwnProperty(Rt)&&X!=null&&!h.hasOwnProperty(Rt))switch(Rt){case"selected":s.selected=!1;break;default:de(s,a,Rt,null,h,X)}for(z in h)if(X=h[z],Q=l[z],h.hasOwnProperty(z)&&X!==Q&&(X!=null||Q!=null))switch(z){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:de(s,a,z,X,h,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in l)X=l[St],l.hasOwnProperty(St)&&X!=null&&!h.hasOwnProperty(St)&&de(s,a,St,null,h,X);for($ in h)if(X=h[$],Q=l[$],h.hasOwnProperty($)&&X!==Q&&(X!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:de(s,a,$,X,h,Q)}return;default:if(Il(a)){for(var me in l)X=l[me],l.hasOwnProperty(me)&&X!==void 0&&!h.hasOwnProperty(me)&&Ig(s,a,me,void 0,h,X);for(tt in h)X=h[tt],Q=l[tt],!h.hasOwnProperty(tt)||X===Q||X===void 0&&Q===void 0||Ig(s,a,tt,X,h,Q);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!h.hasOwnProperty(H)&&de(s,a,H,null,h,X);for(rt in h)X=h[rt],Q=l[rt],!h.hasOwnProperty(rt)||X===Q||X==null&&Q==null||de(s,a,rt,X,h,Q)}var jg=null,Lg=null;function Xh(s){return s.nodeType===9?s:s.ownerDocument}function yx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function zg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bg=null;function hR(){var s=window.event;return s&&s.type==="popstate"?s===Bg?!1:(Bg=s,!0):(Bg=null,!1)}var bx=typeof setTimeout=="function"?setTimeout:void 0,fR=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(s){return _x.resolve(null).then(s).catch(mR)}:bx;function mR(s){setTimeout(function(){throw s})}function _r(s){return s==="head"}function xx(s,a){var l=a,h=0,g=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var w=s.ownerDocument;if(l&1&&xc(w.documentElement),l&2&&xc(w.body),l&4)for(l=w.head,xc(l),w=l.firstChild;w;){var C=w.nextSibling,z=w.nodeName;w[Ei]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=C}}if(g===0){s.removeChild(y),Rc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);Rc(a)}function Ug(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ug(l),Ai(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function gR(s,a,l,h){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ei])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ni(s.nextSibling),s===null)break}return null}function pR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ni(s.nextSibling),s===null))return null;return s}function Fg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function yR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Hg=null;function Tx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function wx(s,a,l){switch(a=Xh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function xc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ai(s)}var pi=new Map,Sx=new Set;function Qh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=st.d;st.d={f:vR,r:bR,D:_R,C:xR,L:TR,m:wR,X:ER,S:SR,M:AR};function vR(){var s=zs.f(),a=Uh();return s||a}function bR(s){var a=ri(s);a!==null&&a.tag===5&&a.type==="form"?qb(a):zs.r(s)}var Bo=typeof document>"u"?null:document;function Ex(s,a,l){var h=Bo;if(h&&typeof a=="string"&&a){var g=Ye(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Sx.has(g)||(Sx.add(g),s={rel:s,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),yn(a,"link",s),Pt(a),h.head.appendChild(a)))}}function _R(s){zs.D(s),Ex("dns-prefetch",s,null)}function xR(s,a){zs.C(s,a),Ex("preconnect",s,a)}function TR(s,a,l){zs.L(s,a,l);var h=Bo;if(h&&s&&a){var g='link[rel="preload"][as="'+Ye(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ye(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ye(l.imageSizes)+'"]')):g+='[href="'+Ye(s)+'"]';var y=g;switch(a){case"style":y=Uo(s);break;case"script":y=Fo(s)}pi.has(y)||(s=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),pi.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(Tc(y))||a==="script"&&h.querySelector(wc(y))||(a=h.createElement("link"),yn(a,"link",s),Pt(a),h.head.appendChild(a)))}}function wR(s,a){zs.m(s,a);var l=Bo;if(l&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ye(h)+'"][href="'+Ye(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fo(s)}if(!pi.has(y)&&(s=p({rel:"modulepreload",href:s},a),pi.set(y,s),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wc(y)))return}h=l.createElement("link"),yn(h,"link",s),Pt(h),l.head.appendChild(h)}}}function SR(s,a,l){zs.S(s,a,l);var h=Bo;if(h&&s){var g=Lt(h).hoistableStyles,y=Uo(s);a=a||"default";var w=g.get(y);if(!w){var C={loading:0,preload:null};if(w=h.querySelector(Tc(y)))C.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},l),(l=pi.get(y))&&qg(s,l);var z=w=h.createElement("link");Pt(z),yn(z,"link",s),z._p=new Promise(function($,tt){z.onload=$,z.onerror=tt}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Wh(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:C},g.set(y,w)}}}function ER(s,a){zs.X(s,a);var l=Bo;if(l&&s){var h=Lt(l).hoistableScripts,g=Fo(s),y=h.get(g);y||(y=l.querySelector(wc(g)),y||(s=p({src:s,async:!0},a),(a=pi.get(g))&&Yg(s,a),y=l.createElement("script"),Pt(y),yn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function AR(s,a){zs.M(s,a);var l=Bo;if(l&&s){var h=Lt(l).hoistableScripts,g=Fo(s),y=h.get(g);y||(y=l.querySelector(wc(g)),y||(s=p({src:s,async:!0,type:"module"},a),(a=pi.get(g))&&Yg(s,a),y=l.createElement("script"),Pt(y),yn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Ax(s,a,l,h){var g=(g=yt.current)?Qh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Uo(l.href),l=Lt(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Uo(l.href);var y=Lt(g).hoistableStyles,w=y.get(s);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=g.querySelector(Tc(s)))&&!y._p&&(w.instance=y,w.state.loading=5),pi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pi.set(s,l),y||DR(g,s,l,w.state))),a&&h===null)throw Error(i(528,""));return w}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(l),l=Lt(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Uo(s){return'href="'+Ye(s)+'"'}function Tc(s){return'link[rel="stylesheet"]['+s+"]"}function Dx(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function DR(s,a,l,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),yn(a,"link",l),Pt(a),s.head.appendChild(a))}function Fo(s){return'[src="'+Ye(s)+'"]'}function wc(s){return"script[async]"+s}function Cx(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Ye(l.href)+'"]');if(h)return a.instance=h,Pt(h),h;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Pt(h),yn(h,"style",g),Wh(h,l.precedence,s),a.instance=h;case"stylesheet":g=Uo(l.href);var y=s.querySelector(Tc(g));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;h=Dx(l),(g=pi.get(g))&&qg(h,g),y=(s.ownerDocument||s).createElement("link"),Pt(y);var w=y;return w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),yn(y,"link",h),a.state.loading|=4,Wh(y,l.precedence,s),a.instance=y;case"script":return y=Fo(l.src),(g=s.querySelector(wc(y)))?(a.instance=g,Pt(g),g):(h=l,(g=pi.get(y))&&(h=p({},l),Yg(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Pt(g),yn(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Wh(h,l.precedence,s));return a.instance}function Wh(s,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,w=0;w<h.length;w++){var C=h[w];if(C.dataset.precedence===a)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function qg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Yg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Zh=null;function Rx(s,a,l){if(Zh===null){var h=new Map,g=Zh=new Map;g.set(l,h)}else g=Zh,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[Ei]||y[Ne]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=s+w;var C=h.get(w);C?C.push(y):h.set(w,[y])}}return h}function Ox(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function CR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Sc=null;function RR(){}function OR(s,a,l){if(Sc===null)throw Error(i(475));var h=Sc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Uo(l.href),y=s.querySelector(Tc(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Jh.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,l=Dx(l),(g=pi.get(g))&&qg(l,g),y=y.createElement("link"),Pt(y);var w=y;w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),yn(y,"link",l),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Jh.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function MR(){if(Sc===null)throw Error(i(475));var s=Sc;return s.stylesheets&&s.count===0&&Gg(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Gg(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)Gg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tf=null;function Gg(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tf=new Map,a.forEach(NR,s),tf=null,Jh.call(s))}function NR(s,a){if(!(a.state.loading&4)){var l=tf.get(s);if(l)var h=l.get(null);else{l=new Map,tf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),h=w)}h&&l.set(null,h)}g=a.instance,w=g.getAttribute("data-precedence"),y=l.get(w)||h,y===h&&l.set(null,g),l.set(w,g),this.count++,h=Jh.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Ec={$$typeof:F,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function VR(s,a,l,h,g,y,w,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Nx(s,a,l,h,g,y,w,C,z,$,tt,rt){return s=new VR(s,a,l,w,C,z,$,rt),a=1,y===!0&&(a|=24),y=Qn(3,null,null,a),s.current=y,y.stateNode=s,a=Dm(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:a},Mm(y),s}function Vx(s){return s?(s=bo,s):bo}function Px(s,a,l,h,g,y){g=Vx(g),h.context===null?h.context=g:h.pendingContext=g,h=or(a),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=lr(s,h,a),l!==null&&(ei(l,s,a),ec(l,s,a))}function kx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function $g(s,a){kx(s,a),(s=s.alternate)&&kx(s,a)}function Ix(s){if(s.tag===13){var a=vo(s,67108864);a!==null&&ei(a,s,67108864),$g(s,67108864)}}var ef=!0;function PR(s,a,l,h){var g=K.T;K.T=null;var y=st.p;try{st.p=2,Kg(s,a,l,h)}finally{st.p=y,K.T=g}}function kR(s,a,l,h){var g=K.T;K.T=null;var y=st.p;try{st.p=8,Kg(s,a,l,h)}finally{st.p=y,K.T=g}}function Kg(s,a,l,h){if(ef){var g=Xg(h);if(g===null)kg(s,a,h,nf,l),Lx(s,h);else if(jR(g,s,a,l,h))h.stopPropagation();else if(Lx(s,h),a&4&&-1<IR.indexOf(s)){for(;g!==null;){var y=ri(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=$n(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var z=1<<31-He(w);C.entanglements[1]|=z,w&=~z}Zi(y),(oe&6)===0&&(zh=Wt()+500,vc(0))}}break;case 13:C=vo(y,2),C!==null&&ei(C,y,2),Uh(),$g(y,2)}if(y=Xg(h),y===null&&kg(s,a,h,nf,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else kg(s,a,h,null,l)}}function Xg(s){return s=oi(s),Qg(s)}var nf=null;function Qg(s){if(nf=null,s=Di(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return nf=s,null}function jx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ws()){case Zs:return 2;case Js:return 8;case ds:case Ml:return 32;case ms:return 268435456;default:return 32}default:return 32}}var Wg=!1,xr=null,Tr=null,wr=null,Ac=new Map,Dc=new Map,Sr=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lx(s,a){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(a.pointerId)}}function Cc(s,a,l,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ri(a),a!==null&&Ix(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function jR(s,a,l,h,g){switch(a){case"focusin":return xr=Cc(xr,s,a,l,h,g),!0;case"dragenter":return Tr=Cc(Tr,s,a,l,h,g),!0;case"mouseover":return wr=Cc(wr,s,a,l,h,g),!0;case"pointerover":var y=g.pointerId;return Ac.set(y,Cc(Ac.get(y)||null,s,a,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Dc.set(y,Cc(Dc.get(y)||null,s,a,l,h,g)),!0}return!1}function zx(s){var a=Di(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,er(s.priority,function(){if(l.tag===13){var h=ti();h=te(h);var g=vo(l,h);g!==null&&ei(g,l,h),$g(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function sf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Xg(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);xs=h,l.target.dispatchEvent(h),xs=null}else return a=ri(l),a!==null&&Ix(a),s.blockedOn=l,!1;a.shift()}return!0}function Bx(s,a,l){sf(s)&&l.delete(a)}function LR(){Wg=!1,xr!==null&&sf(xr)&&(xr=null),Tr!==null&&sf(Tr)&&(Tr=null),wr!==null&&sf(wr)&&(wr=null),Ac.forEach(Bx),Dc.forEach(Bx)}function rf(s,a){s.blockedOn===a&&(s.blockedOn=null,Wg||(Wg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LR)))}var af=null;function Ux(s){af!==s&&(af=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){af===s&&(af=null);for(var a=0;a<s.length;a+=3){var l=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(Qg(h||l)===null)continue;break}var y=ri(l);y!==null&&(s.splice(a,3),a-=3,Qm(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Rc(s){function a(z){return rf(z,s)}xr!==null&&rf(xr,s),Tr!==null&&rf(Tr,s),wr!==null&&rf(wr,s),Ac.forEach(a),Dc.forEach(a);for(var l=0;l<Sr.length;l++){var h=Sr[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Sr.length&&(l=Sr[0],l.blockedOn===null);)zx(l),l.blockedOn===null&&Sr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],w=g[Ae]||null;if(typeof y=="function")w||Ux(l);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[Ae]||null)C=w.formAction;else if(Qg(g)!==null)continue}else C=w.action;typeof C=="function"?l[h+1]=C:(l.splice(h,3),h-=3),Ux(l)}}}function Zg(s){this._internalRoot=s}of.prototype.render=Zg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=ti();Px(l,h,s,a,null,null)},of.prototype.unmount=Zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Px(s.current,2,null,s,null,null),Uh(),a[hn]=null}};function of(s){this._internalRoot=s}of.prototype.unstable_scheduleHydration=function(s){if(s){var a=zi();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Sr.length&&a!==0&&a<Sr[l].priority;l++);Sr.splice(l,0,s),l===0&&zx(s)}};var Fx=t.version;if(Fx!=="19.1.0")throw Error(i(527,Fx,"19.1.0"));st.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var zR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Ee=lf.inject(zR),ie=lf}catch{}}return Mc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,h="",g=s_,y=r_,w=a_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=Nx(s,1,!1,null,null,l,h,g,y,w,C,null),s[hn]=a.current,Pg(s),new Zg(a)},Mc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var h=!1,g="",y=s_,w=r_,C=a_,z=null,$=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&($=l.formState)),a=Nx(s,1,!0,a,l??null,h,g,y,w,C,z,$),a.context=Vx(null),l=a.current,h=ti(),h=te(h),g=or(h),g.callback=null,lr(l,g,h),l=h,a.current.lanes=l,ii(a,l),Zi(a),s[hn]=a.current,Pg(s),new of(a)},Mc.version="19.1.0",Mc}var Zx;function WR(){if(Zx)return ep.exports;Zx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=QR(),ep.exports}var ZR=WR();const s0=it.createContext({});function r0(e){const t=it.useRef(null);return t.current===null&&(t.current=e()),t.current}const a0=typeof window<"u",r2=a0?it.useLayoutEffect:it.useEffect,Od=it.createContext(null),o0=it.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class JR extends it.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tO({children:e,isPresent:t,anchorX:n}){const i=it.useId(),r=it.useRef(null),o=it.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=it.useContext(o0);return it.useInsertionEffect(()=>{const{width:u,height:f,top:d,left:p,right:v}=o.current;if(t||!r.current||!u||!f)return;const _=n==="left"?`left: ${p}`:`right: ${v}`;r.current.dataset.motionPopId=i;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),S.jsx(JR,{isPresent:t,childRef:r,sizeRef:o,children:it.cloneElement(e,{ref:r})})}const eO=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c,anchorX:u})=>{const f=r0(nO),d=it.useId(),p=it.useCallback(_=>{f.set(_,!0);for(const x of f.values())if(!x)return;i&&i()},[f,i]),v=it.useMemo(()=>({id:d,initial:t,isPresent:n,custom:r,onExitComplete:p,register:_=>(f.set(_,!1),()=>f.delete(_))}),o?[Math.random(),p]:[n,p]);return it.useMemo(()=>{f.forEach((_,x)=>f.set(x,!1))},[n]),it.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(e=S.jsx(tO,{isPresent:n,anchorX:u,children:e})),S.jsx(Od.Provider,{value:v,children:e})};function nO(){return new Map}function a2(e=!0){const t=it.useContext(Od);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,o=it.useId();it.useEffect(()=>{if(e)return r(o)},[e]);const c=it.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,c]:[!0]}const cf=e=>e.key||"";function Jx(e){const t=[];return it.Children.forEach(e,n=>{it.isValidElement(n)&&t.push(n)}),t}const uf=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:c=!1,anchorX:u="left"})=>{const[f,d]=a2(c),p=it.useMemo(()=>Jx(e),[e]),v=c&&!f?[]:p.map(cf),_=it.useRef(!0),x=it.useRef(p),E=r0(()=>new Map),[R,A]=it.useState(p),[V,B]=it.useState(p);r2(()=>{_.current=!1,x.current=p;for(let q=0;q<V.length;q++){const Z=cf(V[q]);v.includes(Z)?E.delete(Z):E.get(Z)!==!0&&E.set(Z,!1)}},[V,v.length,v.join("-")]);const F=[];if(p!==R){let q=[...p];for(let Z=0;Z<V.length;Z++){const P=V[Z],D=cf(P);v.includes(D)||(q.splice(Z,0,P),F.push(P))}return o==="wait"&&F.length&&(q=F),B(Jx(q)),A(p),null}const{forceRender:W}=it.useContext(s0);return S.jsx(S.Fragment,{children:V.map(q=>{const Z=cf(q),P=c&&!f?!1:p===V||v.includes(Z),D=()=>{if(E.has(Z))E.set(Z,!0);else return;let M=!0;E.forEach(I=>{I||(M=!1)}),M&&(W==null||W(),B(x.current),c&&(d==null||d()),i&&i())};return S.jsx(eO,{isPresent:P,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,onExitComplete:P?void 0:D,anchorX:u,children:q},Z)})})};function l0(e,t){e.indexOf(t)===-1&&e.push(t)}function c0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let o2=()=>{};const iO={useManualTiming:!1};function u0(e){let t;return()=>(t===void 0&&(t=e()),t)}const xi=e=>e,ou=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class h0{constructor(){this.subscriptions=[]}add(t){return l0(this.subscriptions,t),()=>c0(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=e=>e*1e3,os=e=>e/1e3;function l2(e,t){return t?e*(1e3/t):0}const sO=u0(()=>window.ScrollTimeline!==void 0);class rO{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(sO()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aO extends rO{then(t,n){return this.finished.finally(t).then(()=>{})}}const t1={value:null},f0=e=>Array.isArray(e)&&typeof e[0]=="number",oO={};function lO(e,t){const n=u0(e);return()=>oO[t]??n()}const lu=lO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c2=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=e(o/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Lc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Yp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function u2(e,t){if(e)return typeof e=="function"&&lu()?c2(e,t):f0(e)?Lc(e):Array.isArray(e)?e.map(n=>u2(n,t)||Yp.easeOut):Yp[e]}function cO(e,t,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:u="easeInOut",times:f}={},d=void 0){const p={[t]:n};f&&(p.offset=f);const v=u2(u,r);return Array.isArray(v)&&(p.easing=v),e.animate(p,{delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:d})}function d0(e){return typeof e=="function"&&"applyToOptions"in e}function m0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Qf=2e4;function g0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Qf;)t+=n,i=e.next(t);return t>=Qf?1/0:t}function uO(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(g0(i),Qf);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:os(r)}}function h2(e){return!!(typeof e=="function"&&lu()||!e||typeof e=="string"&&(e in Yp||lu())||f0(e)||Array.isArray(e)&&e.every(h2))}function e1(e,t){e.timeline=t,e.onfinish=null}const hf=["read","resolveKeyframes","update","preRender","render","postRender"];function hO(e,t){let n=new Set,i=new Set,r=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function d(v){c.has(v)&&(p.schedule(v),e()),f++,v(u)}const p={schedule:(v,_=!1,x=!1)=>{const R=x&&r?n:i;return _&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(u=v,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),t&&t1.value&&t1.value.frameloop[t].push(f),f=0,n.clear(),r=!1,o&&(o=!1,p.process(v))}};return p}const fO=40;function f2(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=hf.reduce((V,B)=>(V[B]=hO(o,t?B:void 0),V),{}),{read:u,resolveKeyframes:f,update:d,preRender:p,render:v,postRender:_}=c,x=()=>{const V=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(V-r.timestamp,fO),1),r.timestamp=V,r.isProcessing=!0,u.process(r),f.process(r),d.process(r),p.process(r),v.process(r),_.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(x))},E=()=>{n=!0,i=!0,r.isProcessing||e(x)};return{schedule:hf.reduce((V,B)=>{const F=c[B];return V[B]=(W,q=!1,Z=!1)=>(n||E(),F.schedule(W,q,Z)),V},{}),cancel:V=>{for(let B=0;B<hf.length;B++)c[hf[B]].cancel(V)},state:r,steps:c}}const{schedule:xe,cancel:Lr,state:vn,steps:rp}=f2(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0),{schedule:p0}=f2(queueMicrotask,!1);let jf;function dO(){jf=void 0}const ls={now:()=>(jf===void 0&&ls.set(vn.isProcessing||iO.useManualTiming?vn.timestamp:performance.now()),jf),set:e=>{jf=e,queueMicrotask(dO)}},Vi={x:!1,y:!1};function d2(){return Vi.x||Vi.y}function mO(e){return e==="x"||e==="y"?Vi[e]?null:(Vi[e]=!0,()=>{Vi[e]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function gO(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}function m2(e,t){const n=gO(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function n1(e){return!(e.pointerType==="touch"||d2())}function pO(e,t,n={}){const[i,r,o]=m2(e,n),c=u=>{if(!n1(u))return;const{target:f}=u,d=t(f,u);if(typeof d!="function"||!f)return;const p=v=>{n1(v)&&(d(v),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,r)};return i.forEach(u=>{u.addEventListener("pointerenter",c,r)}),o}const g2=(e,t)=>t?e===t?!0:g2(e,t.parentElement):!1,y0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vO(e){return yO.has(e.tagName)||e.tabIndex!==-1}const zc=new WeakSet;function i1(e){return t=>{t.key==="Enter"&&e(t)}}function ap(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bO=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=i1(()=>{if(zc.has(n))return;ap(n,"down");const r=i1(()=>{ap(n,"up")}),o=()=>ap(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function s1(e){return y0(e)&&!d2()}function _O(e,t,n={}){const[i,r,o]=m2(e,n),c=u=>{const f=u.currentTarget;if(!s1(u)||zc.has(f))return;zc.add(f);const d=t(f,u),p=(x,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!s1(x)||!zc.has(f))&&(zc.delete(f),typeof d=="function"&&d(x,{success:E}))},v=x=>{p(x,f===window||f===document||n.useGlobalTarget||g2(f,x.target))},_=x=>{p(x,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",_,r)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),u instanceof HTMLElement&&(u.addEventListener("focus",d=>bO(d,r)),!vO(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}const r1=30,xO=e=>!isNaN(parseFloat(e));class TO{constructor(t,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=ls.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ls.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new h0);const i=this.events[t].add(n);return t==="change"?()=>{i(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>r1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,r1);return l2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cu(e,t){return new TO(e,t)}const p2=it.createContext({strict:!1}),a1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const e in a1)ll[e]={isEnabled:t=>a1[e].some(n=>!!t[n])};function wO(e){for(const t in e)ll[t]={...ll[t],...e[t]}}const SO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SO.has(e)}let y2=e=>!Wf(e);function EO(e){e&&(y2=t=>t.startsWith("on")?!Wf(t):e(t))}try{EO(require("@emotion/is-prop-valid").default)}catch{}function AO(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(y2(r)||n===!0&&Wf(r)||!t&&!Wf(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function DO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Md=it.createContext({});function Nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function uu(e){return typeof e=="string"||Array.isArray(e)}const v0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b0=["initial",...v0];function Vd(e){return Nd(e.animate)||b0.some(t=>uu(e[t]))}function v2(e){return!!(Vd(e)||e.variants)}function CO(e,t){if(Vd(e)){const{initial:n,animate:i}=e;return{initial:n===!1||uu(n)?n:void 0,animate:uu(i)?i:void 0}}return e.inherit!==!1?t:{}}function RO(e){const{initial:t,animate:n}=CO(e,it.useContext(Md));return it.useMemo(()=>({initial:t,animate:n}),[o1(t),o1(n)])}function o1(e){return Array.isArray(e)?e.join(" "):e}const OO=Symbol.for("motionComponentSymbol");function Ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function MO(e,t,n){return it.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Ko(n)&&(n.current=i))},[t])}const _0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NO="framerAppearId",b2="data-"+_0(NO),_2=it.createContext({});function VO(e,t,n,i,r){var R,A;const{visualElement:o}=it.useContext(Md),c=it.useContext(p2),u=it.useContext(Od),f=it.useContext(o0).reducedMotion,d=it.useRef(null);i=i||c.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,v=it.useContext(_2);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&PO(d.current,n,r,v);const _=it.useRef(!1);it.useInsertionEffect(()=>{p&&_.current&&p.update(n,u)});const x=n[b2],E=it.useRef(!!x&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,x))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,x)));return r2(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p0.render(p.render),E.current&&p.animationState&&p.animationState.animateChanges())}),it.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,x)}),E.current=!1))}),p}function PO(e,t,n,i){const{layoutId:r,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:x2(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||u&&Ko(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:d})}function x2(e){if(e)return e.options.allowProjection!==!1?e.projection:x2(e.parent)}function kO({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){e&&wO(e);function o(u,f){let d;const p={...it.useContext(o0),...u,layoutId:IO(u)},{isStatic:v}=p,_=RO(u),x=i(u,v);if(!v&&a0){jO();const E=LO(p);d=E.MeasureLayout,_.visualElement=VO(r,x,p,t,E.ProjectionNode)}return S.jsxs(Md.Provider,{value:_,children:[d&&_.visualElement?S.jsx(d,{visualElement:_.visualElement,...p}):null,n(r,u,MO(x,_.visualElement,f),x,v,_.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=it.forwardRef(o);return c[OO]=r,c}function IO({layoutId:e}){const t=it.useContext(s0).id;return t&&e!==void 0?t+"-"+e:e}function jO(e,t){it.useContext(p2).strict}function LO(e){const{drag:t,layout:n}=ll;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const T2=e=>t=>typeof t=="string"&&t.startsWith(e),x0=T2("--"),zO=T2("var(--"),T0=e=>zO(e)?BO.test(e.split("/*")[0].trim()):!1,BO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hu={};function UO(e){for(const t in e)hu[t]=e[t],x0(t)&&(hu[t].isCSSVariable=!0)}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$a=new Set(bl);function w2(e,{layout:t,layoutId:n}){return $a.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!hu[e]||e==="opacity")}const Rn=e=>!!(e&&e.getVelocity),S2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$s=(e,t,n)=>n>t?t:n<e?e:n,_l={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fu={..._l,transform:e=>$s(0,1,e)},ff={..._l,default:1},Ru=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Dr=Ru("deg"),cs=Ru("%"),Dt=Ru("px"),FO=Ru("vh"),HO=Ru("vw"),l1={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},qO={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt},YO={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:ff,scaleX:ff,scaleY:ff,scaleZ:ff,skew:Dr,skewX:Dr,skewY:Dr,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:fu,originX:l1,originY:l1,originZ:Dt},c1={..._l,transform:Math.round},w0={...qO,...YO,zIndex:c1,size:Dt,fillOpacity:fu,strokeOpacity:fu,numOctaves:c1},GO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$O=bl.length;function KO(e,t,n){let i="",r=!0;for(let o=0;o<$O;o++){const c=bl[o],u=e[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const d=S2(u,w0[c]);if(!f){r=!1;const p=GO[c]||c;i+=`${p}(${d}) `}n&&(t[c]=d)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function S0(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let c=!1,u=!1;for(const f in t){const d=t[f];if($a.has(f)){c=!0;continue}else if(x0(f)){r[f]=d;continue}else{const p=S2(d,w0[f]);f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}}if(t.transform||(c||n?i.transform=KO(t,e.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${d} ${p}`}}const E0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E2(e,t,n){for(const i in t)!Rn(t[i])&&!w2(i,n)&&(e[i]=t[i])}function XO({transformTemplate:e},t){return it.useMemo(()=>{const n=E0();return S0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function QO(e,t){const n=e.style||{},i={};return E2(i,n,e),Object.assign(i,XO(e,t)),i}function WO(e,t){const n={},i=QO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const ZO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(e){return typeof e!="string"||e.includes("-")?!1:!!(ZO.indexOf(e)>-1||/[A-Z]/u.test(e))}const JO={offset:"stroke-dashoffset",array:"stroke-dasharray"},tM={offset:"strokeDashoffset",array:"strokeDasharray"};function eM(e,t,n=1,i=0,r=!0){e.pathLength=1;const o=r?JO:tM;e[o.offset]=Dt.transform(-i);const c=Dt.transform(t),u=Dt.transform(n);e[o.array]=`${c} ${u}`}function u1(e,t,n){return typeof e=="string"?e:Dt.transform(t+n*e)}function nM(e,t,n){const i=u1(t,e.x,e.width),r=u1(n,e.y,e.height);return`${i} ${r}`}function D0(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:o,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...d},p,v){if(S0(e,d,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:x,dimensions:E}=e;_.transform&&(E&&(x.transform=_.transform),delete _.transform),E&&(r!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=nM(E,r!==void 0?r:.5,o!==void 0?o:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),c!==void 0&&eM(_,c,u,f,!1)}const A2=()=>({...E0(),attrs:{}}),C0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iM(e,t,n,i){const r=it.useMemo(()=>{const o=A2();return D0(o,t,C0(i),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};E2(o,e.style,e),r.style={...o,...r.style}}return r}function sM(e=!1){return(n,i,r,{latestValues:o},c)=>{const f=(A0(n)?iM:WO)(i,o,c,n),d=AO(i,typeof n=="string",e),p=n!==it.Fragment?{...d,...f,ref:r}:{},{children:v}=i,_=it.useMemo(()=>Rn(v)?v.get():v,[v]);return it.createElement(n,{...p,children:_})}}function h1(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function R0(e,t,n,i){if(typeof t=="function"){const[r,o]=h1(i);t=t(n!==void 0?n:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=h1(i);t=t(n!==void 0?n:e.custom,r,o)}return t}const Gp=e=>Array.isArray(e),rM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aM=e=>Gp(e)?e[e.length-1]||0:e;function Lf(e){const t=Rn(e)?e.get():e;return rM(t)?t.toValue():t}function oM({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,o){const c={latestValues:lM(i,r,o,e),renderState:t()};return n&&(c.onMount=u=>n({props:i,current:u,...c}),c.onUpdate=u=>n(u)),c}const D2=e=>(t,n)=>{const i=it.useContext(Md),r=it.useContext(Od),o=()=>oM(e,t,i,r);return n?o():r0(o)};function lM(e,t,n,i){const r={},o=i(e,{});for(const _ in o)r[_]=Lf(o[_]);let{initial:c,animate:u}=e;const f=Vd(e),d=v2(e);t&&d&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const v=p?u:c;if(v&&typeof v!="boolean"&&!Nd(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const E=R0(e,_[x]);if(E){const{transitionEnd:R,transition:A,...V}=E;for(const B in V){let F=V[B];if(Array.isArray(F)){const W=p?F.length-1:0;F=F[W]}F!==null&&(r[B]=F)}for(const B in R)r[B]=R[B]}}}return r}function O0(e,t,n){var o;const{style:i}=e,r={};for(const c in i)(Rn(i[c])||t.style&&Rn(t.style[c])||w2(c,e)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(r[c]=i[c]);return r}const cM={useVisualState:D2({scrapeMotionValuesFromProps:O0,createRenderState:E0})};function C2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function R2(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}const O2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M2(e,t,n,i){R2(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(O2.has(r)?r:_0(r),t.attrs[r])}function N2(e,t,n){const i=O0(e,t,n);for(const r in e)if(Rn(e[r])||Rn(t[r])){const o=bl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=e[r]}return i}const f1=["x","y","width","height","cx","cy","r"],uM={useVisualState:D2({scrapeMotionValuesFromProps:N2,createRenderState:A2,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!e.drag;if(!o){for(const u in r)if($a.has(u)){o=!0;break}}if(!o)return;let c=!t;if(t)for(let u=0;u<f1.length;u++){const f=f1[u];e[f]!==t[f]&&(c=!0)}c&&xe.read(()=>{C2(n,i),xe.render(()=>{D0(i,r,C0(n.tagName),e.transformTemplate),M2(n,i)})})}})};function hM(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...A0(i)?uM:cM,preloadedFeatures:e,useRender:sM(r),createVisualElement:t,Component:i};return kO(c)}}function du(e,t,n){const i=e.getProps();return R0(i,t,n!==void 0?n:i.custom,e)}const V2=new Set(["width","height","top","left","right","bottom",...bl]);function fM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cu(n))}function dM(e,t){const n=du(e,t);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const c in o){const u=aM(o[c]);fM(e,c,u)}}function mM(e){return!!(Rn(e)&&e.add)}function $p(e,t){const n=e.getValue("willChange");if(mM(n))return n.add(t)}function P2(e){return e.props[b2]}const k2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gM=1e-7,pM=12;function yM(e,t,n,i,r){let o,c,u=0;do c=t+(n-t)/2,o=k2(c,i,r)-e,o>0?n=c:t=c;while(Math.abs(o)>gM&&++u<pM);return c}function Ou(e,t,n,i){if(e===t&&n===i)return xi;const r=o=>yM(o,0,1,e,n);return o=>o===0||o===1?o:k2(r(o),t,i)}const I2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j2=e=>t=>1-e(1-t),L2=Ou(.33,1.53,.69,.99),M0=j2(L2),z2=I2(M0),B2=e=>(e*=2)<1?.5*M0(e):.5*(2-Math.pow(2,-10*(e-1))),N0=e=>1-Math.sin(Math.acos(e)),U2=j2(N0),F2=I2(N0),H2=e=>/^0[^.\s]+$/u.test(e);function vM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||H2(e):!0}const Kc=e=>Math.round(e*1e5)/1e5,V0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bM(e){return e==null}const _M=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P0=(e,t)=>n=>!!(typeof n=="string"&&_M.test(n)&&n.startsWith(e)||t&&!bM(n)&&Object.prototype.hasOwnProperty.call(n,t)),q2=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,o,c,u]=i.match(V0);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},xM=e=>$s(0,255,e),op={..._l,transform:e=>Math.round(xM(e))},Ia={test:P0("rgb","red"),parse:q2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+op.transform(e)+", "+op.transform(t)+", "+op.transform(n)+", "+Kc(fu.transform(i))+")"};function TM(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Kp={test:P0("#"),parse:TM,transform:Ia.transform},Xo={test:P0("hsl","hue"),parse:q2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+cs.transform(Kc(t))+", "+cs.transform(Kc(n))+", "+Kc(fu.transform(i))+")"},An={test:e=>Ia.test(e)||Kp.test(e)||Xo.test(e),parse:e=>Ia.test(e)?Ia.parse(e):Xo.test(e)?Xo.parse(e):Kp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ia.transform(e):Xo.transform(e)},wM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(V0))==null?void 0:t.length)||0)+(((n=e.match(wM))==null?void 0:n.length)||0)>0}const Y2="number",G2="color",EM="var",AM="var(",d1="${}",DM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(DM,f=>(An.test(f)?(i.color.push(o),r.push(G2),n.push(An.parse(f))):f.startsWith(AM)?(i.var.push(o),r.push(EM),n.push(f)):(i.number.push(o),r.push(Y2),n.push(parseFloat(f))),++o,d1)).split(d1);return{values:n,split:u,indexes:i,types:r}}function $2(e){return mu(e).values}function K2(e){const{split:t,types:n}=mu(e),i=t.length;return r=>{let o="";for(let c=0;c<i;c++)if(o+=t[c],r[c]!==void 0){const u=n[c];u===Y2?o+=Kc(r[c]):u===G2?o+=An.transform(r[c]):o+=r[c]}return o}}const CM=e=>typeof e=="number"?0:e;function RM(e){const t=$2(e);return K2(e)(t.map(CM))}const zr={test:SM,parse:$2,createTransformer:K2,getAnimatableNone:RM},OM=new Set(["brightness","contrast","saturate","opacity"]);function MM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(V0)||[];if(!i)return e;const r=n.replace(i,"");let o=OM.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const NM=/\b([a-z-]*)\(.*?\)/gu,Xp={...zr,getAnimatableNone:e=>{const t=e.match(NM);return t?t.map(MM).join(" "):e}},VM={...w0,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:Xp,WebkitFilter:Xp},X2=e=>VM[e];function Q2(e,t){let n=X2(e);return n!==Xp&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const PM=new Set(["auto","none","0"]);function kM(e,t,n){let i=0,r;for(;i<e.length&&!r;){const o=e[i];typeof o=="string"&&!PM.has(o)&&mu(o).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=Q2(n,r)}const ja=e=>e*180/Math.PI,Qp=e=>{const t=ja(Math.atan2(e[1],e[0]));return Wp(t)},IM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qp,rotateZ:Qp,skewX:e=>ja(Math.atan(e[1])),skewY:e=>ja(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wp=e=>(e=e%360,e<0&&(e+=360),e),m1=Qp,g1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),p1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),jM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g1,scaleY:p1,scale:e=>(g1(e)+p1(e))/2,rotateX:e=>Wp(ja(Math.atan2(e[6],e[5]))),rotateY:e=>Wp(ja(Math.atan2(-e[2],e[0]))),rotateZ:m1,rotate:m1,skewX:e=>ja(Math.atan(e[4])),skewY:e=>ja(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function y1(e){return e.includes("scale")?1:0}function Zp(e,t){if(!e||e==="none")return y1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=jM,r=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=IM,r=u}if(!r)return y1(t);const o=i[t],c=r[1].split(",").map(zM);return typeof o=="function"?o(c):c[o]}const LM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Zp(n,t)};function zM(e){return parseFloat(e.trim())}const v1=e=>e===_l||e===Dt,BM=new Set(["x","y","z"]),UM=bl.filter(e=>!BM.has(e));function FM(e){const t=[];return UM.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const cl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zp(t,"x"),y:(e,{transform:t})=>Zp(t,"y")};cl.translateX=cl.x;cl.translateY=cl.y;const Ba=new Set;let Jp=!1,ty=!1;function W2(){if(ty){const e=Array.from(Ba).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=FM(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,c])=>{var u;(u=i.getValue(o))==null||u.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ty=!1,Jp=!1,Ba.forEach(e=>e.complete()),Ba.clear()}function Z2(){Ba.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ty=!0)})}function HM(){Z2(),W2()}class k0{constructor(t,n,i,r,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ba.add(this),Jp||(Jp=!0,xe.read(Z2),xe.resolveKeyframes(W2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const c=r==null?void 0:r.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(i&&n){const f=i.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),r&&c===void 0&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const J2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),qM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YM(e){const t=qM.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function tE(e,t,n=1){const[i,r]=YM(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const c=o.trim();return J2(c)?parseFloat(c):c}return T0(r)?tE(r,t,n+1):r}const eE=e=>t=>t.test(e),GM={test:e=>e==="auto",parse:e=>e},nE=[_l,Dt,cs,Dr,HO,FO,GM],b1=e=>nE.find(eE(e));class iE extends k0{constructor(t,n,i,r,o){super(t,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),T0(d))){const p=tE(d,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!V2.has(i)||t.length!==2)return;const[r,o]=t,c=b1(r),u=b1(o);if(c!==u)if(v1(c)&&v1(u))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)vM(t[r])&&i.push(r);i.length&&kM(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=cl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,d])=>{t.getValue(f).set(d)}),this.resolveNoneKeyframes()}}const _1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zr.test(e)||e==="0")&&!e.startsWith("url("));function $M(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function KM(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],c=_1(r,t),u=_1(o,t);return!c||!u?!1:$M(e)||(n==="spring"||d0(n))&&i}const XM=e=>e!==null;function Pd(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(XM),o=t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const QM=40;class sE{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ls.now(),this.options={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>QM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ls.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:c,onComplete:u,onUpdate:f,isGenerator:d}=this.options;if(!d&&!KM(t,i,r,o))if(c)this.options.duration=0;else{f&&f(Pd(t,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Oe=(e,t,n)=>e+(t-e)*n;function lp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WM({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,o=0,c=0;if(!t)r=o=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;r=lp(f,u,e+1/3),o=lp(f,u,e),c=lp(f,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Zf(e,t){return n=>n>0?t:e}const cp=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},ZM=[Kp,Ia,Xo],JM=e=>ZM.find(t=>t.test(e));function x1(e){const t=JM(e);if(!t)return!1;let n=t.parse(e);return t===Xo&&(n=WM(n)),n}const T1=(e,t)=>{const n=x1(e),i=x1(t);if(!n||!i)return Zf(e,t);const r={...n};return o=>(r.red=cp(n.red,i.red,o),r.green=cp(n.green,i.green,o),r.blue=cp(n.blue,i.blue,o),r.alpha=Oe(n.alpha,i.alpha,o),Ia.transform(r))},t4=(e,t)=>n=>t(e(n)),Mu=(...e)=>e.reduce(t4),ey=new Set(["none","hidden"]);function e4(e,t){return ey.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function n4(e,t){return n=>Oe(e,t,n)}function I0(e){return typeof e=="number"?n4:typeof e=="string"?T0(e)?Zf:An.test(e)?T1:r4:Array.isArray(e)?rE:typeof e=="object"?An.test(e)?T1:i4:Zf}function rE(e,t){const n=[...e],i=n.length,r=e.map((o,c)=>I0(o)(o,t[c]));return o=>{for(let c=0;c<i;c++)n[c]=r[c](o);return n}}function i4(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=I0(e[r])(e[r],t[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function s4(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],c=e.indexes[o][i[o]],u=e.values[c]??0;n[r]=u,i[o]++}return n}const r4=(e,t)=>{const n=zr.createTransformer(t),i=mu(e),r=mu(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ey.has(e)&&!r.values.length||ey.has(t)&&!i.values.length?e4(e,t):Mu(rE(s4(i,r),r.values),n):Zf(e,t)};function aE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Oe(e,t,n):I0(e)(e,t)}const a4=5;function oE(e,t,n){const i=Math.max(t-a4,0);return l2(n-e(i),t-i)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w1=.001;function o4({duration:e=ke.duration,bounce:t=ke.bounce,velocity:n=ke.velocity,mass:i=ke.mass}){let r,o,c=1-t;c=$s(ke.minDamping,ke.maxDamping,c),e=$s(ke.minDuration,ke.maxDuration,os(e)),c<1?(r=d=>{const p=d*c,v=p*e,_=p-n,x=ny(d,c),E=Math.exp(-v);return w1-_/x*E},o=d=>{const v=d*c*e,_=v*n+n,x=Math.pow(c,2)*Math.pow(d,2)*e,E=Math.exp(-v),R=ny(Math.pow(d,2),c);return(-r(d)+w1>0?-1:1)*((_-x)*E)/R}):(r=d=>{const p=Math.exp(-d*e),v=(d-n)*e+1;return-.001+p*v},o=d=>{const p=Math.exp(-d*e),v=(n-d)*(e*e);return p*v});const u=5/e,f=c4(r,o,u);if(e=as(e),isNaN(f))return{stiffness:ke.stiffness,damping:ke.damping,duration:e};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:c*2*Math.sqrt(i*d),duration:e}}}const l4=12;function c4(e,t,n){let i=n;for(let r=1;r<l4;r++)i=i-e(i)/t(i);return i}function ny(e,t){return e*Math.sqrt(1-t*t)}const u4=["duration","bounce"],h4=["stiffness","damping","mass"];function S1(e,t){return t.some(n=>e[n]!==void 0)}function f4(e){let t={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...e};if(!S1(e,h4)&&S1(e,u4))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*$s(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ke.mass,stiffness:r,damping:o}}else{const n=o4(e);t={...t,...n,mass:ke.mass},t.isResolvedFromDuration=!0}return t}function Jf(e=ke.visualDuration,t=ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:d,mass:p,duration:v,velocity:_,isResolvedFromDuration:x}=f4({...n,velocity:-os(n.velocity||0)}),E=_||0,R=d/(2*Math.sqrt(f*p)),A=c-o,V=os(Math.sqrt(f/p)),B=Math.abs(A)<5;i||(i=B?ke.restSpeed.granular:ke.restSpeed.default),r||(r=B?ke.restDelta.granular:ke.restDelta.default);let F;if(R<1){const q=ny(V,R);F=Z=>{const P=Math.exp(-R*V*Z);return c-P*((E+R*V*A)/q*Math.sin(q*Z)+A*Math.cos(q*Z))}}else if(R===1)F=q=>c-Math.exp(-V*q)*(A+(E+V*A)*q);else{const q=V*Math.sqrt(R*R-1);F=Z=>{const P=Math.exp(-R*V*Z),D=Math.min(q*Z,300);return c-P*((E+R*V*A)*Math.sinh(D)+q*A*Math.cosh(D))/q}}const W={calculatedDuration:x&&v||null,next:q=>{const Z=F(q);if(x)u.done=q>=v;else{let P=0;R<1&&(P=q===0?as(E):oE(F,q,Z));const D=Math.abs(P)<=i,M=Math.abs(c-Z)<=r;u.done=D&&M}return u.value=u.done?c:Z,u},toString:()=>{const q=Math.min(g0(W),Qf),Z=c2(P=>W.next(q*P).value,q,30);return q+"ms "+Z},toTransition:()=>{}};return W}Jf.applyToOptions=e=>{const t=uO(e,100,Jf);return e.ease=lu()?t.ease:"easeOut",e.duration=as(t.duration),e.type="keyframes",e};function E1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:d=.5,restSpeed:p}){const v=e[0],_={done:!1,value:v},x=D=>u!==void 0&&D<u||f!==void 0&&D>f,E=D=>u===void 0?f:f===void 0||Math.abs(u-D)<Math.abs(f-D)?u:f;let R=n*t;const A=v+R,V=c===void 0?A:c(A);V!==A&&(R=V-v);const B=D=>-R*Math.exp(-D/i),F=D=>V+B(D),W=D=>{const M=B(D),I=F(D);_.done=Math.abs(M)<=d,_.value=_.done?V:I};let q,Z;const P=D=>{x(_.value)&&(q=D,Z=Jf({keyframes:[_.value,E(_.value)],velocity:oE(F,D,_.value),damping:r,stiffness:o,restDelta:d,restSpeed:p}))};return P(0),{calculatedDuration:null,next:D=>{let M=!1;return!Z&&q===void 0&&(M=!0,W(D),P(D)),q!==void 0&&D>=q?Z.next(D-q):(!M&&W(D),_)}}}const d4=Ou(.42,0,1,1),m4=Ou(0,0,.58,1),lE=Ou(.42,0,.58,1),g4=e=>Array.isArray(e)&&typeof e[0]!="number",p4={linear:xi,easeIn:d4,easeInOut:lE,easeOut:m4,circIn:N0,circInOut:F2,circOut:U2,backIn:M0,backInOut:z2,backOut:L2,anticipate:B2},A1=e=>{if(f0(e)){o2(e.length===4);const[t,n,i,r]=e;return Ou(t,n,i,r)}else if(typeof e=="string")return p4[e];return e};function y4(e,t,n){const i=[],r=n||aE,o=e.length-1;for(let c=0;c<o;c++){let u=r(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||xi:t;u=Mu(f,u)}i.push(u)}return i}function v4(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const o=e.length;if(o2(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=y4(t,i,r),f=u.length,d=p=>{if(c&&p<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const _=ou(e[v],e[v+1],p);return u[v](_)};return n?p=>d($s(e[0],e[o-1],p)):d}function b4(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=ou(0,t,i);e.push(Oe(n,1,r))}}function _4(e){const t=[0];return b4(t,e.length-1),t}function x4(e,t){return e.map(n=>n*t)}function T4(e,t){return e.map(()=>t||lE).splice(0,e.length-1)}function td({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=g4(i)?i.map(A1):A1(i),o={done:!1,value:t[0]},c=x4(n&&n.length===t.length?n:_4(t),e),u=v4(c,t,{ease:Array.isArray(r)?r:T4(t,r)});return{calculatedDuration:e,next:f=>(o.value=u(f),o.done=f>=e,o)}}const w4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>xe.update(t,!0),stop:()=>Lr(t),now:()=>vn.isProcessing?vn.timestamp:ls.now()}},S4={decay:E1,inertia:E1,tween:td,keyframes:td,spring:Jf},E4=e=>e/100;class j0 extends sE{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,c=(r==null?void 0:r.KeyframeResolver)||k0,u=(f,d)=>this.onKeyframesResolved(f,d);this.resolver=new c(o,u,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=this.options,u=d0(n)?n:S4[n]||td;let f,d;u!==td&&typeof t[0]!="number"&&(f=Mu(E4,aE(t[0],t[1])),t=[0,100]);const p=u({...this.options,keyframes:t});o==="mirror"&&(d=u({...this.options,keyframes:[...t].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=g0(p));const{calculatedDuration:v}=p,_=v+r,x=_*(i+1)-r;return{generator:p,mirroredGenerator:d,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:_,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:d,totalDuration:p,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:x,repeatType:E,repeatDelay:R,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const V=this.currentTime-_*(this.speed>=0?1:-1),B=this.speed>=0?V<0:V>p;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let F=this.currentTime,W=o;if(x){const D=Math.min(this.currentTime,p)/v;let M=Math.floor(D),I=D%1;!I&&D>=1&&(I=1),I===1&&M--,M=Math.min(M,x+1),!!(M%2)&&(E==="reverse"?(I=1-I,R&&(I-=R/v)):E==="mirror"&&(W=c)),F=$s(0,1,I)*v}const q=B?{done:!1,value:f[0]}:W.next(F);u&&(q.value=u(q.value));let{done:Z}=q;!B&&d!==null&&(Z=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return P&&r!==void 0&&(q.value=Pd(f,this.options,r)),A&&A(q.value),P&&this.finish(),q}get duration(){const{resolved:t}=this;return t?os(t.calculatedDuration):0}get time(){return os(this.currentTime)}set time(t){t=as(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=os(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=w4,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const A4=new Set(["opacity","clipPath","filter","transform"]),D4=u0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ed=10,C4=2e4;function R4(e){return d0(e.type)||e.type==="spring"||!h2(e.ease)}function O4(e,t){const n=new j0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let o=0;for(;!i.done&&o<C4;)i=n.sample(o),r.push(i.value),o+=ed;return{times:void 0,keyframes:r,duration:o-ed,ease:"linear"}}const cE={anticipate:B2,backInOut:z2,circInOut:F2};function M4(e){return e in cE}class D1 extends sE{constructor(t){super(t);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new iE(o,(c,u)=>this.onKeyframesResolved(c,u),n,i,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:r,ease:o,type:c,motionValue:u,name:f,startTime:d}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&lu()&&M4(o)&&(o=cE[o]),R4(this.options)){const{onComplete:v,onUpdate:_,motionValue:x,element:E,...R}=this.options,A=O4(t,R);t=A.keyframes,t.length===1&&(t[1]=t[0]),i=A.duration,r=A.times,o=A.ease,c="keyframes"}const p=cO(u.owner.current,f,t,{...this.options,duration:i,times:r,ease:o});return p.startTime=d??this.calcStartTime(),this.pendingTimeline?(e1(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:v}=this.options;u.set(Pd(t,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:r,type:c,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return os(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return os(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=as(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return xi;const{animation:i}=n;e1(i,t)}return xi}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:r,type:o,ease:c,times:u}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:p,onComplete:v,element:_,...x}=this.options,E=new j0({...x,keyframes:i,duration:r,type:o,ease:c,times:u,isGenerator:!0}),R=as(this.time);d.setWithVelocity(E.sample(R-ed).value,E.sample(R).value,ed)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=n.owner.getProps();return D4()&&i&&A4.has(i)&&(i!=="transform"||!d)&&!f&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}}const N4={type:"spring",stiffness:500,damping:25,restSpeed:10},V4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),P4={type:"keyframes",duration:.8},k4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I4=(e,{keyframes:t})=>t.length>2?P4:$a.has(e)?e.startsWith("scale")?V4(t[1]):N4:k4;function j4({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const L0=(e,t,n,i={},r,o)=>c=>{const u=m0(i,e)||{},f=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-as(f);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:_=>{t.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:r};j4(u)||(p={...p,...I4(e,p)}),p.duration&&(p.duration=as(p.duration)),p.repeatDelay&&(p.repeatDelay=as(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),p.allowFlatten=!u.type&&!u.ease,v&&!o&&t.get()!==void 0){const _=Pd(p.keyframes,u);if(_!==void 0)return xe.update(()=>{p.onUpdate(_),p.onComplete()}),new aO([])}return!o&&D1.supports(p)?new D1(p):new j0(p)};function L4({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function uE(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(o=i);const f=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const p in u){const v=e.getValue(p,e.latestValues[p]??null),_=u[p];if(_===void 0||d&&L4(d,p))continue;const x={delay:n,...m0(o||{},p)};let E=!1;if(window.MotionHandoffAnimation){const A=P2(e);if(A){const V=window.MotionHandoffAnimation(A,p,xe);V!==null&&(x.startTime=V,E=!0)}}$p(e,p),v.start(L0(p,v,_,e.shouldReduceMotion&&V2.has(p)?{type:!1}:x,e,E));const R=v.animation;R&&f.push(R)}return c&&Promise.all(f).then(()=>{xe.update(()=>{c&&dM(e,c)})}),f}function iy(e,t,n={}){var f;const i=du(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(uE(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:_}=r;return z4(e,t,p+d,v,_,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,p]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>p())}else return Promise.all([o(),c(n.delay)])}function z4(e,t,n=0,i=0,r=1,o){const c=[],u=(e.variantChildren.size-1)*i,f=r===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(e.variantChildren).sort(B4).forEach((d,p)=>{d.notify("AnimationStart",t),c.push(iy(d,t,{...o,delay:n+f(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(c)}function B4(e,t){return e.sortNodePosition(t)}function U4(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>iy(e,o,n));i=Promise.all(r)}else if(typeof t=="string")i=iy(e,t,n);else{const r=typeof t=="function"?du(e,t,n.custom):t;i=Promise.all(uE(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function hE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const F4=b0.length;function fE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<F4;n++){const i=b0[n],r=e.props[i];(uu(r)||r===!1)&&(t[i]=r)}return t}const H4=[...v0].reverse(),q4=v0.length;function Y4(e){return t=>Promise.all(t.map(({animation:n,options:i})=>U4(e,n,i)))}function G4(e){let t=Y4(e),n=C1(),i=!0;const r=f=>(d,p)=>{var _;const v=du(e,p,f==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(v){const{transition:x,transitionEnd:E,...R}=v;d={...d,...R,...E}}return d};function o(f){t=f(e)}function c(f){const{props:d}=e,p=fE(e.parent)||{},v=[],_=new Set;let x={},E=1/0;for(let A=0;A<q4;A++){const V=H4[A],B=n[V],F=d[V]!==void 0?d[V]:p[V],W=uu(F),q=V===f?B.isActive:null;q===!1&&(E=A);let Z=F===p[V]&&F!==d[V]&&W;if(Z&&i&&e.manuallyAnimateOnMount&&(Z=!1),B.protectedKeys={...x},!B.isActive&&q===null||!F&&!B.prevProp||Nd(F)||typeof F=="boolean")continue;const P=$4(B.prevProp,F);let D=P||V===f&&B.isActive&&!Z&&W||A>E&&W,M=!1;const I=Array.isArray(F)?F:[F];let N=I.reduce(r(V),{});q===!1&&(N={});const{prevResolvedValues:j={}}=B,k={...j,...N},Nt=st=>{D=!0,_.has(st)&&(M=!0,_.delete(st)),B.needsAnimating[st]=!0;const ht=e.getValue(st);ht&&(ht.liveStyle=!1)};for(const st in k){const ht=N[st],wt=j[st];if(x.hasOwnProperty(st))continue;let L=!1;Gp(ht)&&Gp(wt)?L=!hE(ht,wt):L=ht!==wt,L?ht!=null?Nt(st):_.add(st):ht!==void 0&&_.has(st)?Nt(st):B.protectedKeys[st]=!0}B.prevProp=F,B.prevResolvedValues=N,B.isActive&&(x={...x,...N}),i&&e.blockInitialAnimation&&(D=!1),D&&(!(Z&&P)||M)&&v.push(...I.map(st=>({animation:st,options:{type:V}})))}if(_.size){const A={};if(typeof d.initial!="boolean"){const V=du(e,Array.isArray(d.initial)?d.initial[0]:d.initial);V&&V.transition&&(A.transition=V.transition)}_.forEach(V=>{const B=e.getBaseTarget(V),F=e.getValue(V);F&&(F.liveStyle=!0),A[V]=B??null}),v.push({animation:A})}let R=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(v):Promise.resolve()}function u(f,d){var v;if(n[f].isActive===d)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(_=>{var x;return(x=_.animationState)==null?void 0:x.setActive(f,d)}),n[f].isActive=d;const p=c(f);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=C1(),i=!0}}}function $4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hE(t,e):!1}function Ca(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C1(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class $r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class K4 extends $r{constructor(t){super(t),t.animationState||(t.animationState=G4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let X4=0;class Q4 extends $r{constructor(){super(...arguments),this.id=X4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const W4={animation:{Feature:K4},exit:{Feature:Q4}};function gu(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Nu(e){return{point:{x:e.pageX,y:e.pageY}}}const Z4=e=>t=>y0(t)&&e(t,Nu(t));function Xc(e,t,n,i){return gu(e,t,Z4(n),i)}function dE({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function J4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const mE=1e-4,eN=1-mE,nN=1+mE,gE=.01,iN=0-gE,sN=0+gE;function zn(e){return e.max-e.min}function rN(e,t,n){return Math.abs(e-t)<=n}function R1(e,t,n,i=.5){e.origin=i,e.originPoint=Oe(t.min,t.max,e.origin),e.scale=zn(n)/zn(t),e.translate=Oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eN&&e.scale<=nN||isNaN(e.scale))&&(e.scale=1),(e.translate>=iN&&e.translate<=sN||isNaN(e.translate))&&(e.translate=0)}function Qc(e,t,n,i){R1(e.x,t.x,n.x,i?i.originX:void 0),R1(e.y,t.y,n.y,i?i.originY:void 0)}function O1(e,t,n){e.min=n.min+t.min,e.max=e.min+zn(t)}function aN(e,t,n){O1(e.x,t.x,n.x),O1(e.y,t.y,n.y)}function M1(e,t,n){e.min=t.min-n.min,e.max=e.min+zn(t)}function Wc(e,t,n){M1(e.x,t.x,n.x),M1(e.y,t.y,n.y)}const N1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:N1(),y:N1()}),V1=()=>({min:0,max:0}),ze=()=>({x:V1(),y:V1()});function bi(e){return[e("x"),e("y")]}function up(e){return e===void 0||e===1}function sy({scale:e,scaleX:t,scaleY:n}){return!up(e)||!up(t)||!up(n)}function Va(e){return sy(e)||pE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pE(e){return P1(e.x)||P1(e.y)}function P1(e){return e&&e!=="0%"}function nd(e,t,n){const i=e-n,r=t*i;return n+r}function k1(e,t,n,i,r){return r!==void 0&&(e=nd(e,r,i)),nd(e,n,i)+t}function ry(e,t=0,n=1,i,r){e.min=k1(e.min,t,n,i,r),e.max=k1(e.max,t,n,i,r)}function yE(e,{x:t,y:n}){ry(e.x,t.translate,t.scale,t.originPoint),ry(e.y,n.translate,n.scale,n.originPoint)}const I1=.999999999999,j1=1.0000000000001;function oN(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,c;for(let u=0;u<r;u++){o=n[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,yE(e,c)),i&&Va(o.latestValues)&&Zo(e,o.latestValues))}t.x<j1&&t.x>I1&&(t.x=1),t.y<j1&&t.y>I1&&(t.y=1)}function Wo(e,t){e.min=e.min+t,e.max=e.max+t}function L1(e,t,n,i,r=.5){const o=Oe(e.min,e.max,r);ry(e,t,n,o,i)}function Zo(e,t){L1(e.x,t.x,t.scaleX,t.scale,t.originX),L1(e.y,t.y,t.scaleY,t.scale,t.originY)}function vE(e,t){return dE(tN(e.getBoundingClientRect(),t))}function lN(e,t,n){const i=vE(e,n),{scroll:r}=t;return r&&(Wo(i.x,r.offset.x),Wo(i.y,r.offset.y)),i}const bE=({current:e})=>e?e.ownerDocument.defaultView:null,z1=(e,t)=>Math.abs(e-t);function cN(e,t){const n=z1(e.x,t.x),i=z1(e.y,t.y);return Math.sqrt(n**2+i**2)}class _E{constructor(t,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=cN(v.offset,{x:0,y:0})>=3;if(!_&&!x)return;const{point:E}=v,{timestamp:R}=vn;this.history.push({...E,timestamp:R});const{onStart:A,onMove:V}=this.handlers;_||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=hp(_,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:x,onSessionEnd:E,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=fp(v.type==="pointercancel"?this.lastMoveEventInfo:hp(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,A),E&&E(v,A)},!y0(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=Nu(t),u=hp(c,this.transformPagePoint),{point:f}=u,{timestamp:d}=vn;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(t,fp(u,this.history)),this.removeListeners=Mu(Xc(this.contextWindow,"pointermove",this.handlePointerMove),Xc(this.contextWindow,"pointerup",this.handlePointerUp),Xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}}function hp(e,t){return t?{point:t(e.point)}:e}function B1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fp({point:e},t){return{point:e,delta:B1(e,xE(t)),offset:B1(e,uN(t)),velocity:hN(t,.1)}}function uN(e){return e[0]}function xE(e){return e[e.length-1]}function hN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=xE(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>as(t)));)n--;if(!i)return{x:0,y:0};const o=os(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function fN(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Oe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Oe(n,e,i.max):Math.min(e,n)),e}function U1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dN(e,{top:t,left:n,bottom:i,right:r}){return{x:U1(e.x,n,r),y:U1(e.y,t,i)}}function F1(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function mN(e,t){return{x:F1(e.x,t.x),y:F1(e.y,t.y)}}function gN(e,t){let n=.5;const i=zn(e),r=zn(t);return r>i?n=ou(t.min,t.max-i,e.min):i>r&&(n=ou(e.min,e.max-r,t.min)),$s(0,1,n)}function pN(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ay=.35;function yN(e=ay){return e===!1?e=0:e===!0&&(e=ay),{x:H1(e,"left","right"),y:H1(e,"top","bottom")}}function H1(e,t,n){return{min:q1(e,t),max:q1(e,n)}}function q1(e,t){return typeof e=="number"?e:e[t]||0}const vN=new WeakMap;class bN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nu(p).point)},o=(p,v)=>{const{drag:_,dragPropagation:x,onDragStart:E}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mO(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(A=>{let V=this.getAxisMotionValue(A).get()||0;if(cs.test(V)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[A];F&&(V=zn(F)*(parseFloat(V)/100))}}this.originPoint[A]=V}),E&&xe.postRender(()=>E(p,v)),$p(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(p,v)=>{const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:E,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=v;if(x&&this.currentDirection===null){this.currentDirection=_N(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),R&&R(p,v)},u=(p,v)=>this.stop(p,v),f=()=>bi(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _E(t,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:bE(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&xe.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!df(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=fN(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;t&&Ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=dN(i.layoutBox,t):this.constraints=!1,this.elastic=yN(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=pN(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ko(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=lN(i,r.root,this.visualElement.getTransformPagePoint());let c=mN(r.layout.layoutBox,o);if(n){const u=n(J4(c));this.hasMutatedConstraints=!!u,u&&(c=dE(u))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=bi(p=>{if(!df(p,n,this.currentDirection))return;let v=f&&f[p]||{};c&&(v={min:0,max:0});const _=r?200:1e6,x=r?40:1e7,E={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,E)});return Promise.all(d).then(u)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return $p(this.visualElement,t),i.start(L0(t,i,0,n,this.visualElement,!1))}stopAnimation(){bi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){bi(n=>{const{drag:i}=this.getProps();if(!df(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[n];o.set(t[n]-Oe(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ko(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};bi(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();r[c]=gN({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),bi(c=>{if(!df(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:d}=this.constraints[c];u.set(Oe(f,d,r[c]))})}addListeners(){if(!this.visualElement.current)return;vN.set(this.visualElement,this);const t=this.visualElement.current,n=Xc(t,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ko(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),xe.read(i);const c=gu(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(bi(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=f[p].translate,v.set(v.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=ay,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function df(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _N(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xN extends $r{constructor(t){super(t),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new bN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y1=e=>(t,n)=>{e&&xe.postRender(()=>e(t,n))};class TN extends $r{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(t){this.session=new _E(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Y1(t),onStart:Y1(n),onMove:i,onEnd:(o,c)=>{delete this.session,r&&xe.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=Xc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Dt.test(e))e=parseFloat(e);else return e;const n=G1(e,t.target.x),i=G1(e,t.target.y);return`${n}% ${i}%`}},wN={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=zr.parse(e);if(r.length>5)return i;const o=zr.createTransformer(e),c=typeof r[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;r[0+c]/=u,r[1+c]/=f;const d=Oe(u,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=d),typeof r[3+c]=="number"&&(r[3+c]/=d),o(r)}};class SN extends it.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;UO(EN),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,r||t.layoutDependency!==n||n===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||xe.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),p0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TE(e){const[t,n]=a2(),i=it.useContext(s0);return S.jsx(SN,{...e,layoutGroup:i,switchLayoutGroup:it.useContext(_2),isPresent:t,safeToRemove:n})}const EN={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:wN};function AN(e,t,n){const i=Rn(e)?e:cu(e);return i.start(L0("",i,t,n)),i.animation}function DN(e){return e instanceof SVGElement&&e.tagName!=="svg"}const CN=(e,t)=>e.depth-t.depth;class RN{constructor(){this.children=[],this.isDirty=!1}add(t){l0(this.children,t),this.isDirty=!0}remove(t){c0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CN),this.isDirty=!1,this.children.forEach(t)}}function ON(e,t){const n=ls.now(),i=({timestamp:r})=>{const o=r-n;o>=t&&(Lr(i),e(o-t))};return xe.read(i,!0),()=>Lr(i)}const wE=["TopLeft","TopRight","BottomLeft","BottomRight"],MN=wE.length,$1=e=>typeof e=="string"?parseFloat(e):e,K1=e=>typeof e=="number"||Dt.test(e);function NN(e,t,n,i,r,o){r?(e.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,VN(i)),e.opacityExit=Oe(t.opacity!==void 0?t.opacity:1,0,PN(i))):o&&(e.opacity=Oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<MN;c++){const u=`border${wE[c]}Radius`;let f=X1(t,u),d=X1(n,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||K1(f)===K1(d)?(e[u]=Math.max(Oe($1(f),$1(d),i),0),(cs.test(d)||cs.test(f))&&(e[u]+="%")):e[u]=d}(t.rotate||n.rotate)&&(e.rotate=Oe(t.rotate||0,n.rotate||0,i))}function X1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VN=SE(0,.5,U2),PN=SE(.5,.95,xi);function SE(e,t,n){return i=>i<e?0:i>t?1:n(ou(e,t,i))}function Q1(e,t){e.min=t.min,e.max=t.max}function yi(e,t){Q1(e.x,t.x),Q1(e.y,t.y)}function W1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Z1(e,t,n,i,r){return e-=t,e=nd(e,1/n,i),r!==void 0&&(e=nd(e,1/r,i)),e}function kN(e,t=0,n=1,i=.5,r,o=e,c=e){if(cs.test(t)&&(t=parseFloat(t),t=Oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Oe(o.min,o.max,i);e===o&&(u-=t),e.min=Z1(e.min,t,n,u,r),e.max=Z1(e.max,t,n,u,r)}function J1(e,t,[n,i,r],o,c){kN(e,t[n],t[i],t[r],t.scale,o,c)}const IN=["x","scaleX","originX"],jN=["y","scaleY","originY"];function tT(e,t,n,i){J1(e.x,t,IN,n?n.x:void 0,i?i.x:void 0),J1(e.y,t,jN,n?n.y:void 0,i?i.y:void 0)}function eT(e){return e.translate===0&&e.scale===1}function EE(e){return eT(e.x)&&eT(e.y)}function nT(e,t){return e.min===t.min&&e.max===t.max}function LN(e,t){return nT(e.x,t.x)&&nT(e.y,t.y)}function iT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AE(e,t){return iT(e.x,t.x)&&iT(e.y,t.y)}function sT(e){return zn(e.x)/zn(e.y)}function rT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zN{constructor(){this.members=[]}add(t){l0(this.members,t),t.scheduleRender()}remove(t){if(c0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BN(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((r||o||c)&&(i=`translate3d(${r}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:v,rotateY:_,skewX:x,skewY:E}=n;d&&(i=`perspective(${d}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const dp=["","X","Y","Z"],UN={visibility:"hidden"},aT=1e3;let FN=0;function mp(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function DE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=P2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(r||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&DE(i)}function CE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},u=t==null?void 0:t()){this.id=FN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YN),this.nodes.forEach(QN),this.nodes.forEach(WN),this.nodes.forEach(GN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new RN)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new h0),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DN(c),this.instance=c;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(d||f)&&(this.isLayoutDirty=!0),e){let v;const _=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=ON(_,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach(lT))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||nV,{onLayoutAnimationStart:A,onLayoutAnimationComplete:V}=p.getProps(),B=!this.targetLayout||!AE(this.targetLayout,E),F=!_&&x;if(this.options.layoutRoot||this.resumeFrom||F||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,F);const W={...m0(R,"layout"),onPlay:A,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||lT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oT);return}this.isUpdating||this.nodes.forEach(KN),this.isUpdating=!1,this.nodes.forEach(XN),this.nodes.forEach(HN),this.nodes.forEach(qN),this.clearAllSnapshots();const u=ls.now();vn.delta=$s(0,1e3/60,u-vn.timestamp),vn.timestamp=u,vn.isProcessing=!0,rp.update.process(vn),rp.preRender.process(vn),rp.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($N),this.sharedNodes.forEach(JN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!EE(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;c&&(u||Va(this.latestValues)||p)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),iV(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:c}=this.options;if(!c)return ze();const u=c.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(sV))){const{scroll:p}=this.root;p&&(Wo(u.x,p.offset.x),Wo(u.y,p.offset.y))}return u}removeElementScroll(c){var f;const u=ze();if(yi(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:v,options:_}=p;p!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&yi(u,c),Wo(u.x,v.offset.x),Wo(u.y,v.offset.y))}return u}applyTransform(c,u=!1){const f=ze();yi(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Zo(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Va(p.latestValues)&&Zo(f,p.latestValues)}return Va(this.latestValues)&&Zo(f,this.latestValues),f}removeTransform(c){const u=ze();yi(u,c);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Va(d.latestValues))continue;sy(d.latestValues)&&d.updateSnapshot();const p=ze(),v=d.measurePageBox();yi(p,v),tT(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Va(this.latestValues)&&tT(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Wc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),yE(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Wc(this.relativeTargetOrigin,this.target,x.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sy(this.parent.latestValues)||pE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;yi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;oN(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(W1(this.prevProjectionDelta.x,this.projectionDelta.x),W1(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!rT(this.projectionDelta.x,this.prevProjectionDelta.x)||!rT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,u=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},v=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=ze(),x=f?f.source:void 0,E=this.layout?this.layout.source:void 0,R=x!==E,A=this.getStack(),V=!A||A.members.length<=1,B=!!(R&&!V&&this.options.crossfade===!0&&!this.path.some(eV));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const q=W/1e3;cT(v.x,c.x,q),cT(v.y,c.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tV(this.relativeTarget,this.relativeTargetOrigin,_,q),F&&LN(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=ze()),yi(F,this.relativeTarget)),R&&(this.animationValues=p,NN(p,d,this.latestValues,q,B,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{zf.hasAnimatedSinceResize=!0,this.currentAnimation=AN(0,aT,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:p}=c;if(!(!u||!f||!d)){if(this!==c&&this.layout&&d&&RE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||ze();const v=zn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const _=zn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}yi(u,f),Zo(u,p),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zN),this.sharedNodes.get(c).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&mp("z",c,d,this.animationValues);for(let p=0;p<dp.length;p++)mp(`rotate${dp[p]}`,c,d,this.animationValues),mp(`skew${dp[p]}`,c,d,this.animationValues);c.render();for(const p in d)c.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return UN;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lf(c==null?void 0:c.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Lf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=BN(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:v,y:_}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,d.animationValues?u.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in hu){if(p[x]===void 0)continue;const{correct:E,applyTo:R,isCSSVariable:A}=hu[x],V=u.transform==="none"?p[x]:E(p[x],d);if(R){const B=R.length;for(let F=0;F<B;F++)u[R[F]]=V}else A?this.options.visualElement.renderState.vars[x]=V:u[x]=V}return this.options.layoutId&&(u.pointerEvents=d===this?Lf(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(oT),this.root.sharedNodes.clear()}}}function HN(e){e.updateLayout()}function qN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?bi(v=>{const _=c?t.measuredBox[v]:t.layoutBox[v],x=zn(_);_.min=i[v].min,_.max=_.min+x}):RE(o,t.layoutBox,i)&&bi(v=>{const _=c?t.measuredBox[v]:t.layoutBox[v],x=zn(i[v]);_.max=_.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+x)});const u=Qo();Qc(u,i,t.layoutBox);const f=Qo();c?Qc(f,e.applyTransform(r,!0),t.measuredBox):Qc(f,i,t.layoutBox);const d=!EE(u);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:x}=v;if(_&&x){const E=ze();Wc(E,t.layoutBox,_.layoutBox);const R=ze();Wc(R,i,x.layoutBox),AE(E,R)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=E,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function YN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $N(e){e.clearSnapshot()}function oT(e){e.clearMeasurements()}function KN(e){e.isLayoutDirty=!1}function XN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QN(e){e.resolveTargetDelta()}function WN(e){e.calcProjection()}function ZN(e){e.resetSkewAndRotation()}function JN(e){e.removeLeadSnapshot()}function cT(e,t,n){e.translate=Oe(t.translate,0,n),e.scale=Oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function uT(e,t,n,i){e.min=Oe(t.min,n.min,i),e.max=Oe(t.max,n.max,i)}function tV(e,t,n,i){uT(e.x,t.x,n.x,i),uT(e.y,t.y,n.y,i)}function eV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nV={duration:.45,ease:[.4,0,.1,1]},hT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fT=hT("applewebkit/")&&!hT("chrome/")?Math.round:xi;function dT(e){e.min=fT(e.min),e.max=fT(e.max)}function iV(e){dT(e.x),dT(e.y)}function RE(e,t,n){return e==="position"||e==="preserve-aspect"&&!rN(sT(t),sT(n),.2)}function sV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rV=CE({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},OE=CE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gp.current){const e=new rV({});e.mount(window),e.setOptions({layoutScroll:!0}),gp.current=e}return gp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aV={pan:{Feature:TN},drag:{Feature:xN,ProjectionNode:OE,MeasureLayout:TE}};function mT(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&xe.postRender(()=>o(t,Nu(t)))}class oV extends $r{mount(){const{current:t}=this.node;t&&(this.unmount=pO(t,(n,i)=>(mT(this.node,i,"Start"),r=>mT(this.node,r,"End"))))}unmount(){}}class lV extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gT(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&xe.postRender(()=>o(t,Nu(t)))}class cV extends $r{mount(){const{current:t}=this.node;t&&(this.unmount=_O(t,(n,i)=>(gT(this.node,i,"Start"),(r,{success:o})=>gT(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,pp=new WeakMap,uV=e=>{const t=oy.get(e.target);t&&t(e)},hV=e=>{e.forEach(uV)};function fV({root:e,...t}){const n=e||document;pp.has(n)||pp.set(n,{});const i=pp.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(hV,{root:e,...t})),i[r]}function dV(e,t,n){const i=fV(t);return oy.set(e,n),i.observe(e),()=>{oy.delete(e),i.unobserve(e)}}const mV={some:0,all:1};class gV extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:mV[r]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),_=d?p:v;_&&_(f)};return dV(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pV(t,n))&&this.startObserver()}unmount(){}}function pV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yV={inView:{Feature:gV},tap:{Feature:cV},focus:{Feature:lV},hover:{Feature:oV}},vV={layout:{ProjectionNode:OE,MeasureLayout:TE}},ly={current:null},ME={current:!1};function bV(){if(ME.current=!0,!!a0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ly.current=e.matches;e.addListener(t),t()}else ly.current=!1}const _V=[...nE,An,zr],xV=e=>_V.find(eE(e)),TV=new WeakMap;function wV(e,t,n){for(const i in t){const r=t[i],o=n[i];if(Rn(r))e.addValue(i,r);else if(Rn(o))e.addValue(i,cu(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(i);e.addValue(i,cu(c!==void 0?c:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const pT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ls.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,xe.render(this.render,!1,!0))};const{latestValues:f,renderState:d,onUpdate:p}=c;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Vd(n),this.isVariantNode=v2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in _){const E=_[x];f[x]!==void 0&&Rn(E)&&E.set(f[x],!1)}}mount(t){this.current=t,TV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ME.current||bV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=$a.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ll){const n=ll[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<pT.length;i++){const r=pT[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=t[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=wV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=cu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(J2(i)||H2(i))?i=parseFloat(i):!xV(i)&&zr.test(n)&&(i=Q2(t,n)),this.setBaseTarget(t,Rn(i)?i.get():i)),Rn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=R0(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Rn(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new h0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class NE extends SV{constructor(){super(...arguments),this.KeyframeResolver=iE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function EV(e){return window.getComputedStyle(e)}class AV extends NE{constructor(){super(...arguments),this.type="html",this.renderInstance=R2}readValueFromInstance(t,n){if($a.has(n))return LM(t,n);{const i=EV(t),r=(x0(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return vE(t,n)}build(t,n,i){S0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return O0(t,n,i)}}class DV extends NE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&C2(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($a.has(n)){const i=X2(n);return i&&i.default||0}return n=O2.has(n)?n:_0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return N2(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&xe.postRender(this.updateDimensions)}build(t,n,i){D0(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,r){M2(t,n,i,r)}mount(t){this.isSVGTag=C0(t.tagName),super.mount(t)}}const CV=(e,t)=>A0(e)?new DV(t):new AV(t,{allowProjection:e!==it.Fragment}),RV=hM({...W4,...yV,...aV,...vV},CV),Ht=DO(RV),OV=()=>{};var yT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},MV=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],c=e[n++],u=e[n++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=e[n++],c=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],c=r+1<e.length,u=c?e[r+1]:0,f=r+2<e.length,d=f?e[r+2]:0,p=o>>2,v=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,x=d&63;f||(x=64,c||(_=64)),i.push(n[p],n[v],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],u=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const v=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||u==null||d==null||v==null)throw new NV;const _=o<<2|u>>4;if(i.push(_),d!==64){const x=u<<4&240|d>>2;if(i.push(x),v!==64){const E=d<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class NV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VV=function(e){const t=VE(e);return PE.encodeByteArray(t,!0)},id=function(e){return VV(e).replace(/\./g,"")},PV=function(e){try{return PE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=()=>kV().__FIREBASE_DEFAULTS__,jV=()=>{if(typeof process>"u"||typeof yT>"u")return;const e=yT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},LV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&PV(e[1]);return t&&JSON.parse(t)},z0=()=>{try{return OV()||IV()||jV()||LV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zV=e=>{var t,n;return(n=(t=z0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},BV=e=>{const t=zV(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},kE=()=>{var e;return(e=z0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[id(JSON.stringify(n)),id(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qV(){var e;const t=(e=z0())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YV(){return!qV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GV(){try{return typeof indexedDB=="object"}catch{return!1}}function $V(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FirebaseError";class xl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=KV,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,IE.prototype.create)}}class IE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?XV(o,i):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new xl(r,u,i)}}function XV(e,t){return e.replace(QV,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const QV=/\{\$([^}]+)}/g;function sd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],c=t[r];if(vT(o)&&vT(c)){if(!sd(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function vT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(e){return e&&e._delegate?e._delegate:e}class pu{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new UV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t6(t))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pa){return this.instances.has(t)}getOptions(t=Pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Pa){return this.component?this.component.multipleInstances?t:Pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JV(e){return e===Pa?void 0:e}function t6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Xt||(Xt={}));const n6={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},i6=Xt.INFO,s6={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},r6=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=s6[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jE{constructor(t){this.name=t,this._logLevel=i6,this._logHandler=r6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?n6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}const a6=(e,t)=>t.some(n=>e instanceof n);let bT,_T;function o6(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l6(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,cy=new WeakMap,zE=new WeakMap,yp=new WeakMap,B0=new WeakMap;function c6(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{n(Nr(e.result)),r()},c=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&LE.set(n,e)}).catch(()=>{}),B0.set(t,e),t}function u6(e){if(cy.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)});cy.set(e,t)}let uy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return cy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function h6(e){uy=e(uy)}function f6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(vp(this),t,...n);return zE.set(i,t.sort?t.sort():[t]),Nr(i)}:l6().includes(e)?function(...t){return e.apply(vp(this),t),Nr(LE.get(this))}:function(...t){return Nr(e.apply(vp(this),t))}}function d6(e){return typeof e=="function"?f6(e):(e instanceof IDBTransaction&&u6(e),a6(e,o6())?new Proxy(e,uy):e)}function Nr(e){if(e instanceof IDBRequest)return c6(e);if(yp.has(e))return yp.get(e);const t=d6(e);return t!==e&&(yp.set(e,t),B0.set(t,e)),t}const vp=e=>B0.get(e);function m6(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(e,t),u=Nr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Nr(c.result),f.oldVersion,f.newVersion,Nr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const g6=["get","getKey","getAll","getAllKeys","count"],p6=["put","add","delete","clear"],bp=new Map;function xT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(bp.get(t))return bp.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=p6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||g6.includes(n)))return;const o=async function(c,...u){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&f.done]))[0]};return bp.set(t,o),o}h6(e=>({...e,get:(t,n,i)=>xT(t,n)||e.get(t,n,i),has:(t,n)=>!!xT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function v6(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hy="@firebase/app",TT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new jE("@firebase/app"),b6="@firebase/app-compat",_6="@firebase/analytics-compat",x6="@firebase/analytics",T6="@firebase/app-check-compat",w6="@firebase/app-check",S6="@firebase/auth",E6="@firebase/auth-compat",A6="@firebase/database",D6="@firebase/data-connect",C6="@firebase/database-compat",R6="@firebase/functions",O6="@firebase/functions-compat",M6="@firebase/installations",N6="@firebase/installations-compat",V6="@firebase/messaging",P6="@firebase/messaging-compat",k6="@firebase/performance",I6="@firebase/performance-compat",j6="@firebase/remote-config",L6="@firebase/remote-config-compat",z6="@firebase/storage",B6="@firebase/storage-compat",U6="@firebase/firestore",F6="@firebase/vertexai",H6="@firebase/firestore-compat",q6="firebase",Y6="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",G6={[hy]:"fire-core",[b6]:"fire-core-compat",[x6]:"fire-analytics",[_6]:"fire-analytics-compat",[w6]:"fire-app-check",[T6]:"fire-app-check-compat",[S6]:"fire-auth",[E6]:"fire-auth-compat",[A6]:"fire-rtdb",[D6]:"fire-data-connect",[C6]:"fire-rtdb-compat",[R6]:"fire-fn",[O6]:"fire-fn-compat",[M6]:"fire-iid",[N6]:"fire-iid-compat",[V6]:"fire-fcm",[P6]:"fire-fcm-compat",[k6]:"fire-perf",[I6]:"fire-perf-compat",[j6]:"fire-rc",[L6]:"fire-rc-compat",[z6]:"fire-gcs",[B6]:"fire-gcs-compat",[U6]:"fire-fst",[H6]:"fire-fst-compat",[F6]:"fire-vertex","fire-js":"fire-js",[q6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,$6=new Map,dy=new Map;function wT(e,t){try{e.container.addComponent(t)}catch(n){Ks.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ad(e){const t=e.name;if(dy.has(t))return Ks.debug(`There were multiple attempts to register component ${t}.`),!1;dy.set(t,e);for(const n of rd.values())wT(n,e);for(const n of $6.values())wT(n,e);return!0}function K6(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function X6(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new IE("app","Firebase",Q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=Y6;function BE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:fy,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Vr.create("bad-app-name",{appName:String(r)});if(n||(n=kE()),!n)throw Vr.create("no-options");const o=rd.get(r);if(o){if(sd(n,o.options)&&sd(i,o.config))return o;throw Vr.create("duplicate-app",{appName:r})}const c=new e6(r);for(const f of dy.values())c.addComponent(f);const u=new W6(n,i,c);return rd.set(r,u),u}function J6(e=fy){const t=rd.get(e);if(!t&&e===fy&&kE())return BE();if(!t)throw Vr.create("no-app",{appName:e});return t}function nl(e,t,n){var i;let r=(i=G6[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${t}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}ad(new pu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebase-heartbeat-database",e3=1,yu="firebase-heartbeat-store";let _p=null;function UE(){return _p||(_p=m6(t3,e3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vr.create("idb-open",{originalErrorMessage:e.message})})),_p}async function n3(e){try{const n=(await UE()).transaction(yu),i=await n.objectStore(yu).get(FE(e));return await n.done,i}catch(t){if(t instanceof xl)Ks.warn(t.message);else{const n=Vr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ks.warn(n.message)}}}async function ST(e,t){try{const i=(await UE()).transaction(yu,"readwrite");await i.objectStore(yu).put(t,FE(e)),await i.done}catch(n){if(n instanceof xl)Ks.warn(n.message);else{const i=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(i.message)}}}function FE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1024,s3=30;class r3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ET();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>s3){const c=l3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ks.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ET(),{heartbeatsToSend:i,unsentEntries:r}=a3(this._heartbeatsCache.heartbeats),o=id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ks.warn(n),""}}}function ET(){return new Date().toISOString().substring(0,10)}function a3(e,t=i3){const n=[];let i=e.slice();for(const r of e){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),AT(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),AT(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class o3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GV()?$V().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function AT(e){return id(JSON.stringify({version:2,heartbeats:e})).length}function l3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e){ad(new pu("platform-logger",t=>new y6(t),"PRIVATE")),ad(new pu("heartbeat",t=>new r3(t),"PRIVATE")),nl(hy,TT,e),nl(hy,TT,"esm2017"),nl("fire-js","")}c3("");var u3="firebase",h3="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl(u3,h3,"app");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,HE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,D){function M(){}M.prototype=D.prototype,P.D=D.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(I,N,j){for(var k=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)k[Nt-2]=arguments[Nt];return D.prototype[N].apply(I,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,D,M){M||(M=0);var I=Array(16);if(typeof D=="string")for(var N=0;16>N;++N)I[N]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(N=0;16>N;++N)I[N]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=P.g[0],M=P.g[1],N=P.g[2];var j=P.g[3],k=D+(j^M&(N^j))+I[0]+3614090360&4294967295;D=M+(k<<7&4294967295|k>>>25),k=j+(N^D&(M^N))+I[1]+3905402710&4294967295,j=D+(k<<12&4294967295|k>>>20),k=N+(M^j&(D^M))+I[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=M+(D^N&(j^D))+I[3]+3250441966&4294967295,M=N+(k<<22&4294967295|k>>>10),k=D+(j^M&(N^j))+I[4]+4118548399&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(N^D&(M^N))+I[5]+1200080426&4294967295,j=D+(k<<12&4294967295|k>>>20),k=N+(M^j&(D^M))+I[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=M+(D^N&(j^D))+I[7]+4249261313&4294967295,M=N+(k<<22&4294967295|k>>>10),k=D+(j^M&(N^j))+I[8]+1770035416&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(N^D&(M^N))+I[9]+2336552879&4294967295,j=D+(k<<12&4294967295|k>>>20),k=N+(M^j&(D^M))+I[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=M+(D^N&(j^D))+I[11]+2304563134&4294967295,M=N+(k<<22&4294967295|k>>>10),k=D+(j^M&(N^j))+I[12]+1804603682&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(N^D&(M^N))+I[13]+4254626195&4294967295,j=D+(k<<12&4294967295|k>>>20),k=N+(M^j&(D^M))+I[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=M+(D^N&(j^D))+I[15]+1236535329&4294967295,M=N+(k<<22&4294967295|k>>>10),k=D+(N^j&(M^N))+I[1]+4129170786&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^N&(D^M))+I[6]+3225465664&4294967295,j=D+(k<<9&4294967295|k>>>23),k=N+(D^M&(j^D))+I[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(N^j))+I[0]+3921069994&4294967295,M=N+(k<<20&4294967295|k>>>12),k=D+(N^j&(M^N))+I[5]+3593408605&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^N&(D^M))+I[10]+38016083&4294967295,j=D+(k<<9&4294967295|k>>>23),k=N+(D^M&(j^D))+I[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(N^j))+I[4]+3889429448&4294967295,M=N+(k<<20&4294967295|k>>>12),k=D+(N^j&(M^N))+I[9]+568446438&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^N&(D^M))+I[14]+3275163606&4294967295,j=D+(k<<9&4294967295|k>>>23),k=N+(D^M&(j^D))+I[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(N^j))+I[8]+1163531501&4294967295,M=N+(k<<20&4294967295|k>>>12),k=D+(N^j&(M^N))+I[13]+2850285829&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^N&(D^M))+I[2]+4243563512&4294967295,j=D+(k<<9&4294967295|k>>>23),k=N+(D^M&(j^D))+I[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(N^j))+I[12]+2368359562&4294967295,M=N+(k<<20&4294967295|k>>>12),k=D+(M^N^j)+I[5]+4294588738&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^N)+I[8]+2272392833&4294967295,j=D+(k<<11&4294967295|k>>>21),k=N+(j^D^M)+I[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=M+(N^j^D)+I[14]+4259657740&4294967295,M=N+(k<<23&4294967295|k>>>9),k=D+(M^N^j)+I[1]+2763975236&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^N)+I[4]+1272893353&4294967295,j=D+(k<<11&4294967295|k>>>21),k=N+(j^D^M)+I[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=M+(N^j^D)+I[10]+3200236656&4294967295,M=N+(k<<23&4294967295|k>>>9),k=D+(M^N^j)+I[13]+681279174&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^N)+I[0]+3936430074&4294967295,j=D+(k<<11&4294967295|k>>>21),k=N+(j^D^M)+I[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=M+(N^j^D)+I[6]+76029189&4294967295,M=N+(k<<23&4294967295|k>>>9),k=D+(M^N^j)+I[9]+3654602809&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^N)+I[12]+3873151461&4294967295,j=D+(k<<11&4294967295|k>>>21),k=N+(j^D^M)+I[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=M+(N^j^D)+I[2]+3299628645&4294967295,M=N+(k<<23&4294967295|k>>>9),k=D+(N^(M|~j))+I[0]+4096336452&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~N))+I[7]+1126891415&4294967295,j=D+(k<<10&4294967295|k>>>22),k=N+(D^(j|~M))+I[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=M+(j^(N|~D))+I[5]+4237533241&4294967295,M=N+(k<<21&4294967295|k>>>11),k=D+(N^(M|~j))+I[12]+1700485571&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~N))+I[3]+2399980690&4294967295,j=D+(k<<10&4294967295|k>>>22),k=N+(D^(j|~M))+I[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=M+(j^(N|~D))+I[1]+2240044497&4294967295,M=N+(k<<21&4294967295|k>>>11),k=D+(N^(M|~j))+I[8]+1873313359&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~N))+I[15]+4264355552&4294967295,j=D+(k<<10&4294967295|k>>>22),k=N+(D^(j|~M))+I[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=M+(j^(N|~D))+I[13]+1309151649&4294967295,M=N+(k<<21&4294967295|k>>>11),k=D+(N^(M|~j))+I[4]+4149444226&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~N))+I[11]+3174756917&4294967295,j=D+(k<<10&4294967295|k>>>22),k=N+(D^(j|~M))+I[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=M+(j^(N|~D))+I[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+j&4294967295}i.prototype.u=function(P,D){D===void 0&&(D=P.length);for(var M=D-this.blockSize,I=this.B,N=this.h,j=0;j<D;){if(N==0)for(;j<=M;)r(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<D;)if(I[N++]=P.charCodeAt(j++),N==this.blockSize){r(this,I),N=0;break}}else for(;j<D;)if(I[N++]=P[j++],N==this.blockSize){r(this,I),N=0;break}}this.h=N,this.o+=D},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;var M=8*this.o;for(D=P.length-8;D<P.length;++D)P[D]=M&255,M/=256;for(this.u(P),P=Array(16),D=M=0;4>D;++D)for(var I=0;32>I;I+=8)P[M++]=this.g[D]>>>I&255;return P};function o(P,D){var M=u;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=D(P)}function c(P,D){this.h=D;for(var M=[],I=!0,N=P.length-1;0<=N;N--){var j=P[N]|0;I&&j==D||(M[N]=j,I=!1)}this.g=M}var u={};function f(P){return-128<=P&&128>P?o(P,function(D){return new c([D|0],0>D?-1:0)}):new c([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return A(d(-P));for(var D=[],M=1,I=0;P>=M;I++)D[I]=P/M|0,M*=4294967296;return new c(D,0)}function p(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return A(p(P.substring(1),D));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(D,8)),I=v,N=0;N<P.length;N+=8){var j=Math.min(8,P.length-N),k=parseInt(P.substring(N,N+j),D);8>j?(j=d(Math.pow(D,j)),I=I.j(j).add(d(k))):(I=I.j(M),I=I.add(d(k)))}return I}var v=f(0),_=f(1),x=f(16777216);e=c.prototype,e.m=function(){if(R(this))return-A(this).m();for(var P=0,D=1,M=0;M<this.g.length;M++){var I=this.i(M);P+=(0<=I?I:4294967296+I)*D,D*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(R(this))return"-"+A(this).toString(P);for(var D=d(Math.pow(P,6)),M=this,I="";;){var N=W(M,D).g;M=V(M,N.j(D));var j=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=N,E(M))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function R(P){return P.h==-1}e.l=function(P){return P=V(this,P),R(P)?-1:E(P)?0:1};function A(P){for(var D=P.g.length,M=[],I=0;I<D;I++)M[I]=~P.g[I];return new c(M,~P.h).add(_)}e.abs=function(){return R(this)?A(this):this},e.add=function(P){for(var D=Math.max(this.g.length,P.g.length),M=[],I=0,N=0;N<=D;N++){var j=I+(this.i(N)&65535)+(P.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);I=k>>>16,j&=65535,k&=65535,M[N]=k<<16|j}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(P,D){return P.add(A(D))}e.j=function(P){if(E(this)||E(P))return v;if(R(this))return R(P)?A(this).j(A(P)):A(A(this).j(P));if(R(P))return A(this.j(A(P)));if(0>this.l(x)&&0>P.l(x))return d(this.m()*P.m());for(var D=this.g.length+P.g.length,M=[],I=0;I<2*D;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<P.g.length;N++){var j=this.i(I)>>>16,k=this.i(I)&65535,Nt=P.i(N)>>>16,Tt=P.i(N)&65535;M[2*I+2*N]+=k*Tt,B(M,2*I+2*N),M[2*I+2*N+1]+=j*Tt,B(M,2*I+2*N+1),M[2*I+2*N+1]+=k*Nt,B(M,2*I+2*N+1),M[2*I+2*N+2]+=j*Nt,B(M,2*I+2*N+2)}for(I=0;I<D;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=D;I<2*D;I++)M[I]=0;return new c(M,0)};function B(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function F(P,D){this.g=P,this.h=D}function W(P,D){if(E(D))throw Error("division by zero");if(E(P))return new F(v,v);if(R(P))return D=W(A(P),D),new F(A(D.g),A(D.h));if(R(D))return D=W(P,A(D)),new F(A(D.g),D.h);if(30<P.g.length){if(R(P)||R(D))throw Error("slowDivide_ only works with positive integers.");for(var M=_,I=D;0>=I.l(P);)M=q(M),I=q(I);var N=Z(M,1),j=Z(I,1);for(I=Z(I,2),M=Z(M,2);!E(I);){var k=j.add(I);0>=k.l(P)&&(N=N.add(M),j=k),I=Z(I,1),M=Z(M,1)}return D=V(P,N.j(D)),new F(N,D)}for(N=v;0<=P.l(D);){for(M=Math.max(1,Math.floor(P.m()/D.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=d(M),k=j.j(D);R(k)||0<k.l(P);)M-=I,j=d(M),k=j.j(D);E(j)&&(j=_),N=N.add(j),P=V(P,k)}return new F(N,P)}e.A=function(P){return W(this,P).h},e.and=function(P){for(var D=Math.max(this.g.length,P.g.length),M=[],I=0;I<D;I++)M[I]=this.i(I)&P.i(I);return new c(M,this.h&P.h)},e.or=function(P){for(var D=Math.max(this.g.length,P.g.length),M=[],I=0;I<D;I++)M[I]=this.i(I)|P.i(I);return new c(M,this.h|P.h)},e.xor=function(P){for(var D=Math.max(this.g.length,P.g.length),M=[],I=0;I<D;I++)M[I]=this.i(I)^P.i(I);return new c(M,this.h^P.h)};function q(P){for(var D=P.g.length+1,M=[],I=0;I<D;I++)M[I]=P.i(I)<<1|P.i(I-1)>>>31;return new c(M,P.h)}function Z(P,D){var M=D>>5;D%=32;for(var I=P.g.length-M,N=[],j=0;j<I;j++)N[j]=0<D?P.i(j+M)>>>D|P.i(j+M+1)<<32-D:P.i(j+M);return new c(N,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,HE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=p,Pr=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Bc,YE,Bf,my,GE,$E,KE;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,T){return m==Array.prototype||m==Object.prototype||(m[b]=T.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var b=0;b<m.length;++b){var T=m[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function r(m,b){if(b)t:{var T=i;m=m.split(".");for(var O=0;O<m.length-1;O++){var Y=m[O];if(!(Y in T))break t;T=T[Y]}m=m[m.length-1],O=T[m],b=b(O),b!=O&&b!=null&&t(T,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var T=0,O=!1,Y={next:function(){if(!O&&T<m.length){var J=T++;return{value:b(J,m[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}r("Array.prototype.values",function(m){return m||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function p(m,b,T){return m.call.apply(m.bind,arguments)}function v(m,b,T){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),m.apply(b,Y)}}return function(){return m.apply(b,arguments)}}function _(m,b,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function x(m,b){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function E(m,b){function T(){}T.prototype=b.prototype,m.aa=b.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(O,Y,J){for(var ut=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ut[Yt-2]=arguments[Yt];return b.prototype[Y].apply(O,ut)}}function R(m){const b=m.length;if(0<b){const T=Array(b);for(let O=0;O<b;O++)T[O]=m[O];return T}return[]}function A(m,b){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(f(O)){const Y=m.length||0,J=O.length||0;m.length=Y+J;for(let ut=0;ut<J;ut++)m[Y+ut]=O[ut]}else m.push(O)}}class V{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function B(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function W(m){return W[" "](m),m}W[" "]=function(){};var q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Z(m,b,T){for(const O in m)b.call(T,m[O],O,m)}function P(m,b){for(const T in m)b.call(void 0,m[T],T,m)}function D(m){const b={};for(const T in m)b[T]=m[T];return b}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,b){let T,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(T in O)m[T]=O[T];for(let J=0;J<M.length;J++)T=M[J],Object.prototype.hasOwnProperty.call(O,T)&&(m[T]=O[T])}}function N(m){var b=1;m=m.split(":");const T=[];for(;0<b&&m.length;)T.push(m.shift()),b--;return m.length&&T.push(m.join(":")),T}function j(m){u.setTimeout(()=>{throw m},0)}function k(){var m=wt;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class Nt{constructor(){this.h=this.g=null}add(b,T){const O=Tt.get();O.set(b,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Tt=new V(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ht=!1,wt=new Nt,L=()=>{const m=u.Promise.resolve(void 0);st=()=>{m.then(et)}};var et=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(T){j(T)}var b=Tt;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return m}();function Et(m,b){if(ot.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(q){t:{try{W(b.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(b=null)}}else T=="mouseover"?b=m.fromElement:T=="mouseout"&&(b=m.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:yt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Et.aa.h.call(this)}}E(Et,ot);var yt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),qt=0;function re(m,b,T,O,Y){this.listener=m,this.proxy=null,this.src=b,this.type=T,this.capture=!!O,this.ha=Y,this.key=++qt,this.da=this.fa=!1}function bt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function lt(m){this.src=m,this.g={},this.h=0}lt.prototype.add=function(m,b,T,O,Y){var J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);var ut=_t(m,b,O,Y);return-1<ut?(b=m[ut],T||(b.fa=!1)):(b=new re(b,this.src,J,!!O,Y),b.fa=T,m.push(b)),b};function dt(m,b){var T=b.type;if(T in m.g){var O=m.g[T],Y=Array.prototype.indexOf.call(O,b,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(O,Y,1),J&&(bt(b),m.g[T].length==0&&(delete m.g[T],m.h--))}}function _t(m,b,T,O){for(var Y=0;Y<m.length;++Y){var J=m[Y];if(!J.da&&J.listener==b&&J.capture==!!T&&J.ha==O)return Y}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Se={};function be(m,b,T,O,Y){if(Array.isArray(b)){for(var J=0;J<b.length;J++)be(m,b[J],T,O,Y);return null}return T=Wa(T),m&&m[ve]?m.K(b,T,d(O)?!!O.capture:!1,Y):Wt(m,b,T,!1,O,Y)}function Wt(m,b,T,O,Y,J){if(!b)throw Error("Invalid event type");var ut=d(Y)?!!Y.capture:!!Y,Yt=ms(m);if(Yt||(m[vt]=Yt=new lt(m)),T=Yt.add(b,T,O,ut,J),T.proxy)return T;if(O=Ws(),T.proxy=O,O.src=m,O.listener=T,m.addEventListener)mt||(Y=ut),Y===void 0&&(Y=!1),m.addEventListener(b.toString(),O,Y);else if(m.attachEvent)m.attachEvent(ds(b.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ws(){function m(T){return b.call(m.src,m.listener,T)}const b=Ml;return m}function Zs(m,b,T,O,Y){if(Array.isArray(b))for(var J=0;J<b.length;J++)Zs(m,b[J],T,O,Y);else O=d(O)?!!O.capture:!!O,T=Wa(T),m&&m[ve]?(m=m.i,b=String(b).toString(),b in m.g&&(J=m.g[b],T=_t(J,T,O,Y),-1<T&&(bt(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete m.g[b],m.h--)))):m&&(m=ms(m))&&(b=m.g[b.toString()],m=-1,b&&(m=_t(b,T,O,Y)),(T=-1<m?b[m]:null)&&Js(T))}function Js(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ve])dt(b.i,m);else{var T=m.type,O=m.proxy;b.removeEventListener?b.removeEventListener(T,O,m.capture):b.detachEvent?b.detachEvent(ds(T),O):b.addListener&&b.removeListener&&b.removeListener(O),(T=ms(b))?(dt(T,m),T.h==0&&(T.src=null,b[vt]=null)):bt(m)}}}function ds(m){return m in Se?Se[m]:Se[m]="on"+m}function Ml(m,b){if(m.da)m=!0;else{b=new Et(b,this);var T=m.listener,O=m.ha||m.src;m.fa&&Js(m),m=T.call(O,b)}return m}function ms(m){return m=m[vt],m instanceof lt?m:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wa(m){return typeof m=="function"?m:(m[Qr]||(m[Qr]=function(b){return m.handleEvent(b)}),m[Qr])}function Ee(){ct.call(this),this.i=new lt(this),this.M=this,this.F=null}E(Ee,ct),Ee.prototype[ve]=!0,Ee.prototype.removeEventListener=function(m,b,T,O){Zs(this,m,b,T,O)};function ie(m,b){var T,O=m.F;if(O)for(T=[];O;O=O.F)T.push(O);if(m=m.M,O=b.type||b,typeof b=="string")b=new ot(b,m);else if(b instanceof ot)b.target=b.target||m;else{var Y=b;b=new ot(O,m),I(b,Y)}if(Y=!0,T)for(var J=T.length-1;0<=J;J--){var ut=b.g=T[J];Y=Vn(ut,O,!0,b)&&Y}if(ut=b.g=m,Y=Vn(ut,O,!0,b)&&Y,Y=Vn(ut,O,!1,b)&&Y,T)for(J=0;J<T.length;J++)ut=b.g=T[J],Y=Vn(ut,O,!1,b)&&Y}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var T=m.g[b],O=0;O<T.length;O++)bt(T[O]);delete m.g[b],m.h--}}this.F=null},Ee.prototype.K=function(m,b,T,O){return this.i.add(String(m),b,!1,T,O)},Ee.prototype.L=function(m,b,T,O){return this.i.add(String(m),b,!0,T,O)};function Vn(m,b,T,O){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,J=0;J<b.length;++J){var ut=b[J];if(ut&&!ut.da&&ut.capture==T){var Yt=ut.listener,Xe=ut.ha||ut.src;ut.fa&&dt(m.i,ut),Y=Yt.call(Xe,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function He(m,b,T){if(typeof m=="function")T&&(m=_(m,T));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(m,b||0)}function Wr(m){m.g=He(()=>{m.g=null,m.i&&(m.i=!1,Wr(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class Za extends ct{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(m){ct.call(this),this.h=m,this.g={}}E(gs,ct);var ni=[];function Ii(m){Z(m.g,function(b,T){this.g.hasOwnProperty(T)&&Js(b)},m),m.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ii(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=u.JSON.stringify,ps=u.JSON.parse,ji=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ys(){}ys.prototype.h=null;function Zr(m){return m.h||(m.h=m.i())}function tr(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){ot.call(this,"d")}E(ii,ot);function qe(){ot.call(this,"c")}E(qe,ot);var Te={},Li=null;function te(){return Li=Li||new Ee}Te.La="serverreachability";function un(m){ot.call(this,Te.La,m)}E(un,ot);function zi(m){const b=te();ie(b,new un(b))}Te.STAT_EVENT="statevent";function er(m,b){ot.call(this,Te.STAT_EVENT,m),this.stat=b}E(er,ot);function ge(m){const b=te();ie(b,new er(b,m))}Te.Ma="timingevent";function Ne(m,b){ot.call(this,Te.Ma,m),this.size=b}E(Ne,ot);function Ae(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},b)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function vs(m,b,T,O,Y,J){m.info(function(){if(m.g)if(J)for(var ut="",Yt=J.split("&"),Xe=0;Xe<Yt.length;Xe++){var Gt=Yt[Xe].split("=");if(1<Gt.length){var rn=Gt[0];Gt=Gt[1];var Qe=rn.split("_");ut=2<=Qe.length&&Qe[1]=="type"?ut+(rn+"="+Gt+"&"):ut+(rn+"=redacted&")}}else ut=null;else ut=J;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+b+`
`+T+`
`+ut})}function Jr(m,b,T,O,Y,J,ut){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+b+`
`+T+`
`+J+" "+ut})}function si(m,b,T,O){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ei(m,T)+(O?" "+O:"")})}function Ja(m,b){m.info(function(){return"TIMEOUT: "+b})}hn.prototype.info=function(){};function Ei(m,b){if(!m.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var O=T[m];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ut=1;ut<Y.length;ut++)Y[ut]=""}}}}return $n(T)}catch{return b}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function Mt(){}E(Mt,ys),Mt.prototype.g=function(){return new XMLHttpRequest},Mt.prototype.i=function(){return{}},ri=new Mt;function Lt(m,b,T,O){this.j=m,this.i=b,this.l=T,this.R=O||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var fn={},nn={};function Pn(m,b,T){m.L=1,m.v=sa(Kn(b)),m.m=T,m.P=!0,Ci(m,null)}function Ci(m,b){m.F=Date.now(),ta(m),m.A=Kn(m.v);var T=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),jl(T.i,"t",O),m.C=0,T=m.j.J,m.h=new Pt,m.g=sh(m.j,T?b:null,!m.m),0<m.O&&(m.M=new Za(_(m.Y,m,m.g),m.O)),b=m.U,T=m.g,O=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ni[0]=Y.toString()),Y=ni);for(var J=0;J<Y.length;J++){var ut=be(T,Y[J],O||b.handleEvent,!1,b.h||b);if(!ut)break;b.g[ut.key]=ut}b=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),zi(),vs(m.i,m.u,m.A,m.l,m.R,m.m)}Lt.prototype.ca=function(m){m=m.target;const b=this.M;b&&ci(m)==3?b.j():this.Y(m)},Lt.prototype.Y=function(m){try{if(m==this.g)t:{const Qe=ci(this.g);var b=this.g.Ba();const As=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Qe!=4||b==7||(b==8||0>=As?zi(3):zi(2)),nr(this);var T=this.g.Z();this.X=T;e:if(to(this)){var O=Qu(this.g);m="";var Y=O.length,J=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Bi(this);var ut="";break e}this.h.i=new u.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,m+=this.h.i.decode(O[b],{stream:!(J&&b==Y-1)});O.length=0,this.h.g+=m,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,Jr(this.i,this.u,this.A,this.l,this.R,Qe,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Xe=this.g;if((Yt=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Yt)){var Gt=Yt;break e}}Gt=null}if(T=Gt)si(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,T);else{this.o=!1,this.s=3,ge(12),dn(this),Bi(this);break t}}if(this.P){T=!0;let mn;for(;!this.J&&this.C<ut.length;)if(mn=qu(this,ut),mn==nn){Qe==4&&(this.s=4,ge(14),T=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==fn){this.s=4,ge(15),si(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else si(this.i,this.l,mn,null),ea(this,mn);if(to(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||ut.length!=0||this.h.h||(this.s=1,ge(16),T=!1),this.o=this.o&&T,!T)si(this.i,this.l,ut,"[Invalid Chunked Response]"),dn(this),Bi(this);else if(0<ut.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),fa(rn),rn.M=!0,ge(11))}}else si(this.i,this.l,ut,null),ea(this,ut);Qe==4&&dn(this),this.o&&!this.J&&(Qe==4?eh(this.j,this):(this.o=!1,ta(this)))}else om(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),dn(this),Bi(this)}}}catch{}finally{}};function to(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function qu(m,b){var T=m.C,O=b.indexOf(`
`,T);return O==-1?nn:(T=Number(b.substring(T,O)),isNaN(T)?fn:(O+=1,O+T>b.length?nn:(b=b.slice(O,O+T),m.C=O+T,b)))}Lt.prototype.cancel=function(){this.J=!0,dn(this)};function ta(m){m.S=Date.now()+m.I,Yu(m,m.I)}function Yu(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ae(_(m.ba,m),b)}function nr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Lt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ja(this.i,this.A),this.L!=2&&(zi(),ge(17)),dn(this),this.s=2,Bi(this)):Yu(this,this.S-m)};function Bi(m){m.j.G==0||m.J||eh(m.j,m)}function dn(m){nr(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Ii(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function ea(m,b){try{var T=m.j;if(T.G!=0&&(T.g==m||Nl(T.h,m))){if(!m.K&&Nl(T.h,m)&&T.G==3){try{var O=T.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)fo(T),uo(T);else break t;Fl(T),ge(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ae(_(T.Za,T),6e3));if(1>=no(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Es(T,11)}else if((m.K||T.g==m)&&fo(T),!B(b))for(Y=T.Da.g.parse(b),b=0;b<Y.length;b++){let Gt=Y[b];if(T.T=Gt[0],Gt=Gt[1],T.G==2)if(Gt[0]=="c"){T.K=Gt[1],T.ia=Gt[2];const rn=Gt[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const Qe=Gt[4];Qe!=null&&(T.Aa=Qe,T.j.info("SVER="+T.Aa));const As=Gt[5];As!=null&&typeof As=="number"&&0<As&&(O=1.5*As,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const mn=m.g;if(mn){const $i=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var J=O.h;J.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(io(J,J.h),J.h=null))}if(O.D){const ql=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(O.ya=ql,he(O.I,O.D,ql))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var ut=m;if(O.qa=ih(O,O.J?O.ia:null,O.W),ut.K){kn(O.h,ut);var Yt=ut,Xe=O.L;Xe&&(Yt.I=Xe),Yt.B&&(nr(Yt),ta(Yt)),O.g=ut}else Ju(O);0<T.i.length&&ho(T)}else Gt[0]!="stop"&&Gt[0]!="close"||Es(T,7);else T.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Es(T,7):Bl(T):Gt[0]!="noop"&&T.l&&T.l.ta(Gt),T.v=0)}}zi(4)}catch{}}var Gu=class{constructor(m,b){this.g=m,this.map=b}};function bs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function no(m){return m.h?1:m.g?m.g.size:0}function Nl(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function io(m,b){m.g?m.g.add(b):m.h=b}function kn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}bs.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const T of m.g.values())b=b.concat(T.D);return b}return R(m.i)}function im(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var b=[],T=m.length,O=0;O<T;O++)b.push(m[O]);return b}b=[],T=0;for(O in m)b[T++]=m[O];return b}function so(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var b=[];m=m.length;for(var T=0;T<m;T++)b.push(T);return b}b=[],T=0;for(const O in m)b[T++]=O;return b}}}function Pl(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var T=so(m),O=im(m),Y=O.length,J=0;J<Y;J++)b.call(void 0,O[J],T&&T[J],m)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sm(m,b){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var O=m[T].indexOf("="),Y=null;if(0<=O){var J=m[T].substring(0,O);Y=m[T].substring(O+1)}else J=m[T];b(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ye(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ye){this.h=m.h,ia(this,m.j),this.o=m.o,this.g=m.g,ir(this,m.s),this.l=m.l;var b=m.i,T=new xs;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),_s(this,T),this.m=m.m}else m&&(b=String(m).match(na))?(this.h=!1,ia(this,b[1]||"",!0),this.o=ai(b[2]||""),this.g=ai(b[3]||"",!0),ir(this,b[4]),this.l=ai(b[5]||"",!0),_s(this,b[6]||"",!0),this.m=ai(b[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}Ye.prototype.toString=function(){var m=[],b=this.j;b&&m.push(ra(b,kl,!0),":");var T=this.g;return(T||b=="file")&&(m.push("//"),(b=this.o)&&m.push(ra(b,kl,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(ra(T,T.charAt(0)=="/"?rm:Il,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",ra(T,ro)),m.join("")};function Kn(m){return new Ye(m)}function ia(m,b,T){m.j=T?ai(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function ir(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function _s(m,b,T){b instanceof xs?(m.i=b,Ku(m.i,m.h)):(T||(b=ra(b,am)),m.i=new xs(b,m.h))}function he(m,b,T){m.i.set(b,T)}function sa(m){return he(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ai(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ra(m,b,T){return typeof m=="string"?(m=encodeURI(m).replace(b,$u),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $u(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var kl=/[#\/\?@]/g,Il=/[#\?:]/g,rm=/[#\?]/g,am=/[#\?@]/g,ro=/#/g;function xs(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function oi(m){m.g||(m.g=new Map,m.h=0,m.i&&sm(m.i,function(b,T){m.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}e=xs.prototype,e.add=function(m,b){oi(this),this.i=null,m=Ui(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(b),this.h+=1,this};function Ts(m,b){oi(m),b=Ui(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function ws(m,b){return oi(m),b=Ui(m,b),m.g.has(b)}e.forEach=function(m,b){oi(this),this.g.forEach(function(T,O){T.forEach(function(Y){m.call(b,Y,O,this)},this)},this)},e.na=function(){oi(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let O=0;O<b.length;O++){const Y=m[O];for(let J=0;J<Y.length;J++)T.push(b[O])}return T},e.V=function(m){oi(this);let b=[];if(typeof m=="string")ws(this,m)&&(b=b.concat(this.g.get(Ui(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)b=b.concat(m[T])}return b},e.set=function(m,b){return oi(this),this.i=null,m=Ui(this,m),ws(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},e.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function jl(m,b,T){Ts(m,b),0<T.length&&(m.i=null,m.g.set(Ui(m,b),R(T)),m.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var O=b[T];const J=encodeURIComponent(String(O)),ut=this.V(O);for(O=0;O<ut.length;O++){var Y=J;ut[O]!==""&&(Y+="="+encodeURIComponent(String(ut[O]))),m.push(Y)}}return this.i=m.join("&")};function Ui(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ku(m,b){b&&!m.j&&(oi(m),m.i=null,m.g.forEach(function(T,O){var Y=O.toLowerCase();O!=Y&&(Ts(this,O),jl(this,Y,T))},m)),m.j=b}function aa(m,b){const T=new hn;if(u.Image){const O=new Image;O.onload=x(li,T,"TestLoadImage: loaded",!0,b,O),O.onerror=x(li,T,"TestLoadImage: error",!1,b,O),O.onabort=x(li,T,"TestLoadImage: abort",!1,b,O),O.ontimeout=x(li,T,"TestLoadImage: timeout",!1,b,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else b(!1)}function Ri(m,b){const T=new hn,O=new AbortController,Y=setTimeout(()=>{O.abort(),li(T,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:O.signal}).then(J=>{clearTimeout(Y),J.ok?li(T,"TestPingServer: ok",!0,b):li(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),li(T,"TestPingServer: error",!1,b)})}function li(m,b,T,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(T)}catch{}}function oa(){this.g=new ji}function Fi(m,b,T){const O=T||"";try{Pl(m,function(Y,J){let ut=Y;d(Y)&&(ut=$n(Y)),b.push(O+J+"="+encodeURIComponent(ut))})}catch(Y){throw b.push(O+"type="+encodeURIComponent("_badmap")),Y}}function sr(m){this.l=m.Ub||null,this.j=m.eb||!1}E(sr,ys),sr.prototype.g=function(){return new Ss(this.l,this.j)},sr.prototype.i=function(m){return function(){return m}}({});function Ss(m,b){Ee.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ss,Ee),e=Ss.prototype,e.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,qi(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Hi(this):qi(this),this.readyState==3&&Ll(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,Hi(this))},e.Qa=function(m){this.g&&(this.response=m,Hi(this))},e.ga=function(){this.g&&Hi(this)};function Hi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,qi(m)}e.setRequestHeader=function(m,b){this.u.append(m,b)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=b.next();return m.join(`\r
`)};function qi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zl(m){let b="";return Z(m,function(T,O){b+=O,b+=":",b+=T,b+=`\r
`}),b}function sn(m,b,T){t:{for(O in T){var O=!1;break t}O=!0}O||(T=zl(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):he(m,b,T))}function ae(m){Ee.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ae,Ee);var ao=/^https?$/i,la=["POST","PUT"];e=ae.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,b,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Zr(this.o):Zr(ri),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(J){Xu(this,J);return}if(m=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)T.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())T.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),Y=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(la,b,void 0))||O||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ut]of T)this.g.setRequestHeader(J,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(m),this.u=!1}catch(J){Xu(this,J)}};function Xu(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,oo(m),Yi(m)}function oo(m){m.A||(m.A=!0,ie(m,"complete"),ie(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ie(this,"complete"),ie(this,"abort"),Yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ae.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},e.bb=function(){lo(this)};function lo(m){if(m.h&&typeof c<"u"&&(!m.v[1]||ci(m)!=4||m.Z()!=2)){if(m.u&&ci(m)==4)He(m.Ea,0,m);else if(ie(m,"readystatechange"),ci(m)==4){m.h=!1;try{const ut=m.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var O;if(O=ut===0){var Y=String(m.D).match(na)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),O=!ao.test(Y?Y.toLowerCase():"")}T=O}if(T)ie(m,"complete"),ie(m,"success");else{m.m=6;try{var J=2<ci(m)?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.Z()+"]",oo(m)}}finally{Yi(m)}}}}function Yi(m,b){if(m.g){ca(m);const T=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||ie(m,"ready");try{T.onreadystatechange=O}catch{}}}function ca(m){m.I&&(u.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function ci(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),ps(b)}};function Qu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function om(m){const b={};m=(m.g&&2<=ci(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(B(m[O]))continue;var T=N(m[O]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=b[Y]||[];b[Y]=J,J.push(T)}P(b,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(m,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||b}function co(m){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,m),this.cb=ua("retryDelaySeedMs",1e4,m),this.Wa=ua("forwardChannelMaxRetries",2,m),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(m&&m.concurrentRequestLimit),this.Da=new oa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=co.prototype,e.la=8,e.G=1,e.connect=function(m,b,T,O){ge(0),this.W=m,this.H=b||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=ih(this,null,this.W),ho(this)};function Bl(m){if(Wu(m),m.G==3){var b=m.U++,T=Kn(m.I);if(he(T,"SID",m.K),he(T,"RID",b),he(T,"TYPE","terminate"),ha(m,T),b=new Lt(m,m.j,b),b.L=2,b.v=sa(Kn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=sh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ta(b)}nh(m)}function uo(m){m.g&&(fa(m),m.g.cancel(),m.g=null)}function Wu(m){uo(m),m.u&&(u.clearTimeout(m.u),m.u=null),fo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function ho(m){if(!eo(m.h)&&!m.s){m.s=!0;var b=m.Ga;st||L(),ht||(st(),ht=!0),wt.add(b,m),m.B=0}}function lm(m,b){return no(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ae(_(m.Ga,m,b),Hl(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Lt(this,this.j,m);let J=this.o;if(this.S&&(J?(J=D(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=Zu(this,Y,b),T=Kn(this.I),he(T,"RID",m),he(T,"CVER",22),this.D&&he(T,"X-HTTP-Session-Id",this.D),ha(this,T),J&&(this.O?b="headers="+encodeURIComponent(String(zl(J)))+"&"+b:this.m&&sn(T,this.m,J)),io(this.h,Y),this.Ua&&he(T,"TYPE","init"),this.P?(he(T,"$req",b),he(T,"SID","null"),Y.T=!0,Pn(Y,T,null)):Pn(Y,T,b),this.G=2}}else this.G==3&&(m?Ul(this,m):this.i.length==0||eo(this.h)||Ul(this))};function Ul(m,b){var T;b?T=b.l:T=m.U++;const O=Kn(m.I);he(O,"SID",m.K),he(O,"RID",T),he(O,"AID",m.T),ha(m,O),m.m&&m.o&&sn(O,m.m,m.o),T=new Lt(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Zu(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),io(m.h,T),Pn(T,O,b)}function ha(m,b){m.H&&Z(m.H,function(T,O){he(b,O,T)}),m.l&&Pl({},function(T,O){he(b,O,T)})}function Zu(m,b,T){T=Math.min(m.i.length,T);var O=m.l?_(m.l.Na,m.l,m):null;t:{var Y=m.i;let J=-1;for(;;){const ut=["count="+T];J==-1?0<T?(J=Y[0].g,ut.push("ofs="+J)):J=0:ut.push("ofs="+J);let Yt=!0;for(let Xe=0;Xe<T;Xe++){let Gt=Y[Xe].g;const rn=Y[Xe].map;if(Gt-=J,0>Gt)J=Math.max(0,Y[Xe].g-100),Yt=!1;else try{Fi(rn,ut,"req"+Gt+"_")}catch{O&&O(rn)}}if(Yt){O=ut.join("&");break t}}}return m=m.i.splice(0,T),b.D=m,O}function Ju(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;st||L(),ht||(st(),ht=!0),wt.add(b,m),m.v=0}}function Fl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ae(_(m.Fa,m),Hl(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ae(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),uo(this),th(this))};function fa(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function th(m){m.g=new Lt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Kn(m.qa);he(b,"RID","rpc"),he(b,"SID",m.K),he(b,"AID",m.T),he(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&he(b,"TO",m.ja),he(b,"TYPE","xmlhttp"),ha(m,b),m.m&&m.o&&sn(b,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=sa(Kn(b)),T.m=null,T.P=!0,Ci(T,m)}e.Za=function(){this.C!=null&&(this.C=null,uo(this),Fl(this),ge(19))};function fo(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function eh(m,b){var T=null;if(m.g==b){fo(m),fa(m),m.g=null;var O=2}else if(Nl(m.h,b))T=b.D,kn(m.h,b),O=1;else return;if(m.G!=0){if(b.o)if(O==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var Y=m.B;O=te(),ie(O,new Ne(O,T)),ho(m)}else Ju(m);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(O==1&&lm(m,b)||O==2&&Fl(m)))switch(T&&0<T.length&&(b=m.h,b.i=b.i.concat(T)),Y){case 1:Es(m,5);break;case 4:Es(m,10);break;case 3:Es(m,6);break;default:Es(m,2)}}}function Hl(m,b){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*b}function Es(m,b){if(m.j.info("Error code "+b),b==2){var T=_(m.fb,m),O=m.Xa;const Y=!O;O=new Ye(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ia(O,"https"),sa(O),Y?aa(O.toString(),T):Ri(O.toString(),T)}else ge(2);m.G=0,m.l&&m.l.sa(b),nh(m),Wu(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function nh(m){if(m.G=0,m.ka=[],m.l){const b=Vl(m.h);(b.length!=0||m.i.length!=0)&&(A(m.ka,b),A(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function ih(m,b,T){var O=T instanceof Ye?Kn(T):new Ye(T);if(O.g!="")b&&(O.g=b+"."+O.g),ir(O,O.s);else{var Y=u.location;O=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new Ye(null);O&&ia(J,O),b&&(J.g=b),Y&&ir(J,Y),T&&(J.l=T),O=J}return T=m.D,b=m.ya,T&&b&&he(O,T,b),he(O,"VER",m.la),ha(m,O),O}function sh(m,b,T){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new ae(new sr({eb:T})):new ae(m.pa),b.Ha(m.J),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}e=rh.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function mo(){}mo.prototype.g=function(m,b){return new In(m,b)};function In(m,b){Ee.call(this),this.g=new co(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!B(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!B(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Gi(this)}E(In,Ee),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Bl(this.g)},In.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=$n(m),m=T);b.i.push(new Gu(b.Ya++,m)),b.G==3&&ho(b)},In.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,In.aa.N.call(this)};function ah(m){ii.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const T in b){m=T;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}E(ah,ii);function oh(){qe.call(this),this.status=1}E(oh,qe);function Gi(m){this.g=m}E(Gi,rh),Gi.prototype.ua=function(){ie(this.g,"a")},Gi.prototype.ta=function(m){ie(this.g,new ah(m))},Gi.prototype.sa=function(m){ie(this.g,new oh)},Gi.prototype.ra=function(){ie(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,KE=function(){return new mo},$E=function(){return te()},GE=Te,my={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Bf=Ai,Di.COMPLETE="complete",YE=Di,tr.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Bc=tr,ae.prototype.listenOnce=ae.prototype.L,ae.prototype.getLastError=ae.prototype.Ka,ae.prototype.getLastErrorCode=ae.prototype.Ba,ae.prototype.getStatus=ae.prototype.Z,ae.prototype.getResponseJson=ae.prototype.Oa,ae.prototype.getResponseText=ae.prototype.oa,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Ha,qE=ae}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore",RT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new jE("@firebase/firestore");function qo(){return Ya.logLevel}function gt(e,...t){if(Ya.logLevel<=Xt.DEBUG){const n=t.map(U0);Ya.debug(`Firestore (${Tl}): ${e}`,...n)}}function Xs(e,...t){if(Ya.logLevel<=Xt.ERROR){const n=t.map(U0);Ya.error(`Firestore (${Tl}): ${e}`,...n)}}function ul(e,...t){if(Ya.logLevel<=Xt.WARN){const n=t.map(U0);Ya.warn(`Firestore (${Tl}): ${e}`,...n)}}function U0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e="Unexpected state"){const t=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+e;throw Xs(t),new Error(t)}function Me(e,t){e||kt()}function Qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends xl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class d3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m3{constructor(t){this.t=t,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Me(this.o===void 0);let i=this.i;const r=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ua,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},u=f=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ua)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new XE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string"),new Dn(t)}}class g3{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p3{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new g3(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y3{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,X6(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Me(this.o===void 0);const i=o=>{o.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,gt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new OT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new OT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=v3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=t.charAt(r[o]%62))}return i}}function Bt(e,t){return e<t?-1:e>t?1:0}function gy(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return Bt(i,r);{const o=QE(),c=_3(o.encode(MT(e,n)),o.encode(MT(t,n)));return c!==0?c:Bt(i,r)}}n+=i>65535?2:1}return Bt(e.length,t.length)}function MT(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function _3(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Bt(e[n],t[n]);return Bt(e.length,t.length)}function hl(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=-62135596800,VT=1e6;class Gn{static now(){return Gn.fromMillis(Date.now())}static fromDate(t){return Gn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*VT);return new Gn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<NT)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-NT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Gn(0,0))}static max(){return new Vt(new Gn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__name__";class ss{constructor(t,n,i){n===void 0?n=0:n>t.length&&kt(),i===void 0?i=t.length-n:i>t.length-n&&kt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const o=ss.compareSegments(t.get(r),n.get(r));if(o!==0)return o}return Bt(t.length,n.length)}static compareSegments(t,n){const i=ss.isNumericId(t),r=ss.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?ss.extractNumericId(t).compare(ss.extractNumericId(n)):gy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class Ie extends ss{construct(t,n,i){return new Ie(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const x3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends ss{construct(t,n,i){return new Ln(t,n,i)}static isValidIdentifier(t){return x3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new Ln([PT])}static fromServerFormat(t){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new Ct(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ct(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(c=!c,r++):u!=="."||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new Ct(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(Ie.fromString(t))}static fromName(t){return new Ot(Ie.fromString(t).popFirst(5))}static empty(){return new Ot(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new Ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function T3(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Vt.fromTimestamp(i===1e9?new Gn(n+1,0):new Gn(n,i));return new Br(r,Ot.empty(),t)}function w3(e){return new Br(e.readTime,e.key,vu)}class Br{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Br(Vt.min(),Ot.empty(),vu)}static max(){return new Br(Vt.max(),Ot.empty(),vu)}}function S3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:Bt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==E3)throw e;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):at.reject(n)}static resolve(t){return new at((n,i)=>{n(t)})}static reject(t){return new at((n,i)=>{i(t)})}static waitFor(t){return new at((n,i)=>{let r=0,o=0,c=!1;t.forEach(u=>{++r,u.next(()=>{++o,c&&o===r&&n()},f=>i(f))}),c=!0,o===r&&n()})}static or(t){let n=at.resolve(!1);for(const i of t)n=n.next(r=>r?at.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(t,n){return new at((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(t[d]).next(p=>{c[d]=p,++u,u===o&&i(c)},p=>r(p))}})}static doWhile(t,n){return new at((i,r)=>{const o=()=>{t()===!0?n().next(()=>{o()},r):i()};o()})}}function D3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Id.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=-1;function jd(e){return e==null}function py(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="";function R3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=kT(t)),t=O3(e.get(n),t);return kT(t)}function O3(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const o=e.charAt(r);switch(o){case"\0":n+="";break;case WE:n+="";break;default:n+=o}}return n}function kT(e){return e+WE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){this.comparator=t,this.root=n||bn.EMPTY}insert(t,n){return new Fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new Fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gf(this.root,t,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gf(this.root,t,this.comparator,!0)}}class gf{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bn{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i??bn.RED,this.left=r??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new bn(t??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return bn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const t=this.left.check();if(t!==this.right.check())throw kt();return t+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(t,n,i,r,o){return this}insert(t,n,i){return new bn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new Fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(t){return new jT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class jT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.fields=t,t.sort(Ln.comparator)}static empty(){return new Cr([])}unionWith(t){let n=new en(Ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Cr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZE("Invalid base64 string: "+o):o}}(t);return new xn(n)}static fromUint8Array(t){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const N3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(e){if(Me(!!e),typeof e=="string"){let t=0;const n=N3.exec(e);if(Me(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Be(e.seconds),nanos:Be(e.nanos)}}function Be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fr(e){return typeof e=="string"?xn.fromBase64String(e):xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",tA="__type__",eA="__previous_value__",nA="__local_write_time__";function F0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[tA])===null||n===void 0?void 0:n.stringValue)===JE}function Ld(e){const t=e.mapValue.fields[eA];return F0(t)?Ld(t):t}function bu(e){const t=Ur(e.mapValue.fields[nA].timestampValue);return new Gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n,i,r,o,c,u,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d}}const od="(default)";class _u{constructor(t,n){this.projectId=t,this.database=n||od}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===od}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__type__",k3="__max__",pf={mapValue:{}},I3="__vector__",yy="value";function Hr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?F0(e)?4:L3(e)?9007199254740991:j3(e)?10:11:kt()}function hs(e,t){if(e===t)return!0;const n=Hr(e);if(n!==Hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bu(e).isEqual(bu(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ur(r.timestampValue),u=Ur(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Fr(r.bytesValue).isEqual(Fr(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Be(r.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Be(r.integerValue)===Be(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Be(r.doubleValue),u=Be(o.doubleValue);return c===u?py(c)===py(u):isNaN(c)&&isNaN(u)}return!1}(e,t);case 9:return hl(e.arrayValue.values||[],t.arrayValue.values||[],hs);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(IT(c)!==IT(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!hs(c[f],u[f])))return!1;return!0}(e,t);default:return kt()}}function xu(e,t){return(e.values||[]).find(n=>hs(n,t))!==void 0}function fl(e,t){if(e===t)return 0;const n=Hr(e),i=Hr(t);if(n!==i)return Bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(e.booleanValue,t.booleanValue);case 2:return function(o,c){const u=Be(o.integerValue||o.doubleValue),f=Be(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(e,t);case 3:return LT(e.timestampValue,t.timestampValue);case 4:return LT(bu(e),bu(t));case 5:return gy(e.stringValue,t.stringValue);case 6:return function(o,c){const u=Fr(o),f=Fr(c);return u.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(o,c){const u=o.split("/"),f=c.split("/");for(let d=0;d<u.length&&d<f.length;d++){const p=Bt(u[d],f[d]);if(p!==0)return p}return Bt(u.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,c){const u=Bt(Be(o.latitude),Be(c.latitude));return u!==0?u:Bt(Be(o.longitude),Be(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zT(e.arrayValue,t.arrayValue);case 10:return function(o,c){var u,f,d,p;const v=o.fields||{},_=c.fields||{},x=(u=v[yy])===null||u===void 0?void 0:u.arrayValue,E=(f=_[yy])===null||f===void 0?void 0:f.arrayValue,R=Bt(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:zT(x,E)}(e.mapValue,t.mapValue);case 11:return function(o,c){if(o===pf.mapValue&&c===pf.mapValue)return 0;if(o===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=c.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const _=gy(f[v],p[v]);if(_!==0)return _;const x=fl(u[f[v]],d[p[v]]);if(x!==0)return x}return Bt(f.length,p.length)}(e.mapValue,t.mapValue);default:throw kt()}}function LT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Bt(e,t);const n=Ur(e),i=Ur(t),r=Bt(n.seconds,i.seconds);return r!==0?r:Bt(n.nanos,i.nanos)}function zT(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=fl(n[r],i[r]);if(o)return o}return Bt(n.length,i.length)}function dl(e){return vy(e)}function vy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ur(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Fr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=vy(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${vy(n.fields[c])}`;return r+"}"}(e.mapValue):kt()}function Uf(e){switch(Hr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ld(e);return t?16+Uf(t):16;case 5:return 2*e.stringValue.length;case 6:return Fr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Uf(o),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Vu(i.fields,(o,c)=>{r+=o.length+Uf(c)}),r}(e.mapValue);default:throw kt()}}function by(e){return!!e&&"integerValue"in e}function H0(e){return!!e&&"arrayValue"in e}function BT(e){return!!e&&"nullValue"in e}function UT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xp(e){return!!e&&"mapValue"in e}function j3(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[P3])===null||n===void 0?void 0:n.stringValue)===I3}function Zc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vu(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Zc(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function L3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===k3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.value=t}static empty(){return new rs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!xp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zc(n)}setAll(t){let n=Ln.emptyPath(),i={},r=[];t.forEach((c,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,i,r),i={},r=[],n=u.popLast()}c?i[u.lastSegment()]=Zc(c):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(t){const n=this.field(t.popLast());xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];xp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Vu(n,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new rs(Zc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,n,i,r,o,c,u){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new Cn(t,0,Vt.min(),Vt.min(),Vt.min(),rs.empty(),0)}static newFoundDocument(t,n,i,r){return new Cn(t,1,n,Vt.min(),i,r,0)}static newNoDocument(t,n){return new Cn(t,2,n,Vt.min(),Vt.min(),rs.empty(),0)}static newUnknownDocument(t,n){return new Cn(t,3,n,Vt.min(),Vt.min(),rs.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,n){this.position=t,this.inclusive=n}}function FT(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],c=e.position[r];if(o.field.isKeyField()?i=Ot.comparator(Ot.fromName(c.referenceValue),n.key):i=fl(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function HT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,n="asc"){this.field=t,this.dir=n}}function z3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class Je extends iA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new U3(t,n,i):n==="array-contains"?new q3(t,i):n==="in"?new Y3(t,i):n==="not-in"?new G3(t,i):n==="array-contains-any"?new $3(t,i):new Je(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new F3(t,i):new H3(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fl(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends iA{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new fs(t,n)}matches(t){return sA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sA(e){return e.op==="and"}function rA(e){return B3(e)&&sA(e)}function B3(e){for(const t of e.filters)if(t instanceof fs)return!1;return!0}function _y(e){if(e instanceof Je)return e.field.canonicalString()+e.op.toString()+dl(e.value);if(rA(e))return e.filters.map(t=>_y(t)).join(",");{const t=e.filters.map(n=>_y(n)).join(",");return`${e.op}(${t})`}}function aA(e,t){return e instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)}(e,t):e instanceof fs?function(i,r){return r instanceof fs&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,u)=>o&&aA(c,r.filters[u]),!0):!1}(e,t):void kt()}function oA(e){return e instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(e):e instanceof fs?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(e):"Filter"}class U3 extends Je{constructor(t,n,i){super(t,n,i),this.key=Ot.fromName(i.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class F3 extends Je{constructor(t,n){super(t,"in",n),this.keys=lA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class H3 extends Je{constructor(t,n){super(t,"not-in",n),this.keys=lA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ot.fromName(i.referenceValue))}class q3 extends Je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return H0(n)&&xu(n.arrayValue,this.value)}}class Y3 extends Je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class G3 extends Je{constructor(t,n){super(t,"not-in",n)}matches(t){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class $3 extends Je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!H0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,n=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this.le=null}}function qT(e,t=null,n=[],i=[],r=null,o=null,c=null){return new K3(e,t,n,i,r,o,c)}function q0(e){const t=Qt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_y(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),jd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>dl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>dl(i)).join(",")),t.le=n}return t.le}function Y0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!z3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!HT(e.startAt,t.startAt)&&HT(e.endAt,t.endAt)}function xy(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,n=null,i=[],r=[],o=null,c="F",u=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function X3(e,t,n,i,r,o,c,u){return new zd(e,t,n,i,r,o,c,u)}function cA(e){return new zd(e)}function YT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Q3(e){return e.collectionGroup!==null}function Jc(e){const t=Qt(e);if(t.he===null){t.he=[];const n=new Set;for(const o of t.explicitOrderBy)t.he.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new en(Ln.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.he.push(new cd(o,i))}),n.has(Ln.keyField().canonicalString())||t.he.push(new cd(Ln.keyField(),i))}return t.he}function us(e){const t=Qt(e);return t.Pe||(t.Pe=W3(t,Jc(e))),t.Pe}function W3(e,t){if(e.limitType==="F")return qT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new cd(r.field,o)});const n=e.endAt?new ld(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ld(e.startAt.position,e.startAt.inclusive):null;return qT(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ty(e,t,n){return new zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bd(e,t){return Y0(us(e),us(t))&&e.limitType===t.limitType}function uA(e){return`${q0(us(e))}|lt:${e.limitType}`}function Yo(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>oA(r)).join(", ")}]`),jd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>dl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>dl(r)).join(",")),`Target(${i})`}(us(e))}; limitType=${e.limitType})`}function Ud(e,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ot.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,r){for(const o of Jc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(c,u,f){const d=FT(c,u,f);return c.inclusive?d<=0:d<0}(i.startAt,Jc(i),r)||i.endAt&&!function(c,u,f){const d=FT(c,u,f);return c.inclusive?d>=0:d>0}(i.endAt,Jc(i),r))}(e,t)}function Z3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hA(e){return(t,n)=>{let i=!1;for(const r of Jc(e)){const o=J3(r,t,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function J3(e,t,n){const i=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(o,c,u){const f=c.data.field(o),d=u.data.field(o);return f!==null&&d!==null?fl(f,d):kt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vu(this.inner,(n,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return M3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Fe(Ot.comparator);function qr(){return tP}const fA=new Fe(Ot.comparator);function Uc(...e){let t=fA;for(const n of e)t=t.insert(n.key,n);return t}function eP(e){let t=fA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function La(){return tu()}function dA(){return tu()}function tu(){return new Ka(e=>e.toString(),(e,t)=>e.isEqual(t))}const nP=new en(Ot.comparator);function Jt(...e){let t=nP;for(const n of e)t=t.add(n);return t}const iP=new en(Bt);function sP(){return iP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(t)?"-0":t}}function aP(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function oP(e,t,n){return e instanceof wy?function(r,o){const c={fields:{[tA]:{stringValue:JE},[nA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&F0(o)&&(o=Ld(o)),o&&(c.fields[eA]=o),{mapValue:c}}(n,t):e instanceof ud?mA(e,t):e instanceof hd?gA(e,t):function(r,o){const c=cP(r,o),u=GT(c)+GT(r.Ie);return by(c)&&by(r.Ie)?aP(u):rP(r.serializer,u)}(e,t)}function lP(e,t,n){return e instanceof ud?mA(e,t):e instanceof hd?gA(e,t):n}function cP(e,t){return e instanceof Sy?function(i){return by(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class wy extends Fd{}class ud extends Fd{constructor(t){super(),this.elements=t}}function mA(e,t){const n=pA(t);for(const i of e.elements)n.some(r=>hs(r,i))||n.push(i);return{arrayValue:{values:n}}}class hd extends Fd{constructor(t){super(),this.elements=t}}function gA(e,t){let n=pA(t);for(const i of e.elements)n=n.filter(r=>!hs(r,i));return{arrayValue:{values:n}}}class Sy extends Fd{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function GT(e){return Be(e.integerValue||e.doubleValue)}function pA(e){return H0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function uP(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof ud&&r instanceof ud||i instanceof hd&&r instanceof hd?hl(i.elements,r.elements,hs):i instanceof Sy&&r instanceof Sy?hs(i.Ie,r.Ie):i instanceof wy&&r instanceof wy}(e.transform,t.transform)}class Fa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fa}static exists(t){return new Fa(void 0,t)}static updateTime(t){return new Fa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ff(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class G0{}function yA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new fP(e.key,Fa.none()):new $0(e.key,e.data,Fa.none());{const n=e.data,i=rs.empty();let r=new en(Ln.comparator);for(let o of t.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Hd(e.key,i,new Cr(r.toArray()),Fa.none())}}function hP(e,t,n){e instanceof $0?function(r,o,c){const u=r.value.clone(),f=KT(r.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Hd?function(r,o,c){if(!Ff(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=KT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(vA(r)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function eu(e,t,n,i){return e instanceof $0?function(o,c,u,f){if(!Ff(o.precondition,c))return u;const d=o.value.clone(),p=XT(o.fieldTransforms,f,c);return d.setAll(p),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hd?function(o,c,u,f){if(!Ff(o.precondition,c))return u;const d=XT(o.fieldTransforms,f,c),p=c.data;return p.setAll(vA(o)),p.setAll(d),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(e,t,n,i):function(o,c,u){return Ff(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(e,t,n)}function $T(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&hl(i,r,(o,c)=>uP(o,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $0 extends G0{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hd extends G0{constructor(t,n,i,r,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function KT(e,t,n){const i=new Map;Me(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,lP(c,u,n[r]))}return i}function XT(e,t,n){const i=new Map;for(const r of e){const o=r.transform,c=n.data.field(r.field);i.set(r.field,oP(o,c,t))}return i}class fP extends G0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&hP(o,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=eu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=eu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=dA();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=n.has(r.key)?null:u;const f=yA(c,u);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Jt())}isEqual(t){return this.batchId===t.batchId&&hl(this.mutations,t.mutations,(n,i)=>$T(n,i))&&hl(this.baseMutations,t.baseMutations,(n,i)=>$T(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,Kt;function bA(e){if(e===void 0)return Xs("GRPC error has no .code"),ft.UNKNOWN;switch(e){case Ke.OK:return ft.OK;case Ke.CANCELLED:return ft.CANCELLED;case Ke.UNKNOWN:return ft.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return ft.INTERNAL;case Ke.UNAVAILABLE:return ft.UNAVAILABLE;case Ke.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Ke.NOT_FOUND:return ft.NOT_FOUND;case Ke.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Ke.ABORTED:return ft.ABORTED;case Ke.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Ke.DATA_LOSS:return ft.DATA_LOSS;default:return kt()}}(Kt=Ke||(Ke={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Pr([4294967295,4294967295],0);function QT(e){const t=QE().encode(e),n=new HE;return n.update(t),new Uint8Array(n.digest())}function WT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pr([n,i],0),new Pr([r,o],0)]}class K0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Fc(`Invalid padding: ${n}`);if(i<0)throw new Fc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Pr.fromNumber(this.Ee)}Ae(t,n,i){let r=t.add(n.multiply(Pr.fromNumber(i)));return r.compare(pP)===1&&(r=new Pr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=QT(t),[i,r]=WT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(i,r,o);if(!this.Re(c))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new K0(o,r,n);return i.forEach(u=>c.insert(u)),c}insert(t){if(this.Ee===0)return;const n=QT(t),[i,r]=WT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(i,r,o);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,n,i,r,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Pu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new qd(Vt.min(),r,new Fe(Bt),qr(),Jt())}}class Pu{constructor(t,n,i,r,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Pu(i,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n,i,r){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=r}}class _A{constructor(t,n){this.targetId=t,this.ge=n}}class xA{constructor(t,n,i=xn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class ZT{constructor(){this.pe=0,this.ye=JT(),this.we=xn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Jt(),n=Jt(),i=Jt();return this.ye.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:kt()}}),new Pu(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=JT()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Me(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yP{constructor(t){this.ke=t,this.qe=new Map,this.Qe=qr(),this.$e=yf(),this.Ue=yf(),this.Ke=new Fe(Bt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:kt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(t){const n=t.targetId,i=t.ge.count,r=this.Xe(n);if(r){const o=r.target;if(xy(o))if(i===0){const c=new Ot(o.path);this.ze(n,c,Cn.newNoDocument(c,Vt.min()))}else Me(i===1);else{const c=this.et(n);if(c!==i){const u=this.tt(t),f=u?this.nt(u,t,c):1;if(f!==0){this.Ye(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let c,u;try{c=Fr(i).toUint8Array()}catch(f){if(f instanceof ZE)return ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new K0(c,r,o)}catch(f){return ul(f instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const c=this.ke.it(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.ze(n,o,null),r++)}),r}ot(t){const n=new Map;this.qe.forEach((o,c)=>{const u=this.Xe(c);if(u){if(o.current&&xy(u.target)){const f=new Ot(u.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,Cn.newNoDocument(f,t))}o.ve&&(n.set(c,o.Fe()),o.Me())}});let i=Jt();this.Ue.forEach((o,c)=>{let u=!0;c.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qe.forEach((o,c)=>c.setReadTime(t));const r=new qd(t,n,this.Ke,this.Qe,i);return this.Qe=qr(),this.$e=yf(),this.Ue=yf(),this.Ke=new Fe(Bt),r}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const r=this.He(t);this.ut(t,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new ZT,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new en(Bt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new en(Bt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new ZT),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function yf(){return new Fe(Ot.comparator)}function JT(){return new Fe(Ot.comparator)}const vP={asc:"ASCENDING",desc:"DESCENDING"},bP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_P={and:"AND",or:"OR"};class xP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ey(e,t){return e.useProto3Json||jd(t)?t:{value:t}}function TP(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function il(e){return Me(!!e),Vt.fromTimestamp(function(n){const i=Ur(n);return new Gn(i.seconds,i.nanos)}(e))}function SP(e,t){return Ay(e,t).canonicalString()}function Ay(e,t){const n=function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function TA(e){const t=Ie.fromString(e);return Me(DA(t)),t}function Tp(e,t){const n=TA(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(SA(n))}function wA(e,t){return SP(e.databaseId,t)}function EP(e){const t=TA(e);return t.length===4?Ie.emptyPath():SA(t)}function tw(e){return new Ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SA(e){return Me(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function AP(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:kt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Me(p===void 0||typeof p=="string"),xn.fromBase64String(p||"")):(Me(p===void 0||p instanceof Buffer||p instanceof Uint8Array),xn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&function(d){const p=d.code===void 0?ft.UNKNOWN:bA(d.code);return new Ct(p,d.message||"")}(c);n=new xA(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Tp(e,i.document.name),o=il(i.document.updateTime),c=i.document.createTime?il(i.document.createTime):Vt.min(),u=new rs({mapValue:{fields:i.document.fields}}),f=Cn.newFoundDocument(r,o,c,u),d=i.targetIds||[],p=i.removedTargetIds||[];n=new Hf(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Tp(e,i.document),o=i.readTime?il(i.readTime):Vt.min(),c=Cn.newNoDocument(r,o),u=i.removedTargetIds||[];n=new Hf([],u,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Tp(e,i.document),o=i.removedTargetIds||[];n=new Hf([],o,r,null)}else{if(!("filter"in t))return kt();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new gP(r,o),u=i.targetId;n=new _A(u,c)}}return n}function DP(e,t){return{documents:[wA(e,t.path)]}}function CP(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wA(e,r);const o=function(d){if(d.length!==0)return AA(fs.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const c=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Go(_.field),direction:MP(_.dir)}}(p))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const u=Ey(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:n,parent:r}}function RP(e){let t=EP(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Me(i===1);const p=n.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];n.where&&(o=function(v){const _=EA(v);return _ instanceof fs&&rA(_)?_.getFilters():[_]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(_=>function(E){return new cd($o(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,jd(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(v){const _=!!v.before,x=v.values||[];return new ld(x,_)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const _=!v.before,x=v.values||[];return new ld(x,_)}(n.endAt)),X3(t,r,c,o,u,"F",f,d)}function OP(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function EA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$o(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return Je.create(c,"!=",{nullValue:"NULL_VALUE"});default:return kt()}}(e):e.fieldFilter!==void 0?function(n){return Je.create($o(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fs.create(n.compositeFilter.filters.map(i=>EA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return kt()}}(n.compositeFilter.op))}(e):kt()}function MP(e){return vP[e]}function NP(e){return bP[e]}function VP(e){return _P[e]}function Go(e){return{fieldPath:e.canonicalString()}}function $o(e){return Ln.fromServerFormat(e.fieldPath)}function AA(e){return e instanceof Je?function(n){if(n.op==="=="){if(UT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(BT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(BT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:NP(n.op),value:n.value}}}(e):e instanceof fs?function(n){const i=n.getFilters().map(r=>AA(r));return i.length===1?i[0]:{compositeFilter:{op:VP(n.op),filters:i}}}(e):kt()}function DA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n,i,r,o=Vt.min(),c=Vt.min(),u=xn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t){this.Tt=t}}function kP(e){const t=RP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ty(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.Tn=new jP}addToCollectionParentIndex(t,n){return this.Tn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(Br.min())}updateCollectionGroup(t,n,i){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class jP{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new en(Ie.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new en(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class qn{static withCacheSize(t){return new qn(t,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(CA,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ml(0)}static Kn(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LruGarbageCollector",LP=1048576;function iw([e,t],[n,i]){const r=Bt(e,n);return r===0?Bt(t,i):r}class zP{constructor(t){this.Hn=t,this.buffer=new en(iw),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();iw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BP{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){gt(nw,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?gt(nw,"Ignoring IndexedDB error during garbage collection: ",n):await kd(n)}await this.er(3e5)})}}class UP{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return at.resolve(Id.ae);const i=new zP(n);return this.tr.forEachTarget(t,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(t,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(ew)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ew):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,r,o,c,u,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(t,i,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(d=Date.now(),qo()<=Xt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${r} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function FP(e,t){return new UP(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.changes=new Ka(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?at.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&eu(i.mutation,r,Cr.empty(),Gn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Jt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Jt()){const r=La();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(o=>{let c=Uc();return o.forEach((u,f)=>{c=c.insert(u,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const i=La();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Jt()))}populateOverlays(t,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,u)=>{n.set(c,u)})})}computeViews(t,n,i,r){let o=qr();const c=tu(),u=function(){return tu()}();return n.forEach((f,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof Hd)?o=o.insert(d.key,d):p!==void 0?(c.set(d.key,p.mutation.getFieldMask()),eu(p.mutation,d,p.mutation.getFieldMask(),Gn.now())):c.set(d.key,Cr.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,p)=>c.set(d,p)),n.forEach((d,p)=>{var v;return u.set(d,new qP(p,(v=c.get(d))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(t,n){const i=tu();let r=new Fe((c,u)=>c-u),o=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const u of c)u.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let p=i.get(f)||Cr.empty();p=u.applyToLocalView(d,p),i.set(f,p);const v=(r.get(u.batchId)||Jt()).add(f);r=r.insert(u.batchId,v)})}).next(()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,p=f.value,v=dA();p.forEach(_=>{if(!o.has(_)){const x=yA(n.get(_),i.get(_));x!==null&&v.set(_,x),o=o.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(t,d,v))}return at.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(c){return Ot.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Q3(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-o.size):at.resolve(La());let u=vu,f=o;return c.next(d=>at.forEach(d,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(p)?at.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{f=f.insert(p,_)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,Jt())).next(p=>({batchId:u,changes:eP(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(i=>{let r=Uc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const o=n.collectionGroup;let c=Uc();return this.indexManager.getCollectionParents(t,o).next(u=>at.forEach(u,f=>{const d=function(v,_){return new zd(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(p=>{p.forEach((v,_)=>{c=c.insert(v,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,r))).next(c=>{o.forEach((f,d)=>{const p=d.getKey();c.get(p)===null&&(c=c.insert(p,Cn.newInvalidDocument(p)))});let u=Uc();return c.forEach((f,d)=>{const p=o.get(f);p!==void 0&&eu(p.mutation,d,Cr.empty(),Gn.now()),Ud(n,d)&&(u=u.insert(f,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return at.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:il(r.createTime)}}(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:kP(r.bundledQuery),readTime:il(r.readTime)}}(n)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.overlays=new Fe(Ot.comparator),this.Rr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const i=La();return at.forEach(n,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,o)=>{this.Et(t,n,o)}),at.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),at.resolve()}getOverlaysForCollection(t,n,i){const r=La(),o=n.length+1,c=new Ot(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return at.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let o=new Fe((d,p)=>d-p);const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=La(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=La(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=r)););return at.resolve(u)}Et(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new mP(n,i));let o=this.Rr.get(n);o===void 0&&(o=Jt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Vr=new en(cn.mr),this.gr=new en(cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new cn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new cn(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new Ot(new Ie([])),i=new cn(n,t),r=new cn(n,t+1),o=[];return this.gr.forEachInRange([i,r],c=>{this.wr(c),o.push(c.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Ot(new Ie([])),i=new cn(n,t),r=new cn(n,t+1);let o=Jt();return this.gr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const n=new cn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class cn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Ot.comparator(t.key,n.key)||Bt(t.Cr,n.Cr)}static pr(t,n){return Bt(t.Cr,n.Cr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new en(cn.mr)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dP(o,n,i,r);this.mutationQueue.push(c);for(const u of r)this.Mr=this.Mr.add(new cn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,n){return at.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Nr(i),o=r<0?0:r;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?C3:this.Fr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new cn(n,0),r=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,r],c=>{const u=this.Or(c.Cr);o.push(u)}),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new en(Bt);return n.forEach(r=>{const o=new cn(r,0),c=new cn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,c],u=>{i=i.add(u.Cr)})}),at.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let o=i;Ot.isDocumentKey(o)||(o=o.child(""));const c=new cn(new Ot(o),0);let u=new en(Bt);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Cr)),!0)},c),at.resolve(this.Br(u))}Br(t){const n=[];return t.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Me(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return at.forEach(n.mutations,r=>{const o=new cn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new cn(n,0),r=this.Mr.firstAfterOrEqual(i);return at.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t){this.kr=t,this.docs=function(){return new Fe(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return at.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(t,n){let i=qr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Cn.newInvalidDocument(r))}),at.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let o=qr();const c=n.path,u=new Ot(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||S3(w3(p),i)<=0||(r.has(p.key)||Ud(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(t,n,i,r){kt()}qr(t,n){return at.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new WP(this)}getSize(t){return at.resolve(this.size)}}class WP extends HP{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(i)}),at.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t){this.persistence=t,this.Qr=new Ka(n=>q0(n),Y0),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new X0,this.targetCount=0,this.Kr=ml.Un()}forEachTarget(t,n){return this.Qr.forEach((i,r)=>n(r)),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),at.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new ml(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.zn(n),at.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,i){let r=0;const o=[];return this.Qr.forEach((c,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.Qr.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),at.waitFor(o).next(()=>r)}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return at.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),at.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),at.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),at.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return at.resolve(i)}containsKey(t,n){return at.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Id(0),this.zr=!1,this.zr=!0,this.jr=new KP,this.referenceDelegate=t(this),this.Hr=new ZP(this),this.indexManager=new IP,this.remoteDocumentCache=function(r){return new QP(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new PP(n),this.Yr=new GP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $P,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new XP(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){gt("MemoryPersistence","Starting transaction:",t);const r=new JP(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(o=>this.referenceDelegate.Xr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}ei(t,n){return at.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class JP extends A3{constructor(t){super(),this.currentSequenceNumber=t}}class Q0{constructor(t){this.persistence=t,this.ti=new X0,this.ni=null}static ri(t){return new Q0(t)}get ii(){if(this.ni)return this.ni;throw kt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),at.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),at.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.ii,i=>{const r=Ot.fromPath(i);return this.si(t,r).next(o=>{o||n.removeEntry(r,Vt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return at.or([()=>at.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class fd{constructor(t,n){this.persistence=t,this.oi=new Ka(i=>R3(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=FP(this,n)}static ri(t,n){return new fd(t,n)}Zr(){}Xr(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return at.forEach(this.oi,(i,r)=>this.ar(t,i,r).next(o=>o?at.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.qr(t,c=>this.ar(t,c,n).next(u=>{u||(i++,o.removeEntry(c,Vt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),at.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Uf(t.data.value)),n}ar(t,n,i){return at.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.oi.get(n);return at.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(t,n){let i=Jt(),r=Jt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new W0(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YV()?8:D3(HV())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,r){const o={result:null};return this.rs(t,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ss(t,n,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new tk;return this._s(t,n,c).next(u=>{if(o.result=u,this.Xi)return this.us(t,n,c,u.size)})}).next(()=>o.result)}us(t,n,i,r){return i.documentReadCount<this.es?(qo()<=Xt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),at.resolve()):(qo()<=Xt.DEBUG&&gt("QueryEngine","Query:",Yo(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(qo()<=Xt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,us(n))):at.resolve())}rs(t,n){if(YT(n))return at.resolve(null);let i=us(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ty(n,null,"F"),i=us(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Jt(...o);return this.ns.getDocuments(t,c).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.cs(n,u);return this.ls(n,d,c,f.readTime)?this.rs(t,Ty(n,null,"F")):this.hs(t,d,n,f)}))})))}ss(t,n,i,r){return YT(n)||r.isEqual(Vt.min())?at.resolve(null):this.ns.getDocuments(t,i).next(o=>{const c=this.cs(n,o);return this.ls(n,c,i,r)?at.resolve(null):(qo()<=Xt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(n)),this.hs(t,c,n,T3(r,vu)).next(u=>u))})}cs(t,n){let i=new en(hA(t));return n.forEach((r,o)=>{Ud(t,o)&&(i=i.add(o))}),i}ls(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}_s(t,n,i){return qo()<=Xt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ns.getDocumentsMatchingQuery(t,n,Br.min(),i)}hs(t,n,i,r){return this.ns.getDocumentsMatchingQuery(t,i,r).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="LocalStore",nk=3e8;class ik{constructor(t,n,i,r){this.persistence=t,this.Ps=n,this.serializer=r,this.Ts=new Fe(Bt),this.Is=new Ka(o=>q0(o),Y0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function sk(e,t,n,i){return new ik(e,t,n,i)}async function OA(e,t){const n=Qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],u=[];let f=Jt();for(const d of r){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(i,f).next(d=>({Rs:d,removedBatchIds:c,addedBatchIds:u}))})})}function MA(e){const t=Qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function rk(e,t){const n=Qt(e),i=t.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const u=[];t.targetChanges.forEach((p,v)=>{const _=r.get(v);if(!_)return;u.push(n.Hr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(o,p.addedDocuments,v)));let x=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?x=x.withResumeToken(xn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),r=r.insert(v,x),function(R,A,V){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=nk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,x,p)&&u.push(n.Hr.updateTargetData(o,x))});let f=qr(),d=Jt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(ak(o,c,t.documentUpdates).next(p=>{f=p.Vs,d=p.fs})),!i.isEqual(Vt.min())){const p=n.Hr.getLastRemoteSnapshotVersion(o).next(v=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return at.waitFor(u).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.Ts=r,o))}function ak(e,t,n){let i=Jt(),r=Jt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let c=qr();return n.forEach((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Vt.min())?(t.removeEntry(u,f.readTime),c=c.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(u,f)):gt(Z0,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{Vs:c,fs:r}})}function ok(e,t){const n=Qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,t).next(o=>o?(r=o,at.resolve(r)):n.Hr.allocateTargetId(i).next(c=>(r=new Rr(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Dy(e,t,n){const i=Qt(e),r=i.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!wl(c))throw c;gt(Z0,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ts=i.Ts.remove(t),i.Is.delete(r.target)}function sw(e,t,n){const i=Qt(e);let r=Vt.min(),o=Jt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,d,p){const v=Qt(f),_=v.Is.get(p);return _!==void 0?at.resolve(v.Ts.get(_)):v.Hr.getTargetData(d,p)}(i,c,us(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,u.targetId).next(f=>{o=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,t,n?r:Vt.min(),n?o:Jt())).next(u=>(lk(i,Z3(t),u),{documents:u,gs:o})))}function lk(e,t,n){let i=e.Es.get(t)||Vt.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.Es.set(t,i)}class rw{constructor(){this.activeTargetIds=sP()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ck{constructor(){this.ho=new rw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new rw,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="ConnectivityMonitor";class ow{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){gt(aw,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){gt(aw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function Cy(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===od?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(t,n,i,r,o){const c=Cy(),u=this.bo(t,n.toUriEncodedString());gt(wp,`Sending RPC '${t}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,r,o),this.vo(t,u,f,i).then(d=>(gt(wp,`Received RPC '${t}' ${c}: `,d),d),d=>{throw ul(wp,`RPC '${t}' ${c} failed with error: `,d,"url: ",u,"request:",i),d})}Co(t,n,i,r,o,c){return this.So(t,n,i,r,o)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}bo(t,n){const i=hk[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class mk extends fk{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,r){const o=Cy();return new Promise((c,u)=>{const f=new qE;f.setWithCredentials(!0),f.listenOnce(YE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bf.NO_ERROR:const p=f.getResponseJson();gt(Sn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),c(p);break;case Bf.TIMEOUT:gt(Sn,`RPC '${t}' ${o} timed out`),u(new Ct(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const v=f.getStatus();if(gt(Sn,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const E=function(A){const V=A.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(V)>=0?V:ft.UNKNOWN}(x.status);u(new Ct(E,x.message))}else u(new Ct(ft.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ct(ft.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{gt(Sn,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(r);gt(Sn,`RPC '${t}' ${o} sending request:`,r),f.send(n,"POST",d,i,15)})}Wo(t,n,i){const r=Cy(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=KE(),u=$E(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const p=o.join("");gt(Sn,`Creating RPC '${t}' stream ${r}: ${p}`,f);const v=c.createWebChannel(p,f);let _=!1,x=!1;const E=new dk({Fo:A=>{x?gt(Sn,`Not sending because RPC '${t}' stream ${r} is closed:`,A):(_||(gt(Sn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),_=!0),gt(Sn,`RPC '${t}' stream ${r} sending:`,A),v.send(A))},Mo:()=>v.close()}),R=(A,V,B)=>{A.listen(V,F=>{try{B(F)}catch(W){setTimeout(()=>{throw W},0)}})};return R(v,Bc.EventType.OPEN,()=>{x||(gt(Sn,`RPC '${t}' stream ${r} transport opened.`),E.Qo())}),R(v,Bc.EventType.CLOSE,()=>{x||(x=!0,gt(Sn,`RPC '${t}' stream ${r} transport closed`),E.Uo())}),R(v,Bc.EventType.ERROR,A=>{x||(x=!0,ul(Sn,`RPC '${t}' stream ${r} transport errored:`,A),E.Uo(new Ct(ft.UNAVAILABLE,"The operation could not be completed")))}),R(v,Bc.EventType.MESSAGE,A=>{var V;if(!x){const B=A.data[0];Me(!!B);const F=B,W=(F==null?void 0:F.error)||((V=F[0])===null||V===void 0?void 0:V.error);if(W){gt(Sn,`RPC '${t}' stream ${r} received error:`,W);const q=W.status;let Z=function(M){const I=Ke[M];if(I!==void 0)return bA(I)}(q),P=W.message;Z===void 0&&(Z=ft.INTERNAL,P="Unknown error status: "+q+" with message "+W.message),x=!0,E.Uo(new Ct(Z,P)),v.close()}else gt(Sn,`RPC '${t}' stream ${r} received:`,B),E.Ko(B)}}),R(u,GE.STAT_EVENT,A=>{A.stat===my.PROXY?gt(Sn,`RPC '${t}' stream ${r} detected buffering proxy`):A.stat===my.NOPROXY&&gt(Sn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e){return new xP(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,n,i=1e3,r=1.5,o=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&gt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="PersistentStream";class gk{constructor(t,n,i,r,o,c,u,f){this.Ti=t,this.n_=i,this.r_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VA(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{t(()=>{const r=new Ct(ft.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return gt(lw,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(gt(lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pk extends gk{constructor(t,n,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=AP(this.serializer,t),i=function(o){if(!("targetChange"in o))return Vt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Vt.min():c.readTime?il(c.readTime):Vt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=tw(this.serializer),n.addTarget=function(o,c){let u;const f=c.target;if(u=xy(f)?{documents:DP(o,f)}:{query:CP(o,f).ht},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=wP(o,c.resumeToken);const d=Ey(o,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(Vt.min())>0){u.readTime=TP(o,c.snapshotVersion.toTimestamp());const d=Ey(o,c.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=OP(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=tw(this.serializer),n.removeTarget=t,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{}class vk extends yk{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.So(t,Ay(n,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(ft.UNKNOWN,o.toString())})}Co(t,n,i,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Co(t,Ay(n,i),r,c,u,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ft.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xs(n),this.N_=!1):gt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class _k{constructor(t,n,i,r,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(c=>{i.enqueueAndForget(async()=>{Iu(this)&&(gt(gl,"Restarting streams for network reachability change."),await async function(f){const d=Qt(f);d.W_.add(4),await ku(d),d.j_.set("Unknown"),d.W_.delete(4),await Yd(d)}(this))})}),this.j_=new bk(i,r)}}async function Yd(e){if(Iu(e))for(const t of e.G_)await t(!0)}async function ku(e){for(const t of e.G_)await t(!1)}function PA(e,t){const n=Qt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),nv(n)?ev(n):Sl(n).c_()&&tv(n,t))}function J0(e,t){const n=Qt(e),i=Sl(n);n.K_.delete(t),i.c_()&&kA(n,t),n.K_.size===0&&(i.c_()?i.P_():Iu(n)&&n.j_.set("Unknown"))}function tv(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sl(e).y_(t)}function kA(e,t){e.H_.Ne(t),Sl(e).w_(t)}function ev(e){e.H_=new yP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Sl(e).start(),e.j_.B_()}function nv(e){return Iu(e)&&!Sl(e).u_()&&e.K_.size>0}function Iu(e){return Qt(e).W_.size===0}function IA(e){e.H_=void 0}async function xk(e){e.j_.set("Online")}async function Tk(e){e.K_.forEach((t,n)=>{tv(e,t)})}async function wk(e,t){IA(e),nv(e)?(e.j_.q_(t),ev(e)):e.j_.set("Unknown")}async function Sk(e,t,n){if(e.j_.set("Online"),t instanceof xA&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const u of o.targetIds)r.K_.has(u)&&(await r.remoteSyncer.rejectListen(u,c),r.K_.delete(u),r.H_.removeTarget(u))}(e,t)}catch(i){gt(gl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cw(e,i)}else if(t instanceof Hf?e.H_.We(t):t instanceof _A?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Vt.min()))try{const i=await MA(e.localStore);n.compareTo(i)>=0&&await function(o,c){const u=o.H_.ot(c);return u.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.K_.get(d);p&&o.K_.set(d,p.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach((f,d)=>{const p=o.K_.get(f);if(!p)return;o.K_.set(f,p.withResumeToken(xn.EMPTY_BYTE_STRING,p.snapshotVersion)),kA(o,f);const v=new Rr(p.target,f,d,p.sequenceNumber);tv(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(e,n)}catch(i){gt(gl,"Failed to raise snapshot:",i),await cw(e,i)}}async function cw(e,t,n){if(!wl(t))throw t;e.W_.add(1),await ku(e),e.j_.set("Offline"),n||(n=()=>MA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gt(gl,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Yd(e)})}async function uw(e,t){const n=Qt(e);n.asyncQueue.verifyOperationInProgress(),gt(gl,"RemoteStore received new credentials");const i=Iu(n);n.W_.add(3),await ku(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Yd(n)}async function Ek(e,t){const n=Qt(e);t?(n.W_.delete(2),await Yd(n)):t||(n.W_.add(2),await ku(n),n.j_.set("Unknown"))}function Sl(e){return e.J_||(e.J_=function(n,i,r){const o=Qt(n);return o.M_(),new pk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{xo:xk.bind(null,e),No:Tk.bind(null,e),Lo:wk.bind(null,e),p_:Sk.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),nv(e)?ev(e):e.j_.set("Unknown")):(await e.J_.stop(),IA(e))})),e.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,n,i,r,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,o){const c=Date.now()+i,u=new iv(t,n,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jA(e,t){if(Xs("AsyncQueue",`${t}: ${e}`),wl(e))return new Ct(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ot.comparator(n.key,i.key):(n,i)=>Ot.comparator(n.key,i.key),this.keyedMap=Uc(),this.sortedSet=new Fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new sl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Z_=new Fe(Ot.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):kt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class pl{constructor(t,n,i,r,o,c,u,f,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,r,o){const c=[];return n.forEach(u=>{c.push({type:0,doc:u})}),new pl(t,n,sl.emptySet(n),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Dk{constructor(){this.queries=fw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=Qt(n),o=r.queries;r.queries=fw(),o.forEach((c,u)=>{for(const f of u.ta)f.onError(i)})})(this,new Ct(ft.ABORTED,"Firestore shutting down"))}}function fw(){return new Ka(e=>uA(e),Bd)}async function Ck(e,t){const n=Qt(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.na()&&t.ra()&&(i=2):(o=new Ak,i=t.ra()?0:1);try{switch(i){case 0:o.ea=await n.onListen(r,!0);break;case 1:o.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const u=jA(c,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(u)}n.queries.set(r,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&sv(n)}async function Rk(e,t){const n=Qt(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const c=o.ta.indexOf(t);c>=0&&(o.ta.splice(c,1),o.ta.length===0?r=t.ra()?0:1:!o.na()&&t.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Ok(e,t){const n=Qt(e);let i=!1;for(const r of t){const o=r.query,c=n.queries.get(o);if(c){for(const u of c.ta)u.oa(r)&&(i=!0);c.ea=r}}i&&sv(n)}function Mk(e,t,n){const i=Qt(e),r=i.queries.get(t);if(r)for(const o of r.ta)o.onError(n);i.queries.delete(t)}function sv(e){e.ia.forEach(t=>{t.next()})}var Ry,dw;(dw=Ry||(Ry={}))._a="default",dw.Cache="cache";class Nk{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new pl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.key=t}}class zA{constructor(t){this.key=t}}class Vk{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Jt(),this.mutatedKeys=Jt(),this.ya=hA(t),this.wa=new sl(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new hw,r=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,v)=>{const _=r.get(p),x=Ud(this.query,v)?v:null,E=!!_&&this.mutatedKeys.has(_.key),R=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;_&&x?_.data.isEqual(x.data)?E!==R&&(i.track({type:3,doc:x}),A=!0):this.va(_,x)||(i.track({type:2,doc:x}),A=!0,(f&&this.ya(x,f)>0||d&&this.ya(x,d)<0)&&(u=!0)):!_&&x?(i.track({type:0,doc:x}),A=!0):_&&!x&&(i.track({type:1,doc:_}),A=!0,(f||d)&&(u=!0)),A&&(x?(c=c.add(x),o=R?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{wa:c,Da:i,ls:u,mutatedKeys:o}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((p,v)=>function(x,E){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return R(x)-R(E)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=n&&!r?this.Fa():[],f=this.pa.size===0&&this.current&&!r?1:0,d=f!==this.ga;return this.ga=f,c.length!==0||d?{snapshot:new pl(this.query,t.wa,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Jt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new zA(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new LA(i))}),n}Oa(t){this.fa=t.gs,this.pa=Jt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return pl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rv="SyncEngine";class Pk{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class kk{constructor(t){this.key=t,this.Ba=!1}}class Ik{constructor(t,n,i,r,o,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ka(u=>uA(u),Bd),this.qa=new Map,this.Qa=new Set,this.$a=new Fe(Ot.comparator),this.Ua=new Map,this.Ka=new X0,this.Wa={},this.Ga=new Map,this.za=ml.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jk(e,t,n=!0){const i=qA(e);let r;const o=i.ka.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Na()):r=await BA(i,t,n,!0),r}async function Lk(e,t){const n=qA(e);await BA(n,t,!0,!1)}async function BA(e,t,n,i){const r=await ok(e.localStore,us(t)),o=r.targetId,c=e.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await zk(e,t,o,c==="current",r.resumeToken)),e.isPrimaryClient&&n&&PA(e.remoteStore,r),u}async function zk(e,t,n,i,r){e.Ha=(v,_,x)=>async function(R,A,V,B){let F=A.view.ba(V);F.ls&&(F=await sw(R.localStore,A.query,!1).then(({documents:P})=>A.view.ba(P,F)));const W=B&&B.targetChanges.get(A.targetId),q=B&&B.targetMismatches.get(A.targetId)!=null,Z=A.view.applyChanges(F,R.isPrimaryClient,W,q);return gw(R,A.targetId,Z.Ma),Z.snapshot}(e,v,_,x);const o=await sw(e.localStore,t,!0),c=new Vk(t,o.gs),u=c.ba(o.documents),f=Pu.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),d=c.applyChanges(u,e.isPrimaryClient,f);gw(e,n,d.Ma);const p=new Pk(t,n,c);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),d.snapshot}async function Bk(e,t,n){const i=Qt(e),r=i.ka.get(t),o=i.qa.get(r.targetId);if(o.length>1)return i.qa.set(r.targetId,o.filter(c=>!Bd(c,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Dy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&J0(i.remoteStore,r.targetId),Oy(i,r.targetId)}).catch(kd)):(Oy(i,r.targetId),await Dy(i.localStore,r.targetId,!0))}async function Uk(e,t){const n=Qt(e),i=n.ka.get(t),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),J0(n.remoteStore,i.targetId))}async function UA(e,t){const n=Qt(e);try{const i=await rk(n.localStore,t);t.targetChanges.forEach((r,o)=>{const c=n.Ua.get(o);c&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Ba=!0:r.modifiedDocuments.size>0?Me(c.Ba):r.removedDocuments.size>0&&(Me(c.Ba),c.Ba=!1))}),await HA(n,i,t)}catch(i){await kd(i)}}function mw(e,t,n){const i=Qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((o,c)=>{const u=c.view.sa(t);u.snapshot&&r.push(u.snapshot)}),function(c,u){const f=Qt(c);f.onlineState=u;let d=!1;f.queries.forEach((p,v)=>{for(const _ of v.ta)_.sa(u)&&(d=!0)}),d&&sv(f)}(i.eventManager,t),r.length&&i.La.p_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Fk(e,t,n){const i=Qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Ua.get(t),o=r&&r.key;if(o){let c=new Fe(Ot.comparator);c=c.insert(o,Cn.newNoDocument(o,Vt.min()));const u=Jt().add(o),f=new qd(Vt.min(),new Map,new Fe(Bt),c,u);await UA(i,f),i.$a=i.$a.remove(o),i.Ua.delete(t),av(i)}else await Dy(i.localStore,t,!1).then(()=>Oy(i,t,n)).catch(kd)}function Oy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||FA(e,i)})}function FA(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(J0(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),av(e))}function gw(e,t,n){for(const i of n)i instanceof LA?(e.Ka.addReference(i.key,t),Hk(e,i)):i instanceof zA?(gt(rv,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||FA(e,i.key)):kt()}function Hk(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(gt(rv,"New document in limbo: "+n),e.Qa.add(i),av(e))}function av(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ot(Ie.fromString(t)),i=e.za.next();e.Ua.set(i,new kk(n)),e.$a=e.$a.insert(n,i),PA(e.remoteStore,new Rr(us(cA(n.path)),i,"TargetPurposeLimboResolution",Id.ae))}}async function HA(e,t,n){const i=Qt(e),r=[],o=[],c=[];i.ka.isEmpty()||(i.ka.forEach((u,f)=>{c.push(i.Ha(f,t,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const v=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){r.push(d);const v=W0.Yi(f.targetId,d);o.push(v)}}))}),await Promise.all(c),i.La.p_(r),await async function(f,d){const p=Qt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>at.forEach(d,_=>at.forEach(_.Hi,x=>p.persistence.referenceDelegate.addReference(v,_.targetId,x)).next(()=>at.forEach(_.Ji,x=>p.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))}catch(v){if(!wl(v))throw v;gt(Z0,"Failed to update sequence numbers: "+v)}for(const v of d){const _=v.targetId;if(!v.fromCache){const x=p.Ts.get(_),E=x.snapshotVersion,R=x.withLastLimboFreeSnapshotVersion(E);p.Ts=p.Ts.insert(_,R)}}}(i.localStore,o))}async function qk(e,t){const n=Qt(e);if(!n.currentUser.isEqual(t)){gt(rv,"User change. New user:",t.toKey());const i=await OA(n.localStore,t);n.currentUser=t,function(o,c){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Ct(ft.CANCELLED,c))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await HA(n,i.Rs)}}function Yk(e,t){const n=Qt(e),i=n.Ua.get(t);if(i&&i.Ba)return Jt().add(i.key);{let r=Jt();const o=n.qa.get(t);if(!o)return r;for(const c of o){const u=n.ka.get(c);r=r.unionWith(u.view.Sa)}return r}}function qA(e){const t=Qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fk.bind(null,t),t.La.p_=Ok.bind(null,t.eventManager),t.La.Ja=Mk.bind(null,t.eventManager),t}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=NA(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return sk(this.persistence,new ek,t.initialUser,this.serializer)}Xa(t){return new RA(Q0.ri,this.serializer)}Za(t){return new ck}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class Gk extends dd{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Me(this.persistence.referenceDelegate instanceof fd);const i=this.persistence.referenceDelegate.garbageCollector;return new BP(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new RA(i=>fd.ri(i,n),this.serializer)}}class My{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qk.bind(null,this.syncEngine),await Ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Dk}()}createDatastore(t){const n=NA(t.databaseInfo.databaseId),i=function(o){return new mk(o)}(t.databaseInfo);return function(o,c,u,f){return new vk(o,c,u,f)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,o,c,u){return new _k(i,r,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,n=>mw(this.syncEngine,n,0),function(){return ow.D()?new ow:new uk}())}createSyncEngine(t,n){return function(r,o,c,u,f,d,p){const v=new Ik(r,o,c,u,f,d);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const o=Qt(r);gt(gl,"RemoteStore shutting down."),o.W_.add(5),await ku(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}My.provider={build:()=>new My};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Xs("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class Kk{constructor(t,n,i,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Dn.UNAUTHENTICATED,this.clientId=b3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{gt(Yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(gt(Yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=jA(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ep(e,t){e.asyncQueue.verifyOperationInProgress(),gt(Yr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await OA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function pw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xk(e);gt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>uw(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>uw(t.remoteStore,r)),e._onlineComponents=t}async function Xk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gt(Yr,"Using user provided OfflineComponentProvider");try{await Ep(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===ft.FAILED_PRECONDITION||r.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Ep(e,new dd)}}else gt(Yr,"Using default OfflineComponentProvider"),await Ep(e,new Gk(void 0));return e._offlineComponents}async function Qk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gt(Yr,"Using user provided OnlineComponentProvider"),await pw(e,e._uninitializedComponentsProvider._online)):(gt(Yr,"Using default OnlineComponentProvider"),await pw(e,new My))),e._onlineComponents}async function Wk(e){const t=await Qk(e),n=t.eventManager;return n.onListen=jk.bind(null,t.syncEngine),n.onUnlisten=Bk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Lk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Uk.bind(null,t.syncEngine),n}function Zk(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,d){const p=new $k({next:_=>{p.su(),c.enqueueAndForget(()=>Rk(o,v)),_.fromCache&&f.source==="server"?d.reject(new Ct(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new Nk(u,p,{includeMetadataChanges:!0,Ta:!0});return Ck(o,v)}(await Wk(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;function Jk(e,t,n,i){if(t===!0&&i===!0)throw new Ct(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vw(e){if(Ot.isDocumentKey(e))throw new Ct(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tI(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":kt()}function Ny(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tI(e);throw new Ct(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firestore.googleapis.com",bw=!0;class _w{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GA,this.ssl=bw}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bw;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LP)throw new Ct(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ov{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new f3;switch(i.type){case"firstParty":return new p3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=yw.get(n);i&&(gt("ComponentProvider","Removing Datastore"),yw.delete(n),i.terminate())}(this),Promise.resolve()}}function eI(e,t,n,i={}){var r;const o=(e=Ny(e,ov))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;o.host!==GA&&o.host!==u&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:i});if(!sd(f,c)&&(e._setSettings(f),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Dn.MOCK_USER;else{d=FV(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ct(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dn(v)}e._authCredentials=new d3(new XE(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Gd(this.firestore,t,this._query)}}class El{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new El(this.firestore,t,this._key)}}class rl extends Gd{constructor(t,n,i){super(t,n,cA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new El(this.firestore,null,new Ot(t))}withConverter(t){return new rl(this.firestore,t,this._path)}}function nI(e,t,...n){if(e=WV(e),e instanceof ov){const i=Ie.fromString(t,...n);return vw(i),new rl(e,null,i)}{if(!(e instanceof El||e instanceof rl))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ie.fromString(t,...n));return vw(i),new rl(e.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="AsyncQueue";class Tw{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VA(this,"async_queue_retry"),this.Su=()=>{const i=Sp();i&&gt(xw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!wl(t))throw t;gt(xw,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const r=function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),u}(i);throw Xs("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const r=iv.createAndSchedule(this,t,n,i,o=>this.Fu(o));return this.fu.push(r),r}Du(){this.gu&&kt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class $A extends ov{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Tw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tw(t),this._firestoreClient=void 0,await t}}}function iI(e,t){const n=typeof e=="object"?e:J6(),i=typeof e=="string"?e:od,r=K6(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=BV("firestore");o&&eI(r,...o)}return r}function sI(e){if(e._terminated)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||rI(e),e._firestoreClient}function rI(e){var t,n,i;const r=e._freezeSettings(),o=function(u,f,d,p){return new V3(u,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YA(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Kk(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this._byteString=t}static fromBase64String(t){try{return new md(xn.fromBase64String(t))}catch(n){throw new Ct(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new md(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const lI=new RegExp("[~\\*/\\[\\]]");function cI(e,t,n){if(t.search(lI)>=0)throw ww(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new KA(...t.split("."))._internalPath}catch{throw ww(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function ww(e,t,n,i,r){let o=`Function ${t}() called with invalid data`;o+=". ";let c="";return new Ct(ft.INVALID_ARGUMENT,o+e+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n,i,r,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new El(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(QA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uI extends XA{data(){return super.data()}}function QA(e,t){return typeof t=="string"?cI(e,t):t instanceof KA?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ct(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fI{convertValue(t,n="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw kt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Vu(t,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(t){var n,i,r;const o=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[yy].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>Be(c.doubleValue));return new oI(o)}convertGeoPoint(t){return new aI(Be(t.latitude),Be(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ld(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bu(t));default:return null}}convertTimestamp(t){const n=Ur(t);return new Gn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ie.fromString(t);Me(DA(i));const r=new _u(i.get(1),i.get(3)),o=new Ot(i.popFirst(5));return r.isEqual(n)||Xs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dI extends XA{constructor(t,n,i,r,o,c){super(t,n,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(QA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class qf extends dI{data(t={}){return super.data(t)}}class mI{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new bf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new qf(this._firestore,this._userDataWriter,i.key,i,new bf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>{const f=new qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new bf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new bf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:gI(u.type),doc:f,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}class pI extends fI{constructor(t){super(),this.firestore=t}convertBytes(t){return new md(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new El(this.firestore,null,n)}}function yI(e){e=Ny(e,Gd);const t=Ny(e.firestore,$A),n=sI(t),i=new pI(t);return hI(e._query),Zk(n,e._query).then(r=>new mI(t,i,e,r))}(function(t,n=!0){(function(r){Tl=r})(Z6),ad(new pu("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),u=new $A(new m3(i.getProvider("auth-internal")),new y3(c,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ct(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(d.options.projectId,p)}(c,r),c);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),nl(CT,RT,t),nl(CT,RT,"esm2017")})();const vI={apiKey:"AIzaSyDzubuhPsyYbGRcDuBnOUeo8rub8TMjG2k",authDomain:"planify-4ea98.firebaseapp.com",projectId:"planify-4ea98",storageBucket:"planify-4ea98.firebasestorage.app",messagingSenderId:"210057599638",appId:"1:210057599638:web:31fefeeb83e9ec9d6b80b7",measurementId:"G-S8PMHBTYL1"},bI=BE(vI),_I=iI(bI);var WA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sw=Gs.createContext&&Gs.createContext(WA),xI=["attr","size","title"];function TI(e,t){if(e==null)return{};var n=wI(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function wI(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gd.apply(this,arguments)}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(i){SI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SI(e,t,n){return t=EI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EI(e){var t=AI(e,"string");return typeof t=="symbol"?t:t+""}function AI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZA(e){return e&&e.map((t,n)=>Gs.createElement(t.tag,pd({key:n},t.attr),ZA(t.child)))}function Nn(e){return t=>Gs.createElement(DI,gd({attr:pd({},e.attr)},t),ZA(e.child))}function DI(e){var t=n=>{var{attr:i,size:r,title:o}=e,c=TI(e,xI),u=r||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Gs.createElement("svg",gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:f,style:pd(pd({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Gs.createElement("title",null,o),e.children)};return Sw!==void 0?Gs.createElement(Sw.Consumer,null,n=>t(n)):t(WA)}function CI(e){return Nn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function RI(e){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Vy(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function yd(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Aw(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Ys(e){return Nn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function OI(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function MI(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function JA(e){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function tD(e){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function NI(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function Py(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function vd(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ju(e){return Nn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function ky(e){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Dw(e){return Nn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function VI({darkMode:e,toggleDarkMode:t,setShowAddModal:n,setShowMenu:i}){return S.jsxs("header",{className:"w-full flex justify-between items-center p-4",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("button",{onClick:()=>i(r=>!r),className:`p-2 rounded-full ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"} menu-button`,children:S.jsx(RI,{})}),S.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Planify"})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("button",{onClick:()=>n(!0),className:`p-2 rounded-full ${e?"bg-white text-black":"bg-black text-white"} add-button`,children:S.jsx(JA,{})}),S.jsx("button",{onClick:t,className:`p-2 rounded-full ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:e?S.jsx(NI,{}):S.jsx(MI,{})})]})]})}function PI({darkMode:e,setShowMenu:t,setShowSummary:n,setShowRightMenu:i}){return S.jsxs("div",{className:`w-64 ${e?"bg-gray-800":"bg-gray-200"} p-4 shadow-lg`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold",children:"Menú"}),S.jsx("button",{onClick:()=>t(!1),className:"text-xl sm:hidden",children:S.jsx(ju,{})})]}),S.jsxs("ul",{className:"space-y-2",children:[S.jsx("li",{children:S.jsx("button",{onClick:()=>{n("daily"),t(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-300"}`,children:"Resumen Diario"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>{n("weekly"),t(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-300"}`,children:"Resumen Semanal"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>{n("monthly"),t(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-300"}`,children:"Resumen Mensual"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>{n("yearly"),t(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-300"}`,children:"Resumen Anual"})}),S.jsx("li",{children:S.jsxs("button",{onClick:()=>{i(!0),t(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-300"} flex items-center space-x-2`,children:[S.jsx(Vy,{}),S.jsx("span",{children:"Estadísticas"})]})})]})]})}function eD(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=eD(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function $d(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=eD(e))&&(i&&(i+=" "),i+=t);return i}var Ap,Cw;function kI(){if(Cw)return Ap;Cw=1;const e=(f,d,p,v)=>{if(p==="length"||p==="prototype"||p==="arguments"||p==="caller")return;const _=Object.getOwnPropertyDescriptor(f,p),x=Object.getOwnPropertyDescriptor(d,p);!t(_,x)&&v||Object.defineProperty(f,p,x)},t=function(f,d){return f===void 0||f.configurable||f.writable===d.writable&&f.enumerable===d.enumerable&&f.configurable===d.configurable&&(f.writable||f.value===d.value)},n=(f,d)=>{const p=Object.getPrototypeOf(d);p!==Object.getPrototypeOf(f)&&Object.setPrototypeOf(f,p)},i=(f,d)=>`/* Wrapped ${f}*/
${d}`,r=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),c=(f,d,p)=>{const v=p===""?"":`with ${p.trim()}() `,_=i.bind(null,v,d.toString());Object.defineProperty(_,"name",o),Object.defineProperty(f,"toString",{...r,value:_})};return Ap=(f,d,{ignoreNonConfigurable:p=!1}={})=>{const{name:v}=f;for(const _ of Reflect.ownKeys(d))e(f,d,_,p);return n(f,d),c(f,d,v),f},Ap}var Hc={exports:{}},Dp,Rw;function II(){return Rw||(Rw=1,Dp=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}),Dp}var _f=Hc.exports,Ow;function jI(){return Ow||(Ow=1,function(e,t){var n=_f&&_f.__awaiter||function(c,u,f,d){return new(f||(f=Promise))(function(p,v){function _(R){try{E(d.next(R))}catch(A){v(A)}}function x(R){try{E(d.throw(R))}catch(A){v(A)}}function E(R){R.done?p(R.value):new f(function(A){A(R.value)}).then(_,x)}E((d=d.apply(c,u||[])).next())})},i=_f&&_f.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(II());function o(c,u="maxAge"){let f,d,p;const v=()=>n(this,void 0,void 0,function*(){if(f!==void 0)return;const E=R=>n(this,void 0,void 0,function*(){p=r.default();const A=R[1][u]-Date.now();if(A<=0){c.delete(R[0]),p.resolve();return}return f=R[0],d=setTimeout(()=>{c.delete(R[0]),p&&p.resolve()},A),typeof d.unref=="function"&&d.unref(),p.promise});try{for(const R of c)yield E(R)}catch{}f=void 0}),_=()=>{f=void 0,d!==void 0&&(clearTimeout(d),d=void 0),p!==void 0&&(p.reject(void 0),p=void 0)},x=c.set.bind(c);return c.set=(E,R)=>{c.has(E)&&c.delete(E);const A=x(E,R);return f&&f===E&&_(),v(),A},v(),c}t.default=o,e.exports=o,e.exports.default=o}(Hc,Hc.exports)),Hc.exports}var Cp,Mw;function LI(){if(Mw)return Cp;Mw=1;const e=kI(),t=jI(),n=new WeakMap,i=new WeakMap,r=(o,{cacheKey:c,cache:u=new Map,maxAge:f}={})=>{typeof f=="number"&&t(u);const d=function(...p){const v=c?c(p):p[0],_=u.get(v);if(_)return _.data;const x=o.apply(this,p);return u.set(v,{data:x,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),x};return e(d,o,{ignoreNonConfigurable:!0}),i.set(d,u),d};return r.decorator=(o={})=>(c,u,f)=>{const d=c[u];if(typeof d!="function")throw new TypeError("The decorated value must be a function");delete f.value,delete f.writable,f.get=function(){if(!n.has(this)){const p=r(d,o);return n.set(this,p),p}return n.get(this)}},r.clear=o=>{const c=i.get(o);if(!c)throw new TypeError("Can't clear a function that was not memoized!");if(typeof c.clear!="function")throw new TypeError("The cache Map can't be cleared!");c.clear()},Cp=r,Cp}var zI=LI();const nD=s2(zI);function BI(e){return typeof e=="string"}function UI(e,t,n){return n.indexOf(e)===t}function FI(e){return e.toLowerCase()===e}function Nw(e){return e.indexOf(",")===-1?e:e.split(",")}function Iy(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return Iy(n)}if(e.indexOf("@")!==-1){var i=e.split("@")[0],n=i===void 0?"":i;return Iy(n)}if(e.indexOf("-")===-1||!FI(e))return e;var r=e.split("-"),o=r[0],c=r[1],u=c===void 0?"":c;return"".concat(o,"-").concat(u.toUpperCase())}function HI(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,i=n===void 0?!0:n,r=t.fallbackLocale,o=r===void 0?"en-US":r,c=[];if(typeof navigator<"u"){for(var u=navigator.languages||[],f=[],d=0,p=u;d<p.length;d++){var v=p[d];f=f.concat(Nw(v))}var _=navigator.language,x=_&&Nw(_);c=c.concat(f,x)}return i&&c.push(o),c.filter(BI).map(Iy).filter(UI)}var qI=nD(HI,{cacheKey:JSON.stringify});function YI(e){return qI(e)[0]||null}var iD=nD(YI,{cacheKey:JSON.stringify});function Qs(e,t,n){return function(r,o){o===void 0&&(o=n);var c=e(r)+o;return t(c)}}function Lu(e){return function(n){return new Date(e(n).getTime()-1)}}function zu(e,t){return function(i){return[e(i),t(i)]}}function Ce(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Kr(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Kd(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Al(e){var t=Ce(e),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var GI=Qs(Ce,Al,-100),sD=Qs(Ce,Al,100),lv=Lu(sD),$I=Qs(Ce,lv,-100),rD=zu(Al,lv);function Xr(e){var t=Ce(e),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var aD=Qs(Ce,Xr,-10),cv=Qs(Ce,Xr,10),Xd=Lu(cv),oD=Qs(Ce,Xd,-10),lD=zu(Xr,Xd);function Dl(e){var t=Ce(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var cD=Qs(Ce,Dl,-1),uv=Qs(Ce,Dl,1),Qd=Lu(uv),uD=Qs(Ce,Qd,-1),KI=zu(Dl,Qd);function hv(e,t){return function(i,r){r===void 0&&(r=t);var o=Ce(i),c=Kr(i)+r,u=new Date;return u.setFullYear(o,c,1),u.setHours(0,0,0,0),e(u)}}function Xa(e){var t=Ce(e),n=Kr(e),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var hD=hv(Xa,-1),fv=hv(Xa,1),Bu=Lu(fv),fD=hv(Bu,-1),XI=zu(Xa,Bu);function QI(e,t){return function(i,r){r===void 0&&(r=t);var o=Ce(i),c=Kr(i),u=Kd(i)+r,f=new Date;return f.setFullYear(o,c,u),f.setHours(0,0,0,0),e(f)}}function Uu(e){var t=Ce(e),n=Kr(e),i=Kd(e),r=new Date;return r.setFullYear(t,n,i),r.setHours(0,0,0,0),r}var WI=QI(Uu,1),dv=Lu(WI),ZI=zu(Uu,dv);function dD(e){return Kd(Bu(e))}var _n={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},JI={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},mv=[0,1,2,3,4,5,6],Rp=new Map;function t5(e){return function(n,i){var r=n||iD();Rp.has(r)||Rp.set(r,new Map);var o=Rp.get(r);return o.has(e)||o.set(e,new Intl.DateTimeFormat(r||void 0,e).format),o.get(e)(i)}}function e5(e){var t=new Date(e);return new Date(t.setHours(12))}function Qa(e){return function(t,n){return t5(e)(t,e5(n))}}var n5={day:"numeric"},i5={day:"numeric",month:"long",year:"numeric"},s5={month:"long"},r5={month:"long",year:"numeric"},a5={weekday:"short"},o5={weekday:"long"},l5={year:"numeric"},c5=Qa(n5),u5=Qa(i5),h5=Qa(s5),mD=Qa(r5),f5=Qa(a5),d5=Qa(o5),Wd=Qa(l5),m5=mv[0],g5=mv[5],Vw=mv[6];function Tu(e,t){t===void 0&&(t=_n.ISO_8601);var n=e.getDay();switch(t){case _n.ISO_8601:return(n+6)%7;case _n.ISLAMIC:return(n+1)%7;case _n.HEBREW:case _n.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function p5(e){var t=Al(e);return Ce(t)}function y5(e){var t=Xr(e);return Ce(t)}function jy(e,t){t===void 0&&(t=_n.ISO_8601);var n=Ce(e),i=Kr(e),r=e.getDate()-Tu(e,t);return new Date(n,i,r)}function v5(e,t){t===void 0&&(t=_n.ISO_8601);var n=t===_n.GREGORY?_n.GREGORY:_n.ISO_8601,i=jy(e,t),r=Ce(e)+1,o,c;do o=new Date(r,0,n===_n.ISO_8601?4:1),c=jy(o,t),r-=1;while(e<c);return Math.round((i.getTime()-c.getTime())/(864e5*7))+1}function Ha(e,t){switch(e){case"century":return Al(t);case"decade":return Xr(t);case"year":return Dl(t);case"month":return Xa(t);case"day":return Uu(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function b5(e,t){switch(e){case"century":return GI(t);case"decade":return aD(t);case"year":return cD(t);case"month":return hD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function gD(e,t){switch(e){case"century":return sD(t);case"decade":return cv(t);case"year":return uv(t);case"month":return fv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function _5(e,t){switch(e){case"decade":return aD(t,-100);case"year":return cD(t,-10);case"month":return hD(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function x5(e,t){switch(e){case"decade":return cv(t,100);case"year":return uv(t,10);case"month":return fv(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function pD(e,t){switch(e){case"century":return lv(t);case"decade":return Xd(t);case"year":return Qd(t);case"month":return Bu(t);case"day":return dv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function T5(e,t){switch(e){case"century":return $I(t);case"decade":return oD(t);case"year":return uD(t);case"month":return fD(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function w5(e,t){switch(e){case"decade":return oD(t,-100);case"year":return uD(t,-10);case"month":return fD(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Pw(e,t){switch(e){case"century":return rD(t);case"decade":return lD(t);case"year":return KI(t);case"month":return XI(t);case"day":return ZI(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function S5(e,t,n){var i=[t,n].sort(function(r,o){return r.getTime()-o.getTime()});return[Ha(e,i[0]),pD(e,i[1])]}function yD(e,t,n){return n.map(function(i){return(t||Wd)(e,i)}).join(" – ")}function E5(e,t,n){return yD(e,t,rD(n))}function vD(e,t,n){return yD(e,t,lD(n))}function A5(e){return e.getDay()===new Date().getDay()}function bD(e,t){t===void 0&&(t=_n.ISO_8601);var n=e.getDay();switch(t){case _n.ISLAMIC:case _n.HEBREW:return n===g5||n===Vw;case _n.ISO_8601:case _n.GREGORY:return n===Vw||n===m5;default:throw new Error("Unsupported calendar type.")}}var Ji="react-calendar__navigation";function D5(e){var t=e.activeStartDate,n=e.drillUp,i=e.formatMonthYear,r=i===void 0?mD:i,o=e.formatYear,c=o===void 0?Wd:o,u=e.locale,f=e.maxDate,d=e.minDate,p=e.navigationAriaLabel,v=p===void 0?"":p,_=e.navigationAriaLive,x=e.navigationLabel,E=e.next2AriaLabel,R=E===void 0?"":E,A=e.next2Label,V=A===void 0?"»":A,B=e.nextAriaLabel,F=B===void 0?"":B,W=e.nextLabel,q=W===void 0?"›":W,Z=e.prev2AriaLabel,P=Z===void 0?"":Z,D=e.prev2Label,M=D===void 0?"«":D,I=e.prevAriaLabel,N=I===void 0?"":I,j=e.prevLabel,k=j===void 0?"‹":j,Nt=e.setActiveStartDate,Tt=e.showDoubleView,K=e.view,st=e.views,ht=st.indexOf(K)>0,wt=K!=="century",L=b5(K,t),et=wt?_5(K,t):void 0,ct=gD(K,t),ot=wt?x5(K,t):void 0,mt=function(){if(L.getFullYear()<0)return!0;var vt=T5(K,t);return d&&d>=vt}(),Et=wt&&function(){if(et.getFullYear()<0)return!0;var vt=w5(K,t);return d&&d>=vt}(),yt=f&&f<ct,ve=wt&&f&&f<ot;function qt(){Nt(L,"prev")}function re(){Nt(et,"prev2")}function bt(){Nt(ct,"next")}function lt(){Nt(ot,"next2")}function dt(vt){var Se=function(){switch(K){case"century":return E5(u,c,vt);case"decade":return vD(u,c,vt);case"year":return c(u,vt);case"month":return r(u,vt);default:throw new Error("Invalid view: ".concat(K,"."))}}();return x?x({date:vt,label:Se,locale:u||iD()||void 0,view:K}):Se}function _t(){var vt="".concat(Ji,"__label");return S.jsxs("button",{"aria-label":v,"aria-live":_,className:vt,disabled:!ht,onClick:n,style:{flexGrow:1},type:"button",children:[S.jsx("span",{className:"".concat(vt,"__labelText ").concat(vt,"__labelText--from"),children:dt(t)}),Tt?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"".concat(vt,"__divider"),children:" – "}),S.jsx("span",{className:"".concat(vt,"__labelText ").concat(vt,"__labelText--to"),children:dt(ct)})]}):null]})}return S.jsxs("div",{className:Ji,children:[M!==null&&wt?S.jsx("button",{"aria-label":P,className:"".concat(Ji,"__arrow ").concat(Ji,"__prev2-button"),disabled:Et,onClick:re,type:"button",children:M}):null,k!==null&&S.jsx("button",{"aria-label":N,className:"".concat(Ji,"__arrow ").concat(Ji,"__prev-button"),disabled:mt,onClick:qt,type:"button",children:k}),_t(),q!==null&&S.jsx("button",{"aria-label":F,className:"".concat(Ji,"__arrow ").concat(Ji,"__next-button"),disabled:yt,onClick:bt,type:"button",children:q}),V!==null&&wt?S.jsx("button",{"aria-label":R,className:"".concat(Ji,"__arrow ").concat(Ji,"__next2-button"),disabled:ve,onClick:lt,type:"button",children:V}):null]})}var Jo=function(){return Jo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jo.apply(this,arguments)},C5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function kw(e){return"".concat(e,"%")}function gv(e){var t=e.children,n=e.className,i=e.count,r=e.direction,o=e.offset,c=e.style,u=e.wrap,f=C5(e,["children","className","count","direction","offset","style","wrap"]);return S.jsx("div",Jo({className:n,style:Jo({display:"flex",flexDirection:r,flexWrap:u?"wrap":"nowrap"},c)},f,{children:it.Children.map(t,function(d,p){var v=o&&p===0?kw(100*o/i):null;return it.cloneElement(d,Jo(Jo({},d.props),{style:{flexBasis:kw(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:v,marginInlineStart:v,marginInlineEnd:0}}))})}))}function R5(e,t,n){return t&&t>e?t:n&&n<e?n:e}function wu(e,t){return t[0]<=e&&t[1]>=e}function O5(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function _D(e,t){return wu(e[0],t)||wu(e[1],t)}function Iw(e,t,n){var i=_D(t,e),r=[];if(i){r.push(n);var o=wu(e[0],t),c=wu(e[1],t);o&&r.push("".concat(n,"Start")),c&&r.push("".concat(n,"End")),o&&c&&r.push("".concat(n,"BothEnds"))}return r}function M5(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function N5(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,i=e.hover,r="react-calendar__tile",o=[r];if(!n)return o;var c=new Date,u=function(){if(Array.isArray(n))return n;var x=e.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return Pw(x,n)}();if(wu(c,u)&&o.push("".concat(r,"--now")),!t||!M5(t))return o;var f=function(){if(Array.isArray(t))return t;var x=e.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return Pw(x,t)}();O5(f,u)?o.push("".concat(r,"--active")):_D(f,u)&&o.push("".concat(r,"--hasActive"));var d=Iw(f,u,"".concat(r,"--range"));o.push.apply(o,d);var p=Array.isArray(t)?t:[t];if(i&&p.length===1){var v=i>f[0]?[f[0],i]:[i,f[0]],_=Iw(v,u,"".concat(r,"--hover"));o.push.apply(o,_)}return o}function Zd(e){for(var t=e.className,n=e.count,i=n===void 0?3:n,r=e.dateTransform,o=e.dateType,c=e.end,u=e.hover,f=e.offset,d=e.renderTile,p=e.start,v=e.step,_=v===void 0?1:v,x=e.value,E=e.valueType,R=[],A=p;A<=c;A+=_){var V=r(A);R.push(d({classes:N5({date:V,dateType:o,hover:u,value:x,valueType:E}),date:V}))}return S.jsx(gv,{className:t,count:i,offset:f,wrap:!0,children:R})}function Jd(e){var t=e.activeStartDate,n=e.children,i=e.classes,r=e.date,o=e.formatAbbr,c=e.locale,u=e.maxDate,f=e.maxDateTransform,d=e.minDate,p=e.minDateTransform,v=e.onClick,_=e.onMouseOver,x=e.style,E=e.tileClassName,R=e.tileContent,A=e.tileDisabled,V=e.view,B=it.useMemo(function(){var W={activeStartDate:t,date:r,view:V};return typeof E=="function"?E(W):E},[t,r,E,V]),F=it.useMemo(function(){var W={activeStartDate:t,date:r,view:V};return typeof R=="function"?R(W):R},[t,r,R,V]);return S.jsxs("button",{className:$d(i,B),disabled:d&&p(d)>r||u&&f(u)<r||(A==null?void 0:A({activeStartDate:t,date:r,view:V})),onClick:v?function(W){return v(r,W)}:void 0,onFocus:_?function(){return _(r)}:void 0,onMouseOver:_?function(){return _(r)}:void 0,style:x,type:"button",children:[o?S.jsx("abbr",{"aria-label":o(c,r),children:n}):n,F]})}var Ly=function(){return Ly=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ly.apply(this,arguments)},V5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},jw="react-calendar__century-view__decades__decade";function P5(e){var t=e.classes,n=t===void 0?[]:t,i=e.currentCentury,r=e.formatYear,o=r===void 0?Wd:r,c=V5(e,["classes","currentCentury","formatYear"]),u=c.date,f=c.locale,d=[];return n&&d.push.apply(d,n),d.push(jw),Al(u).getFullYear()!==i&&d.push("".concat(jw,"--neighboringCentury")),S.jsx(Jd,Ly({},c,{classes:d,maxDateTransform:Xd,minDateTransform:Xr,view:"century",children:vD(f,o,u)}))}var zy=function(){return zy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zy.apply(this,arguments)},Lw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function k5(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringCentury,r=e.value,o=e.valueType,c=Lw(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),u=p5(t),f=u+(i?119:99);return S.jsx(Zd,{className:"react-calendar__century-view__decades",dateTransform:Xr,dateType:"decade",end:f,hover:n,renderTile:function(d){var p=d.date,v=Lw(d,["date"]);return S.jsx(P5,zy({},c,v,{activeStartDate:t,currentCentury:u,date:p}),p.getTime())},start:u,step:10,value:r,valueType:o})}var By=function(){return By=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},By.apply(this,arguments)};function I5(e){function t(){return S.jsx(k5,By({},e))}return S.jsx("div",{className:"react-calendar__century-view",children:t()})}var Uy=function(){return Uy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uy.apply(this,arguments)},j5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},zw="react-calendar__decade-view__years__year";function L5(e){var t=e.classes,n=t===void 0?[]:t,i=e.currentDecade,r=e.formatYear,o=r===void 0?Wd:r,c=j5(e,["classes","currentDecade","formatYear"]),u=c.date,f=c.locale,d=[];return n&&d.push.apply(d,n),d.push(zw),Xr(u).getFullYear()!==i&&d.push("".concat(zw,"--neighboringDecade")),S.jsx(Jd,Uy({},c,{classes:d,maxDateTransform:Qd,minDateTransform:Dl,view:"decade",children:o(f,u)}))}var Fy=function(){return Fy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fy.apply(this,arguments)},Bw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function z5(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringDecade,r=e.value,o=e.valueType,c=Bw(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),u=y5(t),f=u+(i?11:9);return S.jsx(Zd,{className:"react-calendar__decade-view__years",dateTransform:Dl,dateType:"year",end:f,hover:n,renderTile:function(d){var p=d.date,v=Bw(d,["date"]);return S.jsx(L5,Fy({},c,v,{activeStartDate:t,currentDecade:u,date:p}),p.getTime())},start:u,value:r,valueType:o})}var Hy=function(){return Hy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Hy.apply(this,arguments)};function B5(e){function t(){return S.jsx(z5,Hy({},e))}return S.jsx("div",{className:"react-calendar__decade-view",children:t()})}var qy=function(){return qy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qy.apply(this,arguments)},U5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},Uw=function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},F5="react-calendar__year-view__months__month";function H5(e){var t=e.classes,n=t===void 0?[]:t,i=e.formatMonth,r=i===void 0?h5:i,o=e.formatMonthYear,c=o===void 0?mD:o,u=U5(e,["classes","formatMonth","formatMonthYear"]),f=u.date,d=u.locale;return S.jsx(Jd,qy({},u,{classes:Uw(Uw([],n,!0),[F5],!1),formatAbbr:c,maxDateTransform:Bu,minDateTransform:Xa,view:"year",children:r(d,f)}))}var Yy=function(){return Yy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yy.apply(this,arguments)},Fw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function q5(e){var t=e.activeStartDate,n=e.hover,i=e.value,r=e.valueType,o=Fw(e,["activeStartDate","hover","value","valueType"]),c=0,u=11,f=Ce(t);return S.jsx(Zd,{className:"react-calendar__year-view__months",dateTransform:function(d){var p=new Date;return p.setFullYear(f,d,1),Xa(p)},dateType:"month",end:u,hover:n,renderTile:function(d){var p=d.date,v=Fw(d,["date"]);return S.jsx(H5,Yy({},o,v,{activeStartDate:t,date:p}),p.getTime())},start:c,value:i,valueType:r})}var Gy=function(){return Gy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gy.apply(this,arguments)};function Y5(e){function t(){return S.jsx(q5,Gy({},e))}return S.jsx("div",{className:"react-calendar__year-view",children:t()})}var $y=function(){return $y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$y.apply(this,arguments)},G5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},Op="react-calendar__month-view__days__day";function $5(e){var t=e.calendarType,n=e.classes,i=n===void 0?[]:n,r=e.currentMonthIndex,o=e.formatDay,c=o===void 0?c5:o,u=e.formatLongDate,f=u===void 0?u5:u,d=G5(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=d.date,v=d.locale,_=[];return i&&_.push.apply(_,i),_.push(Op),bD(p,t)&&_.push("".concat(Op,"--weekend")),p.getMonth()!==r&&_.push("".concat(Op,"--neighboringMonth")),S.jsx(Jd,$y({},d,{classes:_,formatAbbr:f,maxDateTransform:dv,minDateTransform:Uu,view:"month",children:c(v,p)}))}var Ky=function(){return Ky=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ky.apply(this,arguments)},Hw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function K5(e){var t=e.activeStartDate,n=e.calendarType,i=e.hover,r=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,c=e.value,u=e.valueType,f=Hw(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=Ce(t),p=Kr(t),v=r||o,_=Tu(t,n),x=v?0:_,E=(v?-_:0)+1,R=function(){if(r)return E+6*7-1;var A=dD(t);if(o){var V=new Date;V.setFullYear(d,p,A),V.setHours(0,0,0,0);var B=7-Tu(V,n)-1;return A+B}return A}();return S.jsx(Zd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(A){var V=new Date;return V.setFullYear(d,p,A),Uu(V)},dateType:"day",hover:i,end:R,renderTile:function(A){var V=A.date,B=Hw(A,["date"]);return S.jsx($5,Ky({},f,B,{activeStartDate:t,calendarType:n,currentMonthIndex:p,date:V}),V.getTime())},offset:x,start:E,value:c,valueType:u})}var xD="react-calendar__month-view__weekdays",Mp="".concat(xD,"__weekday");function X5(e){for(var t=e.calendarType,n=e.formatShortWeekday,i=n===void 0?f5:n,r=e.formatWeekday,o=r===void 0?d5:r,c=e.locale,u=e.onMouseLeave,f=new Date,d=Xa(f),p=Ce(d),v=Kr(d),_=[],x=1;x<=7;x+=1){var E=new Date(p,v,x-Tu(d,t)),R=o(c,E);_.push(S.jsx("div",{className:$d(Mp,A5(E)&&"".concat(Mp,"--current"),bD(E,t)&&"".concat(Mp,"--weekend")),children:S.jsx("abbr",{"aria-label":R,title:R,children:i(c,E).replace(".","")})},x))}return S.jsx(gv,{className:xD,count:7,onFocus:u,onMouseOver:u,children:_})}var bd=function(){return bd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bd.apply(this,arguments)},qw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},Yw="react-calendar__tile";function Q5(e){var t=e.onClickWeekNumber,n=e.weekNumber,i=S.jsx("span",{children:n});if(t){var r=e.date,o=e.onClickWeekNumber,c=e.weekNumber,u=qw(e,["date","onClickWeekNumber","weekNumber"]);return S.jsx("button",bd({},u,{className:Yw,onClick:function(f){return o(c,r,f)},type:"button",children:i}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var u=qw(e,["date","onClickWeekNumber","weekNumber"]);return S.jsx("div",bd({},u,{className:Yw,children:i}))}}function W5(e){var t=e.activeStartDate,n=e.calendarType,i=e.onClickWeekNumber,r=e.onMouseLeave,o=e.showFixedNumberOfWeeks,c=function(){if(o)return 6;var d=dD(t),p=Tu(t,n),v=d-(7-p);return 1+Math.ceil(v/7)}(),u=function(){for(var d=Ce(t),p=Kr(t),v=Kd(t),_=[],x=0;x<c;x+=1)_.push(jy(new Date(d,p,v+x*7),n));return _}(),f=u.map(function(d){return v5(d,n)});return S.jsx(gv,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:r,onMouseOver:r,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(d,p){var v=u[p];if(!v)throw new Error("date is not defined");return S.jsx(Q5,{date:v,onClickWeekNumber:i,weekNumber:d},d)})})}var Xy=function(){return Xy=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xy.apply(this,arguments)},Z5=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function J5(e){if(e)for(var t=0,n=Object.entries(JI);t<n.length;t++){var i=n[t],r=i[0],o=i[1];if(o.includes(e))return r}return _n.ISO_8601}function tj(e){var t=e.activeStartDate,n=e.locale,i=e.onMouseLeave,r=e.showFixedNumberOfWeeks,o=e.calendarType,c=o===void 0?J5(n):o,u=e.formatShortWeekday,f=e.formatWeekday,d=e.onClickWeekNumber,p=e.showWeekNumbers,v=Z5(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function _(){return S.jsx(X5,{calendarType:c,formatShortWeekday:u,formatWeekday:f,locale:n,onMouseLeave:i})}function x(){return p?S.jsx(W5,{activeStartDate:t,calendarType:c,onClickWeekNumber:d,onMouseLeave:i,showFixedNumberOfWeeks:r}):null}function E(){return S.jsx(K5,Xy({calendarType:c},v))}var R="react-calendar__month-view";return S.jsx("div",{className:$d(R,p?"".concat(R,"--weekNumbers"):""),children:S.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),S.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[_(),E()]})]})})}var tl=function(){return tl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tl.apply(this,arguments)},xf="react-calendar",Yf=["century","decade","year","month"],ej=["decade","year","month","day"],pv=new Date;pv.setFullYear(1,0,1);pv.setHours(0,0,0,0);var nj=new Date(864e13);function qc(e){return e instanceof Date?e:new Date(e)}function TD(e,t){return Yf.slice(Yf.indexOf(e),Yf.indexOf(t)+1)}function ij(e,t,n){var i=TD(t,n);return i.indexOf(e)!==-1}function yv(e,t,n){return e&&ij(e,t,n)?e:n}function wD(e){var t=Yf.indexOf(e);return ej[t]}function sj(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var i=qc(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}function SD(e,t){var n=e.value,i=e.minDate,r=e.maxDate,o=e.maxDetail,c=sj(n,t);if(!c)return null;var u=wD(o),f=function(){switch(t){case 0:return Ha(u,c);case 1:return pD(u,c);default:throw new Error("Invalid index value: ".concat(t))}}();return R5(f,i,r)}var vv=function(e){return SD(e,0)},ED=function(e){return SD(e,1)},rj=function(e){return[vv,ED].map(function(t){return t(e)})};function AD(e){var t=e.maxDate,n=e.maxDetail,i=e.minDate,r=e.minDetail,o=e.value,c=e.view,u=yv(c,r,n),f=vv({value:o,minDate:i,maxDate:t,maxDetail:n})||new Date;return Ha(u,f)}function aj(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,i=e.defaultValue,r=e.defaultView,o=e.maxDate,c=e.maxDetail,u=e.minDate,f=e.minDetail,d=e.value,p=e.view,v=yv(p,f,c),_=t||n;return _?Ha(v,_):AD({maxDate:o,maxDetail:c,minDate:u,minDetail:f,value:d||i,view:p||r})}function Np(e){return e&&(!Array.isArray(e)||e.length===1)}function Tf(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var oj=it.forwardRef(function(t,n){var i=t.activeStartDate,r=t.allowPartialRange,o=t.calendarType,c=t.className,u=t.defaultActiveStartDate,f=t.defaultValue,d=t.defaultView,p=t.formatDay,v=t.formatLongDate,_=t.formatMonth,x=t.formatMonthYear,E=t.formatShortWeekday,R=t.formatWeekday,A=t.formatYear,V=t.goToRangeStartOnSelect,B=V===void 0?!0:V,F=t.inputRef,W=t.locale,q=t.maxDate,Z=q===void 0?nj:q,P=t.maxDetail,D=P===void 0?"month":P,M=t.minDate,I=M===void 0?pv:M,N=t.minDetail,j=N===void 0?"century":N,k=t.navigationAriaLabel,Nt=t.navigationAriaLive,Tt=t.navigationLabel,K=t.next2AriaLabel,st=t.next2Label,ht=t.nextAriaLabel,wt=t.nextLabel,L=t.onActiveStartDateChange,et=t.onChange,ct=t.onClickDay,ot=t.onClickDecade,mt=t.onClickMonth,Et=t.onClickWeekNumber,yt=t.onClickYear,ve=t.onDrillDown,qt=t.onDrillUp,re=t.onViewChange,bt=t.prev2AriaLabel,lt=t.prev2Label,dt=t.prevAriaLabel,_t=t.prevLabel,vt=t.returnValue,Se=vt===void 0?"start":vt,be=t.selectRange,Wt=t.showDoubleView,Ws=t.showFixedNumberOfWeeks,Zs=t.showNavigation,Js=Zs===void 0?!0:Zs,ds=t.showNeighboringCentury,Ml=t.showNeighboringDecade,ms=t.showNeighboringMonth,Qr=ms===void 0?!0:ms,Wa=t.showWeekNumbers,Ee=t.tileClassName,ie=t.tileContent,Vn=t.tileDisabled,He=t.value,Wr=t.view,Za=it.useState(u),gs=Za[0],ni=Za[1],Ii=it.useState(null),$n=Ii[0],ps=Ii[1],ji=it.useState(Array.isArray(f)?f.map(function(Mt){return Mt!==null?qc(Mt):null}):f!=null?qc(f):null),ys=ji[0],Zr=ji[1],tr=it.useState(d),Si=tr[0],ii=tr[1],qe=i||gs||aj({activeStartDate:i,defaultActiveStartDate:u,defaultValue:f,defaultView:d,maxDate:Z,maxDetail:D,minDate:I,minDetail:j,value:He,view:Wr}),Te=function(){var Mt=function(){return be&&Np(ys)?ys:He!==void 0?He:ys}();return Mt?Array.isArray(Mt)?Mt.map(function(Lt){return Lt!==null?qc(Lt):null}):Mt!==null?qc(Mt):null:null}(),Li=wD(D),te=yv(Wr||Si,j,D),un=TD(j,D),zi=be?$n:null,er=un.indexOf(te)<un.length-1,ge=un.indexOf(te)>0,Ne=it.useCallback(function(Mt){var Lt=function(){switch(Se){case"start":return vv;case"end":return ED;case"range":return rj;default:throw new Error("Invalid returnValue.")}}();return Lt({maxDate:Z,maxDetail:D,minDate:I,value:Mt})},[Z,D,I,Se]),Ae=it.useCallback(function(Mt,Lt){ni(Mt);var Pt={action:Lt,activeStartDate:Mt,value:Te,view:te};L&&!Tf(qe,Mt)&&L(Pt)},[qe,L,Te,te]),hn=it.useCallback(function(Mt,Lt){var Pt=function(){switch(te){case"century":return ot;case"decade":return yt;case"year":return mt;case"month":return ct;default:throw new Error("Invalid view: ".concat(te,"."))}}();Pt&&Pt(Mt,Lt)},[ct,ot,mt,yt,te]),vs=it.useCallback(function(Mt,Lt){if(er){hn(Mt,Lt);var Pt=un[un.indexOf(te)+1];if(!Pt)throw new Error("Attempted to drill down from the lowest view.");ni(Mt),ii(Pt);var fn={action:"drillDown",activeStartDate:Mt,value:Te,view:Pt};L&&!Tf(qe,Mt)&&L(fn),re&&te!==Pt&&re(fn),ve&&ve(fn)}},[qe,er,L,hn,ve,re,Te,te,un]),Jr=it.useCallback(function(){if(ge){var Mt=un[un.indexOf(te)-1];if(!Mt)throw new Error("Attempted to drill up from the highest view.");var Lt=Ha(Mt,qe);ni(Lt),ii(Mt);var Pt={action:"drillUp",activeStartDate:Lt,value:Te,view:Mt};L&&!Tf(qe,Lt)&&L(Pt),re&&te!==Mt&&re(Pt),qt&&qt(Pt)}},[qe,ge,L,qt,re,Te,te,un]),si=it.useCallback(function(Mt,Lt){var Pt=Te;hn(Mt,Lt);var fn=be&&!Np(Pt),nn;if(be)if(fn)nn=Ha(Li,Mt);else{if(!Pt)throw new Error("previousValue is required");if(Array.isArray(Pt))throw new Error("previousValue must not be an array");nn=S5(Li,Pt,Mt)}else nn=Ne(Mt);var Pn=!be||fn||B?AD({maxDate:Z,maxDetail:D,minDate:I,minDetail:j,value:nn,view:te}):null;Lt.persist(),ni(Pn),Zr(nn);var Ci={action:"onChange",activeStartDate:Pn,value:nn,view:te};if(L&&!Tf(qe,Pn)&&L(Ci),et)if(be){var to=Np(nn);if(!to)et(nn||null,Lt);else if(r){if(Array.isArray(nn))throw new Error("value must not be an array");et([nn||null,null],Lt)}}else et(nn||null,Lt)},[qe,r,Ne,B,Z,D,I,j,L,et,hn,be,Te,Li,te]);function Ja(Mt){ps(Mt)}function Ei(){ps(null)}it.useImperativeHandle(n,function(){return{activeStartDate:qe,drillDown:vs,drillUp:Jr,onChange:si,setActiveStartDate:Ae,value:Te,view:te}},[qe,vs,Jr,si,Ae,Te,te]);function Ai(Mt){var Lt=Mt?gD(te,qe):Ha(te,qe),Pt=er?vs:si,fn={activeStartDate:Lt,hover:zi,locale:W,maxDate:Z,minDate:I,onClick:Pt,onMouseOver:be?Ja:void 0,tileClassName:Ee,tileContent:ie,tileDisabled:Vn,value:Te,valueType:Li};switch(te){case"century":return S.jsx(I5,tl({formatYear:A,showNeighboringCentury:ds},fn));case"decade":return S.jsx(B5,tl({formatYear:A,showNeighboringDecade:Ml},fn));case"year":return S.jsx(Y5,tl({formatMonth:_,formatMonthYear:x},fn));case"month":return S.jsx(tj,tl({calendarType:o,formatDay:p,formatLongDate:v,formatShortWeekday:E,formatWeekday:R,onClickWeekNumber:Et,onMouseLeave:be?Ei:void 0,showFixedNumberOfWeeks:typeof Ws<"u"?Ws:Wt,showNeighboringMonth:Qr,showWeekNumbers:Wa},fn));default:throw new Error("Invalid view: ".concat(te,"."))}}function Di(){return Js?S.jsx(D5,{activeStartDate:qe,drillUp:Jr,formatMonthYear:x,formatYear:A,locale:W,maxDate:Z,minDate:I,navigationAriaLabel:k,navigationAriaLive:Nt,navigationLabel:Tt,next2AriaLabel:K,next2Label:st,nextAriaLabel:ht,nextLabel:wt,prev2AriaLabel:bt,prev2Label:lt,prevAriaLabel:dt,prevLabel:_t,setActiveStartDate:Ae,showDoubleView:Wt,view:te,views:un}):null}var ri=Array.isArray(Te)?Te:[Te];return S.jsxs("div",{className:$d(xf,be&&ri.length===1&&"".concat(xf,"--selectRange"),Wt&&"".concat(xf,"--doubleView"),c),ref:F,children:[Di(),S.jsxs("div",{className:"".concat(xf,"__viewContainer"),onBlur:be?Ei:void 0,onMouseLeave:be?Ei:void 0,children:[Ai(),Wt?Ai(!0):null]})]})});function lj({darkMode:e,selectedDate:t,setSelectedDate:n,objectives:i,tasks:r,completedObjectives:o,completedTasks:c}){const u=({date:f,view:d})=>{if(d!=="month")return null;const p=new Date(f);p.setHours(0,0,0,0);const v=new Date(f);v.setHours(23,59,59,999);const _=i.filter(B=>{const F=new Date(B.date);return F>=p&&F<=v}).length,x=r.filter(B=>{const F=new Date(B.date);return F>=p&&F<=v}).length,E=o.filter(B=>{const F=new Date(B.completedDate);return F>=p&&F<=v}).length,R=c.filter(B=>{const F=new Date(B.completedDate);return F>=p&&F<=v}).length,A=_+x,V=E+R;return S.jsxs("div",{className:"tile-indicators",children:[A>0&&S.jsx("span",{className:"pending",children:A}),V>0&&S.jsx("span",{className:"completed",children:V})]})};return S.jsx("div",{className:"w-full max-w-3xl mb-6 sm:mb-8",children:S.jsx(oj,{onChange:n,value:t,tileContent:u,className:`w-full rounded-xl shadow-xl p-4 sm:p-6 ${e?"react-calendar--dark":"react-calendar--light"}`})})}const Gw=e=>{if(!e)return"Fecha no válida";const t=new Date,n=new Date(e),i=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),o=new Date(n.toLocaleString("en-US",{timeZone:"UTC"}))-i;if(o<=0)return"¡Tiempo agotado!";const c=Math.floor(o/(1e3*60*60*24)),u=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),f=Math.floor(o%(1e3*60*60)/(1e3*60)),d=Math.floor(o%(1e3*60)/1e3);return c>0?`${c} día${c!==1?"s":""} ${u} hora${u!==1?"s":""}`:u>0?`${u} hora${u!==1?"s":""} ${f} minuto${f!==1?"s":""}`:f>0?`${f} minuto${f!==1?"s":""} ${d} segundo${d!==1?"s":""}`:`${d} segundo${d!==1?"s":""}`};function cj({darkMode:e,selectedDate:t,objectives:n,tasks:i,completedObjectives:r,completedTasks:o,setSelectedItem:c,undoCompleteItem:u}){const f=(E,R)=>{const A=new Date(t);A.setHours(0,0,0,0);const V=new Date(A);return V.setHours(23,59,59,999),E.filter(B=>{const F=new Date(B[R]);return F>=A&&F<=V})},d=E=>[...E].sort((R,A)=>{const V={high:3,medium:2,low:1},B=V[A.priority]-V[R.priority];return B!==0?B:new Date(R.createdAt)-new Date(A.createdAt)}),p=f(n,"date"),v=f(i,"date"),_=f(r,"completedDate"),x=f(o,"completedDate");return S.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`w-full max-w-3xl ${e?"bg-gray-900":"bg-white"} shadow-xl rounded-xl p-4 sm:p-6 mb-6 sm:mb-8`,id:"pending-section",children:[S.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:["Día - ",t.toLocaleDateString()]}),S.jsxs("h3",{className:"text-base sm:text-lg font-medium mb-2 flex items-center",children:[S.jsx(vd,{className:"mr-2"})," Objetivos Pendientes"]}),d(p).map(E=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg shadow-sm mb-2 border-l-4 ${E.priority==="high"?"border-black":E.priority==="medium"?"border-gray-600":"border-gray-400"} border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"mb-2 sm:mb-0",children:[S.jsx("span",{className:"text-base sm:text-lg font-medium",children:E.text}),S.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 mt-2",children:S.jsx("div",{className:`h-full rounded-full ${e?"bg-white":"bg-black"}`,style:{width:`${E.progress}%`}})}),S.jsxs("span",{className:"text-xs sm:text-sm flex items-center mt-1",children:[S.jsx(Aw,{className:"mr-1"})," Tiempo restante: ",Gw(E.date)]}),S.jsxs("span",{className:"block text-xs sm:text-sm flex items-center mt-1",children:[S.jsx(Py,{className:"mr-1"})," ",E.tags.length>0?E.tags.join(", "):"Sin etiquetas"]})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c({type:"objective",...E,completed:!1}),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]},E.id)),S.jsxs("h3",{className:"text-base sm:text-lg font-medium mb-2 mt-4 flex items-center",children:[S.jsx(vd,{className:"mr-2"})," Tareas Pendientes"]}),d(v).map(E=>{var R;return S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg shadow-sm mb-2 border-l-4 ${E.priority==="high"?"border-black":E.priority==="medium"?"border-gray-600":"border-gray-400"} border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"mb-2 sm:mb-0",children:[S.jsx("span",{className:"text-base sm:text-lg font-medium",children:E.text}),S.jsxs("span",{className:"block text-xs sm:text-sm flex items-center mt-1",children:[S.jsx(Aw,{className:"mr-1"})," Tiempo restante: ",Gw(E.date)]}),S.jsx("span",{className:"text-xs sm:text-sm",children:E.objectiveId?`Objetivo: ${((R=n.find(A=>A.id===E.objectiveId))==null?void 0:R.text)||"Sin objetivo"}`:"Sin objetivo"}),S.jsxs("span",{className:"block text-xs sm:text-sm flex items-center mt-1",children:[S.jsx(Py,{className:"mr-1"})," ",E.tags.length>0?E.tags.join(", "):"Sin etiquetas"]})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c({type:"task",...E,completed:!1}),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]},E.id)}),S.jsxs("h3",{className:"text-base sm:text-lg font-medium mb-2 mt-4 flex items-center",children:[S.jsx(yd,{className:"mr-2"})," Objetivos Completados"]}),_.map(E=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg shadow-sm mb-2 border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"mb-2 sm:mb-0",children:[S.jsx("span",{className:"text-base sm:text-lg font-medium",children:E.text}),S.jsx("span",{className:"block text-xs sm:text-sm",children:new Date(E.completedDate).toLocaleDateString()})]}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c({...E,type:"objective",completed:!0}),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("objective",E),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(ky,{}),S.jsx("span",{children:"Deshacer"})]})]})]},E.id)),S.jsxs("h3",{className:"text-base sm:text-lg font-medium mb-2 mt-4 flex items-center",children:[S.jsx(yd,{className:"mr-2"})," Tareas Completadas"]}),x.map(E=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg shadow-sm mb-2 border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"mb-2 sm:mb-0",children:[S.jsx("span",{className:"text-base sm:text-lg font-medium",children:E.text}),S.jsx("span",{className:"block text-xs sm:text-sm",children:new Date(E.completedDate).toLocaleDateString()})]}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c({...E,type:"task",completed:!0}),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("task",E),className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(ky,{}),S.jsx("span",{children:"Deshacer"})]})]})]},E.id))]})}function uj({darkMode:e,selectedItem:t,setSelectedItem:n,objectives:i,tasks:r,completedTasks:o,updateItem:c,completeItem:u,deleteItem:f,deleteCompletedItem:d,notes:p,addNote:v,updateNote:_,deleteNote:x}){var I;const[E,R]=it.useState(!1),[A,V]=it.useState({...t}),[B,F]=it.useState({title:"",content:""}),[W,q]=it.useState({text:"",date:"",priority:"low",tags:[],reminder:"",alarm:""}),Z=p.filter(N=>N.linkedItemId===t.id&&N.linkedItemType===t.type),P=()=>{c(t.type,t.id,A),R(!1)},D=()=>{!B.title&&!B.content||(v(B,t.id,t.type),F({title:"",content:""}))},M=()=>{if(!W.text)return;const N=new Date;N.setDate(N.getDate()+1);const j={type:"task",text:W.text,date:W.date||N.toISOString().split("T")[0]+"T12:00",priority:W.priority,tags:W.tags,reminder:W.reminder||null,alarm:W.alarm||null,objectiveId:t.type==="objective"?t.id:null,percentage:0};c("task",null,j),q({text:"",date:"",priority:"low",tags:[],reminder:"",alarm:""})};return S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:S.jsxs(Ht.div,{initial:{scale:.8},animate:{scale:1},className:`${e?"bg-gray-900 text-white":"bg-white text-black"} p-6 rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("h2",{className:"text-2xl font-bold",children:["Detalles de ",t.type==="objective"?"Objetivo":"Tarea"]}),S.jsx("button",{onClick:()=>n(null),className:`p-2 rounded-full ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:S.jsx(ju,{})})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Información General"}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Nombre:"}),E?S.jsx("input",{value:A.text,onChange:N=>V({...A,text:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`}):S.jsx("p",{className:"text-sm",children:t.text})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Fecha:"}),E?S.jsx("input",{type:"datetime-local",value:A.date.split(".")[0],onChange:N=>V({...A,date:new Date(N.target.value).toISOString()}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`}):S.jsx("p",{className:"text-sm",children:new Date(t.date).toLocaleString()})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Prioridad:"}),E?S.jsxs("select",{value:A.priority,onChange:N=>V({...A,priority:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"high",children:"Alta"}),S.jsx("option",{value:"medium",children:"Media"}),S.jsx("option",{value:"low",children:"Baja"})]}):S.jsx("p",{className:"text-sm",children:t.priority})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas:"}),E?S.jsx("input",{value:A.tags.join(", "),onChange:N=>V({...A,tags:N.target.value.split(", ").filter(j=>j.trim())}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Separadas por comas"}):S.jsx("p",{className:"text-sm",children:t.tags.join(", ")})]}),t.reminder&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Recordatorio:"}),S.jsx("p",{className:"text-sm",children:t.reminder})]}),t.alarm&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Alarma:"}),S.jsx("p",{className:"text-sm",children:t.alarm})]}),t.type==="task"&&t.objectiveId&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium",children:"Objetivo Vinculado:"}),S.jsx("p",{className:"text-sm",children:((I=i.find(N=>N.id===t.objectiveId))==null?void 0:I.text)||"Ninguno"})]})]})]}),t.type==="objective"&&S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tareas Asociadas"}),r.filter(N=>N.objectiveId===t.id).map(N=>S.jsx("div",{className:"p-2 border-b border-gray-300",children:S.jsxs("p",{className:"text-sm",children:[N.text," - ",new Date(N.date).toLocaleDateString()]})},N.id)),S.jsxs("div",{className:"mt-4",children:[S.jsx("h4",{className:"text-sm font-medium mb-2",children:"Añadir Tarea para Mañana"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{value:W.text,onChange:N=>q({...W,text:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Nombre de la tarea"}),S.jsx("input",{type:"datetime-local",value:W.date,onChange:N=>q({...W,date:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Fecha (por defecto: mañana)"}),S.jsxs("select",{value:W.priority,onChange:N=>q({...W,priority:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"high",children:"Alta"}),S.jsx("option",{value:"medium",children:"Media"}),S.jsx("option",{value:"low",children:"Baja"})]}),S.jsxs("button",{onClick:M,className:`px-4 py-2 rounded-lg ${e?"bg-white text-black":"bg-black text-white"} flex items-center space-x-2`,children:[S.jsx(JA,{}),S.jsx("span",{children:"Añadir Tarea"})]})]})]})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notas"}),S.jsx("div",{className:"space-y-2 mb-4",children:Z.map(N=>S.jsxs("div",{className:"p-2 border-b border-gray-300",children:[S.jsx("p",{className:"text-sm font-medium",children:N.title}),S.jsx("p",{className:"text-sm",children:N.content}),S.jsx("button",{onClick:()=>x(N.id),className:"text-red-500 text-xs mt-1",children:"Eliminar"})]},N.id))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{value:B.title,onChange:N=>F({...B,title:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Título de la nota"}),S.jsx("textarea",{value:B.content,onChange:N=>F({...B,content:N.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,rows:"3",placeholder:"Contenido de la nota"}),S.jsxs("button",{onClick:D,className:`px-4 py-2 rounded-lg ${e?"bg-white text-black":"bg-black text-white"} flex items-center space-x-2`,children:[S.jsx(tD,{}),S.jsx("span",{children:"Añadir Nota"})]})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E?P():R(!0)},className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:[E?S.jsx(yd,{}):S.jsx(Ys,{}),S.jsx("span",{children:E?"Guardar":"Editar"})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(t.type,t),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-green-600 text-white":"bg-green-500 text-white"}`,children:[S.jsx(yd,{}),S.jsx("span",{children:"Completar"})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t.completedDate?d(t.type,t.id):f(t.type,t.id),n(null)},className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-red-600 text-white":"bg-red-500 text-white"}`,children:[S.jsx(ky,{}),S.jsx("span",{children:"Eliminar"})]})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fu(e){return e+.5|0}const Or=(e,t,n)=>Math.max(Math.min(e,n),t);function Yc(e){return Or(Fu(e*2.55),0,255)}function kr(e){return Or(Fu(e*255),0,255)}function qs(e){return Or(Fu(e/2.55)/100,0,1)}function $w(e){return Or(Fu(e*100),0,100)}const vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qy=[..."0123456789ABCDEF"],hj=e=>Qy[e&15],fj=e=>Qy[(e&240)>>4]+Qy[e&15],wf=e=>(e&240)>>4===(e&15),dj=e=>wf(e.r)&&wf(e.g)&&wf(e.b)&&wf(e.a);function mj(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&vi[e[1]]*17,g:255&vi[e[2]]*17,b:255&vi[e[3]]*17,a:t===5?vi[e[4]]*17:255}:(t===7||t===9)&&(n={r:vi[e[1]]<<4|vi[e[2]],g:vi[e[3]]<<4|vi[e[4]],b:vi[e[5]]<<4|vi[e[6]],a:t===9?vi[e[7]]<<4|vi[e[8]]:255})),n}const gj=(e,t)=>e<255?t(e):"";function pj(e){var t=dj(e)?hj:fj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+gj(e.a,t):void 0}const yj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DD(e,t,n){const i=t*Math.min(n,1-n),r=(o,c=(o+e/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function vj(e,t,n){const i=(r,o=(r+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function bj(e,t,n){const i=DD(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function _j(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function bv(e){const n=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(n,i,r),c=Math.min(n,i,r),u=(o+c)/2;let f,d,p;return o!==c&&(p=o-c,d=u>.5?p/(2-o-c):p/(o+c),f=_j(n,i,r,p,o),f=f*60+.5),[f|0,d||0,u]}function _v(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(kr)}function xv(e,t,n){return _v(DD,e,t,n)}function xj(e,t,n){return _v(bj,e,t,n)}function Tj(e,t,n){return _v(vj,e,t,n)}function CD(e){return(e%360+360)%360}function wj(e){const t=yj.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Yc(+t[5]):kr(+t[5]));const r=CD(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=xj(r,o,c):t[1]==="hsv"?i=Tj(r,o,c):i=xv(r,o,c),{r:i[0],g:i[1],b:i[2],a:n}}function Sj(e,t){var n=bv(e);n[0]=CD(n[0]+t),n=xv(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Ej(e){if(!e)return;const t=bv(e),n=t[0],i=$w(t[1]),r=$w(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${qs(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Kw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Aj(){const e={},t=Object.keys(Xw),n=Object.keys(Kw);let i,r,o,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<n.length;r++)o=n[r],u=u.replace(o,Kw[o]);o=parseInt(Xw[c],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let Sf;function Dj(e){Sf||(Sf=Aj(),Sf.transparent=[0,0,0,0]);const t=Sf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Cj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rj(e){const t=Cj.exec(e);let n=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];n=t[8]?Yc(c):Or(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Yc(i):Or(i,0,255)),r=255&(t[4]?Yc(r):Or(r,0,255)),o=255&(t[6]?Yc(o):Or(o,0,255)),{r:i,g:r,b:o,a:n}}}function Oj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Vp=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ho=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Mj(e,t,n){const i=Ho(qs(e.r)),r=Ho(qs(e.g)),o=Ho(qs(e.b));return{r:kr(Vp(i+n*(Ho(qs(t.r))-i))),g:kr(Vp(r+n*(Ho(qs(t.g))-r))),b:kr(Vp(o+n*(Ho(qs(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Ef(e,t,n){if(e){let i=bv(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=xv(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function RD(e,t){return e&&Object.assign(t||{},e)}function Qw(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kr(e[3]))):(t=RD(e,{r:0,g:0,b:0,a:1}),t.a=kr(t.a)),t}function Nj(e){return e.charAt(0)==="r"?Rj(e):wj(e)}class Su{constructor(t){if(t instanceof Su)return t;const n=typeof t;let i;n==="object"?i=Qw(t):n==="string"&&(i=mj(t)||Dj(t)||Nj(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=RD(this._rgb);return t&&(t.a=qs(t.a)),t}set rgb(t){this._rgb=Qw(t)}rgbString(){return this._valid?Oj(this._rgb):void 0}hexString(){return this._valid?pj(this._rgb):void 0}hslString(){return this._valid?Ej(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Mj(this._rgb,t._rgb,n)),this}clone(){return new Su(this.rgb)}alpha(t){return this._rgb.a=kr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ef(this._rgb,2,t),this}darken(t){return Ef(this._rgb,2,-t),this}saturate(t){return Ef(this._rgb,1,t),this}desaturate(t){return Ef(this._rgb,1,-t),this}rotate(t){return Sj(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bs(){}const Vj=(()=>{let e=0;return()=>e++})();function ye(e){return e==null}function tn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ti(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ts(e,t){return Ti(e)?e:t}function ue(e,t){return typeof e>"u"?t:e}const Pj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function we(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ce(e,t,n,i){let r,o,c;if(tn(e))for(o=e.length,r=0;r<o;r++)t.call(n,e[r],r);else if(ne(e))for(c=Object.keys(e),o=c.length,r=0;r<o;r++)t.call(n,e[c[r]],c[r])}function _d(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function xd(e){if(tn(e))return e.map(xd);if(ne(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=xd(e[n[r]]);return t}return e}function OD(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function kj(e,t,n,i){if(!OD(e))return;const r=t[e],o=n[e];ne(r)&&ne(o)?Eu(r,o,i):t[e]=xd(o)}function Eu(e,t,n){const i=tn(t)?t:[t],r=i.length;if(!ne(e))return e;n=n||{};const o=n.merger||kj;let c;for(let u=0;u<r;++u){if(c=i[u],!ne(c))continue;const f=Object.keys(c);for(let d=0,p=f.length;d<p;++d)o(f[d],e,c,n)}return e}function nu(e,t){return Eu(e,t,{merger:Ij})}function Ij(e,t,n){if(!OD(e))return;const i=t[e],r=n[e];ne(i)&&ne(r)?nu(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=xd(r))}const Ww={"":e=>e,x:e=>e.x,y:e=>e.y};function jj(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Lj(e){const t=jj(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function yl(e,t){return(Ww[t]||(Ww[t]=Lj(t)))(e)}function Tv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Au=e=>typeof e<"u",Gr=e=>typeof e=="function",Zw=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function zj(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Mn=Math.PI,Ir=2*Mn,Td=Number.POSITIVE_INFINITY,Bj=Mn/180,Pi=Mn/2,Ra=Mn/4,Jw=Mn*2/3,MD=Math.log10,jr=Math.sign;function Gf(e,t,n){return Math.abs(e-t)<n}function tS(e){const t=Math.round(e);e=Gf(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(MD(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Uj(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,o)=>r-o).pop(),t}function Fj(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wd(e){return!Fj(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Hj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function qj(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function za(e){return e*(Mn/180)}function Yj(e){return e*(180/Mn)}function eS(e){if(!Ti(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Gj(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Mn&&(o+=Ir),{angle:o,distance:r}}function $j(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Oa(e){return(e%Ir+Ir)%Ir}function Kj(e,t,n,i){const r=Oa(e),o=Oa(t),c=Oa(n),u=Oa(o-r),f=Oa(c-r),d=Oa(r-o),p=Oa(r-c);return r===o||r===c||i||u>f&&d<p}function ki(e,t,n){return Math.max(t,Math.min(n,e))}function Xj(e){return ki(e,-32768,32767)}function el(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function wv(e,t,n){n=n||(c=>e[c]<t);let i=e.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const Wy=(e,t,n,i)=>wv(e,n,i?r=>{const o=e[r][t];return o<n||o===n&&e[r+1][t]===n}:r=>e[r][t]<n),Qj=(e,t,n)=>wv(e,n,i=>e[i][t]>=n);function Wj(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const ND=["push","pop","shift","splice","unshift"];function Zj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ND.forEach(n=>{const i="_onData"+Tv(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function nS(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(ND.forEach(o=>{delete e[o]}),delete e._chartjs)}function VD(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const PD=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function kD(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,PD.call(window,()=>{i=!1,e.apply(t,n)}))}}function Jj(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Sv=e=>e==="start"?"left":e==="end"?"right":"center",En=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,t9=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,Af=e=>e===0||e===1,iS=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ir/n)),sS=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ir/n)+1,iu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Pi)+1,easeOutSine:e=>Math.sin(e*Pi),easeInOutSine:e=>-.5*(Math.cos(Mn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Af(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Af(e)?e:iS(e,.075,.3),easeOutElastic:e=>Af(e)?e:sS(e,.075,.3),easeInOutElastic(e){return Af(e)?e:e<.5?.5*iS(e*2,.1125,.45):.5+.5*sS(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-iu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?iu.easeInBounce(e*2)*.5:iu.easeOutBounce(e*2-1)*.5+.5};function ID(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function rS(e){return ID(e)?e:new Su(e)}function Pp(e){return ID(e)?e:new Su(e).saturate(.5).darken(.1).hexString()}const e9=["x","y","borderWidth","radius","tension"],n9=["color","borderColor","backgroundColor"];function i9(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:n9},numbers:{type:"number",properties:e9}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function s9(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aS=new Map;function r9(e,t){t=t||{};const n=e+JSON.stringify(t);let i=aS.get(n);return i||(i=new Intl.NumberFormat(e,t),aS.set(n,i)),i}function jD(e,t,n){return r9(t,n).format(e)}const a9={values(e){return tn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=o9(e,n)}const c=MD(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),jD(e,i,f)}};function o9(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var LD={formatters:a9};function l9(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:LD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ga=Object.create(null),Zy=Object.create(null);function su(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function kp(e,t,n){return typeof t=="string"?Eu(su(e,t),n):Eu(su(e,""),t)}class c9{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Pp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Pp(r.borderColor),this.hoverColor=(i,r)=>Pp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return kp(this,t,n)}get(t){return su(this,t)}describe(t,n){return kp(Zy,t,n)}override(t,n){return kp(Ga,t,n)}route(t,n,i,r){const o=su(this,t),c=su(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],d=c[r];return ne(f)?Object.assign({},d,f):ue(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(n=>n(this))}}var Ue=new c9({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i9,s9,l9]);function u9(e){return!e||ye(e.size)||ye(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function oS(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Ma(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function lS(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function cS(e,t,n,i){zD(e,t,n,i,null)}function zD(e,t,n,i,r){let o,c,u,f,d,p,v,_;const x=t.pointStyle,E=t.rotation,R=t.radius;let A=(E||0)*Bj;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(A),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(R)||R<=0)){switch(e.beginPath(),x){default:r?e.ellipse(n,i,r/2,R,0,0,Ir):e.arc(n,i,R,0,Ir),e.closePath();break;case"triangle":p=r?r/2:R,e.moveTo(n+Math.sin(A)*p,i-Math.cos(A)*R),A+=Jw,e.lineTo(n+Math.sin(A)*p,i-Math.cos(A)*R),A+=Jw,e.lineTo(n+Math.sin(A)*p,i-Math.cos(A)*R),e.closePath();break;case"rectRounded":d=R*.516,f=R-d,c=Math.cos(A+Ra)*f,v=Math.cos(A+Ra)*(r?r/2-d:f),u=Math.sin(A+Ra)*f,_=Math.sin(A+Ra)*(r?r/2-d:f),e.arc(n-v,i-u,d,A-Mn,A-Pi),e.arc(n+_,i-c,d,A-Pi,A),e.arc(n+v,i+u,d,A,A+Pi),e.arc(n-_,i+c,d,A+Pi,A+Mn),e.closePath();break;case"rect":if(!E){f=Math.SQRT1_2*R,p=r?r/2:f,e.rect(n-p,i-f,2*p,2*f);break}A+=Ra;case"rectRot":v=Math.cos(A)*(r?r/2:R),c=Math.cos(A)*R,u=Math.sin(A)*R,_=Math.sin(A)*(r?r/2:R),e.moveTo(n-v,i-u),e.lineTo(n+_,i-c),e.lineTo(n+v,i+u),e.lineTo(n-_,i+c),e.closePath();break;case"crossRot":A+=Ra;case"cross":v=Math.cos(A)*(r?r/2:R),c=Math.cos(A)*R,u=Math.sin(A)*R,_=Math.sin(A)*(r?r/2:R),e.moveTo(n-v,i-u),e.lineTo(n+v,i+u),e.moveTo(n+_,i-c),e.lineTo(n-_,i+c);break;case"star":v=Math.cos(A)*(r?r/2:R),c=Math.cos(A)*R,u=Math.sin(A)*R,_=Math.sin(A)*(r?r/2:R),e.moveTo(n-v,i-u),e.lineTo(n+v,i+u),e.moveTo(n+_,i-c),e.lineTo(n-_,i+c),A+=Ra,v=Math.cos(A)*(r?r/2:R),c=Math.cos(A)*R,u=Math.sin(A)*R,_=Math.sin(A)*(r?r/2:R),e.moveTo(n-v,i-u),e.lineTo(n+v,i+u),e.moveTo(n+_,i-c),e.lineTo(n-_,i+c);break;case"line":c=r?r/2:Math.cos(A)*R,u=Math.sin(A)*R,e.moveTo(n-c,i-u),e.lineTo(n+c,i+u);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(A)*(r?r/2:R),i+Math.sin(A)*R);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function BD(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ev(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Av(e){e.restore()}function h9(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ye(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function f9(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),c=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(c,p),e.lineTo(u,p),e.stroke()}}function d9(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Du(e,t,n,i,r,o={}){const c=tn(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(e.save(),e.font=r.string,h9(e,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&d9(e,o.backdrop),u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),ye(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,n,i,o.maxWidth)),e.fillText(d,n,i,o.maxWidth),f9(e,n,i,d,o),i+=Number(r.lineHeight);e.restore()}function Sd(e,t){const{x:n,y:i,w:r,h:o,radius:c}=t;e.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*Mn,Mn,!0),e.lineTo(n,i+o-c.bottomLeft),e.arc(n+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Mn,Pi,!0),e.lineTo(n+r-c.bottomRight,i+o),e.arc(n+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Pi,0,!0),e.lineTo(n+r,i+c.topRight),e.arc(n+r-c.topRight,i+c.topRight,c.topRight,0,-Pi,!0),e.lineTo(n+c.topLeft,i)}const m9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,g9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function p9(e,t){const n=(""+e).match(m9);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const y9=e=>+e||0;function UD(e,t){const n={},i=ne(t),r=i?Object.keys(t):t,o=ne(e)?i?c=>ue(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of r)n[c]=y9(o(c));return n}function FD(e){return UD(e,{top:"y",right:"x",bottom:"y",left:"x"})}function al(e){return UD(e,["topLeft","topRight","bottomLeft","bottomRight"])}function wi(e){const t=FD(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function On(e,t){e=e||{},t=t||Ue.font;let n=ue(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ue(e.style,t.style);i&&!(""+i).match(g9)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ue(e.family,t.family),lineHeight:p9(ue(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ue(e.weight,t.weight),string:""};return r.string=u9(r),r}function Df(e,t,n,i){let r,o,c;for(r=0,o=e.length;r<o;++r)if(c=e[r],c!==void 0&&c!==void 0)return c}function v9(e,t,n){const{min:i,max:r}=e,o=Pj(t,(r-i)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Cl(e,t){return Object.assign(Object.create(e),t)}function Dv(e,t=[""],n,i,r=()=>e[0]){const o=n||e;typeof i>"u"&&(i=GD("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>Dv([u,...e],t,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete e[0][f],!0},get(u,f){return qD(u,f,()=>A9(f,t,e,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,f){return hS(u).includes(f)},ownKeys(u){return hS(u)},set(u,f,d){const p=u._storage||(u._storage=r());return u[f]=p[f]=d,delete u._keys,!0}})}function vl(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:HD(e,i),setContext:o=>vl(e,o,n,i),override:o=>vl(e.override(o),t,n,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,u){return qD(o,c,()=>_9(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,u){return e[c]=u,delete o[c],!0}})}function HD(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Gr(n)?n:()=>n,isIndexable:Gr(i)?i:()=>i}}const b9=(e,t)=>e?e+Tv(t):t,Cv=(e,t)=>ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qD(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function _9(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=e;let u=i[t];return Gr(u)&&c.isScriptable(t)&&(u=x9(t,u,e,n)),tn(u)&&u.length&&(u=T9(t,u,e,c.isIndexable)),Cv(t,u)&&(u=vl(u,r,o&&o[t],c)),u}function x9(e,t,n,i){const{_proxy:r,_context:o,_subProxy:c,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let f=t(o,c||i);return u.delete(e),Cv(e,f)&&(f=Rv(r._scopes,r,e,f)),f}function T9(e,t,n,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(ne(t[0])){const f=t,d=r._scopes.filter(p=>p!==f);t=[];for(const p of f){const v=Rv(d,r,e,p);t.push(vl(v,o,c&&c[e],u))}}return t}function YD(e,t,n){return Gr(e)?e(t,n):e}const w9=(e,t)=>e===!0?t:typeof e=="string"?yl(t,e):void 0;function S9(e,t,n,i,r){for(const o of t){const c=w9(n,o);if(c){e.add(c);const u=YD(c._fallback,n,r);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rv(e,t,n,i){const r=t._rootScopes,o=YD(t._fallback,n,i),c=[...e,...r],u=new Set;u.add(i);let f=uS(u,c,n,o||n,i);return f===null||typeof o<"u"&&o!==n&&(f=uS(u,c,o,f,i),f===null)?!1:Dv(Array.from(u),[""],r,o,()=>E9(t,n,i))}function uS(e,t,n,i,r){for(;n;)n=S9(e,t,n,i,r);return n}function E9(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return tn(r)&&ne(n)?n:r||{}}function A9(e,t,n,i){let r;for(const o of t)if(r=GD(b9(o,e),n),typeof r<"u")return Cv(e,r)?Rv(n,i,e,r):r}function GD(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function hS(e){let t=e._keys;return t||(t=e._keys=D9(e._scopes)),t}function D9(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Ov(){return typeof window<"u"&&typeof document<"u"}function Mv(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ed(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const tm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function C9(e,t){return tm(e).getPropertyValue(t)}const R9=["top","right","bottom","left"];function qa(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=R9[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const O9=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function M9(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:o}=i;let c=!1,u,f;if(O9(r,o,e.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:u,y:f,box:c}}function ka(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=tm(n),o=r.boxSizing==="border-box",c=qa(r,"padding"),u=qa(r,"border","width"),{x:f,y:d,box:p}=M9(e,n),v=c.left+(p&&u.left),_=c.top+(p&&u.top);let{width:x,height:E}=t;return o&&(x-=c.width+u.width,E-=c.height+u.height),{x:Math.round((f-v)/x*n.width/i),y:Math.round((d-_)/E*n.height/i)}}function N9(e,t,n){let i,r;if(t===void 0||n===void 0){const o=e&&Mv(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const c=o.getBoundingClientRect(),u=tm(o),f=qa(u,"border","width"),d=qa(u,"padding");t=c.width-d.width-f.width,n=c.height-d.height-f.height,i=Ed(u.maxWidth,o,"clientWidth"),r=Ed(u.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Td,maxHeight:r||Td}}const Cf=e=>Math.round(e*10)/10;function V9(e,t,n,i){const r=tm(e),o=qa(r,"margin"),c=Ed(r.maxWidth,e,"clientWidth")||Td,u=Ed(r.maxHeight,e,"clientHeight")||Td,f=N9(e,t,n);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const _=qa(r,"border","width"),x=qa(r,"padding");d-=x.width+_.width,p-=x.height+_.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Cf(Math.min(d,c,f.maxWidth)),p=Cf(Math.min(p,u,f.maxHeight)),d&&!p&&(p=Cf(d/2)),(t!==void 0||n!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=Cf(Math.floor(p*i))),{width:d,height:p}}function fS(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(e.currentDevicePixelRatio=i,c.height=r,c.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const P9=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ov()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function dS(e,t){const n=C9(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const k9=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},I9=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ol(e,t,n){return e?k9(t,n):I9()}function $D(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function KD(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class j9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const o=n.listeners[r],c=n.duration;o.forEach(u=>u({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=PD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[c]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fs=new j9;const mS="transparent",L9={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=rS(e||mS),r=i.valid&&rS(t||mS);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class z9{constructor(t,n,i,r){const o=n[i];r=Df([t.to,r,o,t.from]);const c=Df([t.from,o,r]);this._active=!0,this._fn=t.fn||L9[t.type||typeof c],this._easing=iu[t.easing]||iu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Df([t.to,n,r,t.from]),this._from=Df([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<i),!this._active){this._target[r]=u,this._notify(!0);return}if(n<0){this._target[r]=o;return}f=n/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class XD{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ne(t))return;const n=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ne(o))return;const c={};for(const u of n)c[u]=o[u];(tn(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,n){const i=n.options,r=U9(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&B9(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const p=n[d];let v=o[d];const _=i.get(d);if(v)if(_&&v.active()){v.update(_,p,u);continue}else v.cancel();if(!_||!_.duration){t[d]=p;continue}o[d]=v=new z9(_,t,d,p),r.push(v)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Fs.add(this._chart,i),!0}}function B9(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=e[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function U9(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function gS(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function F9(e,t,n){if(n===!1)return!1;const i=gS(e,n),r=gS(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function H9(e){let t,n,i,r;return ne(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function QD(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function pS(e,t,n,i={}){const r=e.keys,o=i.mode==="single";let c,u,f,d;if(t===null)return;let p=!1;for(c=0,u=r.length;c<u;++c){if(f=+r[c],f===n){if(p=!0,i.all)continue;break}d=e.values[f],Ti(d)&&(o||t===0||jr(t)===jr(d))&&(t+=d)}return!p&&!i.all?0:t}function q9(e,t){const{iScale:n,vScale:i}=t,r=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let f,d,p;for(f=0,d=c.length;f<d;++f)p=c[f],u[f]={[r]:p,[o]:e[p]};return u}function Ip(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Y9(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function G9(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function $9(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function yS(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=e[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function vS(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,d=c.axis,p=Y9(o,c,i),v=t.length;let _;for(let x=0;x<v;++x){const E=t[x],{[f]:R,[d]:A}=E,V=E._stacks||(E._stacks={});_=V[d]=$9(r,p,R),_[u]=A,_._top=yS(_,c,!0,i.type),_._bottom=yS(_,c,!1,i.type);const B=_._visualValues||(_._visualValues={});B[u]=A}}function jp(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function K9(e,t){return Cl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function X9(e,t,n){return Cl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Vc(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Lp=e=>e==="reset"||e==="none",bS=(e,t)=>t?e:Object.assign({},e),Q9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:QD(n,!0),values:null};class ru{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ip(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(v,_,x,E)=>v==="x"?_:v==="r"?E:x,o=n.xAxisID=ue(i.xAxisID,jp(t,"x")),c=n.yAxisID=ue(i.yAxisID,jp(t,"y")),u=n.rAxisID=ue(i.rAxisID,jp(t,"r")),f=n.indexAxis,d=n.iAxisID=r(f,o,c,u),p=n.vAxisID=r(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&nS(this._data,this),t._stacked&&Vc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ne(n)){const r=this._cachedMeta;this._data=q9(n,r)}else if(i!==n){if(i){nS(i,this);const r=this._cachedMeta;Vc(r),r._parsed=[]}n&&Object.isExtensible(n)&&Zj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=Ip(n.vScale,n),n.stack!==i.stack&&(r=!0,Vc(n),n.stack=i.stack),this._resyncElements(t),(r||o!==n._stacked)&&(vS(this,n._parsed),n._stacked=Ip(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=t===0&&n===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,v,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{tn(r[t])?_=this.parseArrayData(i,r,t,n):ne(r[t])?_=this.parseObjectData(i,r,t,n):_=this.parsePrimitiveData(i,r,t,n);const x=()=>v[u]===null||d&&v[u]<d[u];for(p=0;p<n;++p)i._parsed[p+t]=v=_[p],f&&(x()&&(f=!1),d=v);i._sorted=f}c&&vS(this,_)}parsePrimitiveData(t,n,i,r){const{iScale:o,vScale:c}=t,u=o.axis,f=c.axis,d=o.getLabels(),p=o===c,v=new Array(r);let _,x,E;for(_=0,x=r;_<x;++_)E=_+i,v[_]={[u]:p||o.parse(d[E],E),[f]:c.parse(n[E],E)};return v}parseArrayData(t,n,i,r){const{xScale:o,yScale:c}=t,u=new Array(r);let f,d,p,v;for(f=0,d=r;f<d;++f)p=f+i,v=n[p],u[f]={x:o.parse(v[0],p),y:c.parse(v[1],p)};return u}parseObjectData(t,n,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,v,_,x;for(p=0,v=r;p<v;++p)_=p+i,x=n[_],d[p]={x:o.parse(yl(x,u),_),y:c.parse(yl(x,f),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,o=this._cachedMeta,c=n[t.axis],u={keys:QD(r,!0),values:n._stacks[t.axis]._visualValues};return pS(u,c,o.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const o=i[n.axis];let c=o===null?NaN:o;const u=r&&i._stacks[n.axis];r&&u&&(r.values=u,c=pS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),f=Q9(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=G9(u);let _,x;function E(){x=r[_];const R=x[u.axis];return!Ti(x[t.axis])||p>R||v<R}for(_=0;_<c&&!(!E()&&(this.updateRangeFromParsed(d,t,x,f),o));++_);if(o){for(_=c-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,t,x,f);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=n.length;r<o;++r)c=n[r][t.axis],Ti(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=H9(ue(this.options.clip,F9(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,f),p=u;p<u+f;++p){const v=r[p];v.hidden||(v.active&&d?c.push(v):v.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=X9(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=K9(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",o=this._cachedDataOpts,c=t+"-"+n,u=o[c],f=this.enableOptionSharing&&Au(i);if(u)return bS(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),x=Object.keys(Ue.elements[t]),E=()=>this.getContext(i,r,n),R=d.resolveNamedOptions(_,x,E,v);return R.$shared&&(R.$shared=f,o[c]=Object.freeze(bS(R,f))),R}_resolveAnimations(t,n,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),v);f=p.createResolver(_,this.getContext(t,i,n))}const d=new XD(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Lp(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:c}}updateElement(t,n,i,r){Lp(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!Lp(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=n.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,n,i=!0){const r=this._cachedMeta,o=r.data,c=t+n;let u;const f=d=>{for(d.length+=n,u=d.length-1;u>=c;u--)d[u]=d[u-n]};for(f(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&Vc(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Zt(ru,"defaults",{}),Zt(ru,"datasetElementType",null),Zt(ru,"dataElementType",null);function W9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=VD(i.sort((r,o)=>r-o))}return e._cache.$bar}function Z9(e){const t=e.iScale,n=W9(t,e.type);let i=t._length,r,o,c,u;const f=()=>{c===32767||c===-32768||(Au(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,o=n.length;r<o;++r)c=t.getPixelForValue(n[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function J9(e,t,n,i){const r=n.barThickness;let o,c;return ye(r)?(o=t.min*n.categoryPercentage,c=n.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[e]-o/2}}function tL(e,t,n,i){const r=t.pixels,o=r[e];let c=e>0?r[e-1]:null,u=e<r.length-1?r[e+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-c);const d=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:n.barPercentage,start:d}}function eL(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),c=Math.min(r,o),u=Math.max(r,o);let f=c,d=u;Math.abs(c)>Math.abs(u)&&(f=u,d=c),t[n.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:u}}function WD(e,t,n,i){return tn(e)?eL(e,t,n,i):t[n.axis]=n.parse(e,i),t}function _S(e,t,n,i){const r=e.iScale,o=e.vScale,c=r.getLabels(),u=r===o,f=[];let d,p,v,_;for(d=n,p=n+i;d<p;++d)_=t[d],v={},v[r.axis]=u||r.parse(c[d],d),f.push(WD(_,v,o,d));return f}function zp(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nL(e,t,n){return e!==0?jr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function iL(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}function sL(e,t,n,i){let r=t.borderSkipped;const o={};if(!r){e.borderSkipped=o;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:d,bottom:p}=iL(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=d:(n._bottom||0)===i?r=p:(o[xS(p,c,u,f)]=!0,r=d)),o[xS(r,c,u,f)]=!0,e.borderSkipped=o}function xS(e,t,n,i){return i?(e=rL(e,t,n),e=TS(e,n,t)):e=TS(e,t,n),e}function rL(e,t,n){return e===t?n:e===n?t:e}function TS(e,t,n){return e==="start"?t:e==="end"?n:e}function aL(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class $f extends ru{parsePrimitiveData(t,n,i,r){return _S(t,n,i,r)}parseArrayData(t,n,i,r){return _S(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,p=c.axis==="x"?u:f,v=[];let _,x,E,R;for(_=i,x=i+r;_<x;++_)R=n[_],E={},E[o.axis]=o.parse(yl(R,d),_),v.push(WD(yl(R,p),E,c,_));return v}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(t),c=o._custom,u=zp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:_}=this._getSharedOptions(n,r);for(let x=n;x<n+i;x++){const E=this.getParsed(x),R=o||ye(E[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),A=this._calculateBarIndexPixels(x,p),V=(E._stacks||{})[u.axis],B={horizontal:d,base:R.base,enableBorderRadius:!V||zp(E._custom)||c===V._top||c===V._bottom,x:d?R.head:A.center,y:d?A.center:R.head,height:d?A.size:Math.abs(R.size),width:d?Math.abs(R.size):A.size};_&&(B.options=v||this.resolveDataElementOptions(x,t[x].active?"active":r));const F=B.options||t[x].options;sL(B,F,V,c),aL(B,F,p.ratio),this.updateElement(t[x],x,B,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],d=p=>{const v=p._parsed.find(x=>x[i.axis]===f),_=v&&v[p.vScale.axis];if(ye(_)||isNaN(_))return!0};for(const p of r)if(!(n!==void 0&&d(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,c;for(o=0,c=n.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||Z9(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(t),d=f._custom,p=zp(d);let v=f[n.axis],_=0,x=i?this.applyStack(n,f,i):v,E,R;x!==v&&(_=x-v,x=v),p&&(v=d.barStart,x=d.barEnd-d.barStart,v!==0&&jr(v)!==jr(d.barEnd)&&(_=0),_+=v);const A=!ye(o)&&!p?o:_;let V=n.getPixelForValue(A);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+x):E=V,R=E-V,Math.abs(R)<c){R=nL(R,n,u)*c,v===u&&(V-=R/2);const B=n.getPixelForDecimal(0),F=n.getPixelForDecimal(1),W=Math.min(B,F),q=Math.max(B,F);V=Math.max(Math.min(V,q),W),E=V+R,i&&!p&&(f._stacks[n.axis]._visualValues[r]=n.getValueForPixel(E)-n.getValueForPixel(V))}if(V===n.getPixelForValue(u)){const B=jr(R)*n.getLineWidthForValue(u)/2;V+=B,R-=B}return{size:R,base:V,head:E,center:E+R/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,o=r.skipNull,c=ue(r.maxBarThickness,1/0);let u,f;if(n.grouped){const d=o?this._getStackCount(t):n.stackCount,p=r.barThickness==="flex"?tL(t,n,r,d):J9(t,n,r,d),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=p.start+p.chunk*v+p.chunk/2,f=Math.min(c,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}Zt($f,"id","bar"),Zt($f,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Zt($f,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Na(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nv{constructor(t){Zt(this,"options");this.options=t||{}}static override(t){Object.assign(Nv.prototype,t)}init(){}formats(){return Na()}parse(){return Na()}format(){return Na()}add(){return Na()}diff(){return Na()}startOf(){return Na()}endOf(){return Na()}}var oL={_date:Nv};function lL(e,t,n,i){const{controller:r,data:o,_sorted:c}=e,u=r._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&o.length){const d=u._reversePixels?Qj:Wy;if(i){if(r._sharedOptions){const p=o[0],v=typeof p.getRange=="function"&&p.getRange(t);if(v){const _=d(o,t,n-v),x=d(o,t,n+v);return{lo:_.lo,hi:x.hi}}}}else{const p=d(o,t,n);if(f){const{vScale:v}=r._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(R=>!ye(R[v.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(R=>!ye(R[v.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:o.length-1}}function em(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),c=n[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:p}=o[u],{lo:v,hi:_}=lL(o[u],t,c,r);for(let x=v;x<=_;++x){const E=p[x];E.skip||i(E,d,x)}}}function cL(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Bp(e,t,n,i,r){const o=[];return!r&&!e.isPointInArea(t)||em(e,n,t,function(u,f,d){!r&&!BD(u,e.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function uL(e,t,n,i){let r=[];function o(c,u,f){const{startAngle:d,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:v}=Gj(c,{x:t.x,y:t.y});Kj(v,d,p)&&r.push({element:c,datasetIndex:u,index:f})}return em(e,n,t,o),r}function hL(e,t,n,i,r,o){let c=[];const u=cL(n);let f=Number.POSITIVE_INFINITY;function d(p,v,_){const x=p.inRange(t.x,t.y,r);if(i&&!x)return;const E=p.getCenterPoint(r);if(!(!!o||e.isPointInArea(E))&&!x)return;const A=u(t,E);A<f?(c=[{element:p,datasetIndex:v,index:_}],f=A):A===f&&c.push({element:p,datasetIndex:v,index:_})}return em(e,n,t,d),c}function Up(e,t,n,i,r,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?uL(e,t,n,r):hL(e,t,n,i,r,o)}function wS(e,t,n,i,r){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return em(e,n,t,(f,d,p)=>{f[c]&&f[c](t[n],r)&&(o.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var fL={modes:{index(e,t,n,i){const r=ka(t,e),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Bp(e,r,o,i,c):Up(e,r,o,!1,i,c),f=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,v=d.data[p];v&&!v.skip&&f.push({element:v,datasetIndex:d.index,index:p})}),f):[]},dataset(e,t,n,i){const r=ka(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Bp(e,r,o,i,c):Up(e,r,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,d=e.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(e,t,n,i){const r=ka(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return Bp(e,r,o,i,c)},nearest(e,t,n,i){const r=ka(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return Up(e,r,o,n.intersect,i,c)},x(e,t,n,i){const r=ka(t,e);return wS(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=ka(t,e);return wS(e,r,"y",n.intersect,i)}}};const ZD=["left","top","right","bottom"];function Pc(e,t){return e.filter(n=>n.pos===t)}function SS(e,t){return e.filter(n=>ZD.indexOf(n.pos)===-1&&n.box.axis===t)}function kc(e,t){return e.sort((n,i)=>{const r=t?i:n,o=t?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function dL(e){const t=[];let n,i,r,o,c,u;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:o,options:{stack:c,stackWeight:u=1}}=r,t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:u});return t}function mL(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!ZD.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function gL(e,t){const n=mL(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,u;for(o=0,c=e.length;o<c;++o){u=e[o];const{fullSize:f}=u.box,d=n[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:f&&t.availableHeight)}return n}function pL(e){const t=dL(e),n=kc(t.filter(d=>d.box.fullSize),!0),i=kc(Pc(t,"left"),!0),r=kc(Pc(t,"right")),o=kc(Pc(t,"top"),!0),c=kc(Pc(t,"bottom")),u=SS(t,"x"),f=SS(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(u),chartArea:Pc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(u)}}function ES(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function JD(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yL(e,t,n,i){const{pos:r,box:o}=n,c=e.maxPadding;if(!ne(r)){n.size&&(e[r]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,e[r]+=n.size}o.getPadding&&JD(c,o.getPadding());const u=Math.max(0,t.outerWidth-ES(c,e,"left","right")),f=Math.max(0,t.outerHeight-ES(c,e,"top","bottom")),d=u!==e.w,p=f!==e.h;return e.w=u,e.h=f,n.horizontal?{same:d,other:p}:{same:p,other:d}}function vL(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function bL(e,t){const n=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],n[c])}),o}return i(e?["left","right"]:["top","bottom"])}function Gc(e,t,n,i){const r=[];let o,c,u,f,d,p;for(o=0,c=e.length,d=0;o<c;++o){u=e[o],f=u.box,f.update(u.width||t.w,u.height||t.h,bL(u.horizontal,t));const{same:v,other:_}=yL(t,n,u,i);d|=v&&r.length,p=p||_,f.fullSize||r.push(u)}return d&&Gc(r,t,n,i)||p}function Rf(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function AS(e,t,n,i){const r=n.padding;let{x:o,y:c}=t;for(const u of e){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const v=t.w*p,_=d.size||f.height;Au(d.start)&&(c=d.start),f.fullSize?Rf(f,r.left,c,n.outerWidth-r.right-r.left,_):Rf(f,t.left+d.placed,c,v,_),d.start=c,d.placed+=v,c=f.bottom}else{const v=t.h*p,_=d.size||f.width;Au(d.start)&&(o=d.start),f.fullSize?Rf(f,o,r.top,_,n.outerHeight-r.bottom-r.top):Rf(f,o,t.top+d.placed,_,v),d.start=o,d.placed+=v,o=f.right}}t.x=o,t.y=c}var _i={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=wi(e.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(n-r.height,0),u=pL(e.boxes),f=u.vertical,d=u.horizontal;ce(e.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=f.reduce((R,A)=>A.box.options&&A.box.options.display===!1?R:R+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),_=Object.assign({},r);JD(_,wi(i));const x=Object.assign({maxPadding:_,w:o,h:c,x:r.left,y:r.top},r),E=gL(f.concat(d),v);Gc(u.fullSize,x,v,E),Gc(f,x,v,E),Gc(d,x,v,E)&&Gc(f,x,v,E),vL(x),AS(u.leftAndTop,x,v,E),x.x+=x.w,x.y+=x.h,AS(u.rightAndBottom,x,v,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ce(u.chartArea,R=>{const A=R.box;Object.assign(A,e.chartArea),A.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class tC{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class _L extends tC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Kf="$chartjs",xL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},DS=e=>e===null||e==="";function TL(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Kf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",DS(r)){const o=dS(e,"width");o!==void 0&&(e.width=o)}if(DS(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=dS(e,"height");o!==void 0&&(e.height=o)}return e}const eC=P9?{passive:!0}:!1;function wL(e,t,n){e&&e.addEventListener(t,n,eC)}function SL(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,eC)}function EL(e,t){const n=xL[e.type]||e.type,{x:i,y:r}=ka(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ad(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function AL(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ad(u.addedNodes,i),c=c&&!Ad(u.removedNodes,i);c&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function DL(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ad(u.removedNodes,i),c=c&&!Ad(u.addedNodes,i);c&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Cu=new Map;let CS=0;function nC(){const e=window.devicePixelRatio;e!==CS&&(CS=e,Cu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function CL(e,t){Cu.size||window.addEventListener("resize",nC),Cu.set(e,t)}function RL(e){Cu.delete(e),Cu.size||window.removeEventListener("resize",nC)}function OL(e,t,n){const i=e.canvas,r=i&&Mv(i);if(!r)return;const o=kD((u,f)=>{const d=r.clientWidth;n(u,f),d<r.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return c.observe(r),CL(e,o),c}function Fp(e,t,n){n&&n.disconnect(),t==="resize"&&RL(e)}function ML(e,t,n){const i=e.canvas,r=kD(o=>{e.ctx!==null&&n(EL(o,e))},e);return wL(i,t,r),r}class NL extends tC{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(TL(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Kf])return!1;const i=n[Kf].initial;["height","width"].forEach(o=>{const c=i[o];ye(c)?n.removeAttribute(o):n.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[Kf],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),c={attach:AL,detach:DL,resize:OL}[n]||ML;r[n]=c(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Fp,detach:Fp,resize:Fp}[n]||SL)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return V9(t,n,i,r)}isAttached(t){const n=t&&Mv(t);return!!(n&&n.isConnected)}}function VL(e){return!Ov()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?_L:NL}var If;let Rl=(If=class{constructor(){Zt(this,"x");Zt(this,"y");Zt(this,"active",!1);Zt(this,"options");Zt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return wd(this.x)&&wd(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}},Zt(If,"defaults",{}),Zt(If,"defaultRoutes"),If);function PL(e,t){const n=e.options.ticks,i=kL(e),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?jL(t):[],c=o.length,u=o[0],f=o[c-1],d=[];if(c>r)return LL(t,d,o,c/r),d;const p=IL(o,t,r);if(c>0){let v,_;const x=c>1?Math.round((f-u)/(c-1)):null;for(Of(t,d,p,ye(x)?0:u-x,u),v=0,_=c-1;v<_;v++)Of(t,d,p,o[v],o[v+1]);return Of(t,d,p,f,ye(x)?t.length:f+x),d}return Of(t,d,p),d}function kL(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function IL(e,t,n){const i=zL(e),r=t.length/n;if(!i)return Math.max(r,1);const o=Uj(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function jL(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function LL(e,t,n,i){let r=0,o=n[0],c;for(i=Math.ceil(i),c=0;c<e.length;c++)c===o&&(t.push(e[c]),r++,o=n[r*i])}function Of(e,t,n,i,r){const o=ue(i,0),c=Math.min(ue(r,e.length),e.length);let u=0,f,d,p;for(n=Math.ceil(n),r&&(f=r-i,n=f/Math.floor(f/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(d=Math.max(o,0);d<c;d++)d===p&&(t.push(e[d]),u++,p=Math.round(o+u*n))}function zL(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const BL=e=>e==="left"?"right":e==="right"?"left":e,RS=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,OS=(e,t)=>Math.min(t||e,e);function MS(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function UL(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,c=e._endPixel,u=1e-6;let f=e.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(f-o,c-f):t===0?d=(e.getPixelForTick(1)-f)/2:d=(f-e.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>c+u)))return f}function FL(e,t){ce(e,n=>{const i=n.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Ic(e){return e.drawTicks?e.tickLength:0}function NS(e,t){if(!e.display)return 0;const n=On(e.font,t),i=wi(e.padding);return(tn(e.text)?e.text.length:1)*n.lineHeight+i.height}function HL(e,t){return Cl(e,{scale:t,type:"scale"})}function qL(e,t,n){return Cl(e,{tick:n,index:t,type:"tick"})}function YL(e,t,n){let i=Sv(e);return(n&&t!=="right"||!n&&t==="right")&&(i=BL(i)),i}function GL(e,t,n,i){const{top:r,left:o,bottom:c,right:u,chart:f}=e,{chartArea:d,scales:p}=f;let v=0,_,x,E;const R=c-r,A=u-o;if(e.isHorizontal()){if(x=En(i,o,u),ne(n)){const V=Object.keys(n)[0],B=n[V];E=p[V].getPixelForValue(B)+R-t}else n==="center"?E=(d.bottom+d.top)/2+R-t:E=RS(e,n,t);_=u-o}else{if(ne(n)){const V=Object.keys(n)[0],B=n[V];x=p[V].getPixelForValue(B)-A+t}else n==="center"?x=(d.left+d.right)/2-A+t:x=RS(e,n,t);E=En(i,c,r),v=n==="left"?-Pi:Pi}return{titleX:x,titleY:E,maxWidth:_,rotation:v}}class Ol extends Rl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=ts(t,Number.POSITIVE_INFINITY),n=ts(n,Number.NEGATIVE_INFINITY),i=ts(i,Number.POSITIVE_INFINITY),r=ts(r,Number.NEGATIVE_INFINITY),{min:ts(t,i),max:ts(n,r),minDefined:Ti(t),maxDefined:Ti(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)c=u[f].controller.getMinMax(this,t),r||(n=Math.min(n,c.min)),o||(i=Math.max(i,c.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:ts(n,ts(i,n)),max:ts(i,ts(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v9(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?MS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=PL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),we(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=we(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=OS(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation;let c=r,u,f,d;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,_=p.highest.height,x=ki(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/i:x/(i-1),v+6>u&&(u=x/(i-(t.offset?.5:1)),f=this.maxHeight-Ic(t.grid)-n.padding-NS(t.title,this.chart.options.font),d=Math.sqrt(v*v+_*_),c=Yj(Math.min(Math.asin(ki((p.highest.height+6)/u,-1,1)),Math.asin(ki(f/d,-1,1))-Math.asin(ki(_/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=NS(r,n.options.font);if(u?(t.width=this.maxWidth,t.height=Ic(o)+f):(t.height=this.maxHeight,t.width=Ic(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:v,highest:_}=this._getLabelSizes(),x=i.padding*2,E=za(this.labelRotation),R=Math.cos(E),A=Math.sin(E);if(u){const V=i.mirror?0:A*v.width+R*_.height;t.height=Math.min(this.maxHeight,t.height+V+x)}else{const V=i.mirror?0:R*v.width+A*_.height;t.width=Math.min(this.maxWidth,t.width+V+x)}this._calculatePadding(d,p,A,R)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;f?d?(_=r*t.width,x=i*n.height):(_=i*t.height,x=r*n.width):o==="start"?x=n.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-v+c)*this.width/(this.width-v),0)}else{let p=n.height/2,v=t.height/2;o==="start"?(p=0,v=t.height):o==="end"&&(p=n.height,v=0),this.paddingTop=p+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ye(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=MS(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/OS(n,i));let d=0,p=0,v,_,x,E,R,A,V,B,F,W,q;for(v=0;v<n;v+=f){if(E=t[v].label,R=this._resolveTickFontOptions(v),r.font=A=R.string,V=o[A]=o[A]||{data:{},gc:[]},B=R.lineHeight,F=W=0,!ye(E)&&!tn(E))F=oS(r,V.data,V.gc,F,E),W=B;else if(tn(E))for(_=0,x=E.length;_<x;++_)q=E[_],!ye(q)&&!tn(q)&&(F=oS(r,V.data,V.gc,F,q),W+=B);c.push(F),u.push(W),d=Math.max(F,d),p=Math.max(W,p)}FL(o,n);const Z=c.indexOf(d),P=u.indexOf(p),D=M=>({width:c[M]||0,height:u[M]||0});return{first:D(0),last:D(n-1),widest:D(Z),highest:D(P),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Xj(this._alignToPixels?Ma(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=qL(this.getContext(),t,i))}return this.$context||(this.$context=HL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=za(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:u}=r,f=o.offset,d=this.isHorizontal(),v=this.ticks.length+(f?1:0),_=Ic(o),x=[],E=u.setContext(this.getContext()),R=E.display?E.width:0,A=R/2,V=function(K){return Ma(i,K,R)};let B,F,W,q,Z,P,D,M,I,N,j,k;if(c==="top")B=V(this.bottom),P=this.bottom-_,M=B-A,N=V(t.top)+A,k=t.bottom;else if(c==="bottom")B=V(this.top),N=t.top,k=V(t.bottom)-A,P=B+A,M=this.top+_;else if(c==="left")B=V(this.right),Z=this.right-_,D=B-A,I=V(t.left)+A,j=t.right;else if(c==="right")B=V(this.left),I=t.left,j=V(t.right)-A,Z=B+A,D=this.left+_;else if(n==="x"){if(c==="center")B=V((t.top+t.bottom)/2+.5);else if(ne(c)){const K=Object.keys(c)[0],st=c[K];B=V(this.chart.scales[K].getPixelForValue(st))}N=t.top,k=t.bottom,P=B+A,M=P+_}else if(n==="y"){if(c==="center")B=V((t.left+t.right)/2);else if(ne(c)){const K=Object.keys(c)[0],st=c[K];B=V(this.chart.scales[K].getPixelForValue(st))}Z=B-A,D=Z-_,I=t.left,j=t.right}const Nt=ue(r.ticks.maxTicksLimit,v),Tt=Math.max(1,Math.ceil(v/Nt));for(F=0;F<v;F+=Tt){const K=this.getContext(F),st=o.setContext(K),ht=u.setContext(K),wt=st.lineWidth,L=st.color,et=ht.dash||[],ct=ht.dashOffset,ot=st.tickWidth,mt=st.tickColor,Et=st.tickBorderDash||[],yt=st.tickBorderDashOffset;W=UL(this,F,f),W!==void 0&&(q=Ma(i,W,wt),d?Z=D=I=j=q:P=M=N=k=q,x.push({tx1:Z,ty1:P,tx2:D,ty2:M,x1:I,y1:N,x2:j,y2:k,width:wt,color:L,borderDash:et,borderDashOffset:ct,tickWidth:ot,tickColor:mt,tickBorderDash:Et,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=B,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:v}=o,_=Ic(i.grid),x=_+p,E=v?-p:x,R=-za(this.labelRotation),A=[];let V,B,F,W,q,Z,P,D,M,I,N,j,k="middle";if(r==="top")Z=this.bottom-E,P=this._getXAxisLabelAlignment();else if(r==="bottom")Z=this.top+E,P=this._getXAxisLabelAlignment();else if(r==="left"){const Tt=this._getYAxisLabelAlignment(_);P=Tt.textAlign,q=Tt.x}else if(r==="right"){const Tt=this._getYAxisLabelAlignment(_);P=Tt.textAlign,q=Tt.x}else if(n==="x"){if(r==="center")Z=(t.top+t.bottom)/2+x;else if(ne(r)){const Tt=Object.keys(r)[0],K=r[Tt];Z=this.chart.scales[Tt].getPixelForValue(K)+x}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")q=(t.left+t.right)/2-x;else if(ne(r)){const Tt=Object.keys(r)[0],K=r[Tt];q=this.chart.scales[Tt].getPixelForValue(K)}P=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Nt=this._getLabelSizes();for(V=0,B=u.length;V<B;++V){F=u[V],W=F.label;const Tt=o.setContext(this.getContext(V));D=this.getPixelForTick(V)+o.labelOffset,M=this._resolveTickFontOptions(V),I=M.lineHeight,N=tn(W)?W.length:1;const K=N/2,st=Tt.color,ht=Tt.textStrokeColor,wt=Tt.textStrokeWidth;let L=P;c?(q=D,P==="inner"&&(V===B-1?L=this.options.reverse?"left":"right":V===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?d==="near"||R!==0?j=-N*I+I/2:d==="center"?j=-Nt.highest.height/2-K*I+I:j=-Nt.highest.height+I/2:d==="near"||R!==0?j=I/2:d==="center"?j=Nt.highest.height/2-K*I:j=Nt.highest.height-N*I,v&&(j*=-1),R!==0&&!Tt.showLabelBackdrop&&(q+=I/2*Math.sin(R))):(Z=D,j=(1-N)*I/2);let et;if(Tt.showLabelBackdrop){const ct=wi(Tt.backdropPadding),ot=Nt.heights[V],mt=Nt.widths[V];let Et=j-ct.top,yt=0-ct.left;switch(k){case"middle":Et-=ot/2;break;case"bottom":Et-=ot;break}switch(P){case"center":yt-=mt/2;break;case"right":yt-=mt;break;case"inner":V===B-1?yt-=mt:V>0&&(yt-=mt/2);break}et={left:yt,top:Et,width:mt+ct.width,height:ot+ct.height,color:Tt.backdropColor}}A.push({label:W,font:M,textOffset:j,options:{rotation:R,color:st,strokeColor:ht,strokeWidth:wt,textAlign:L,textBaseline:k,translation:[q,Z],backdrop:et}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-za(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),u=t+o,f=c.widest.width;let d,p;return n==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):n==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:o,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(o=0,c=r.length;o<c;++o){const f=r[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,v,_;this.isHorizontal()?(d=Ma(t,this.left,c)-c/2,p=Ma(t,this.right,u)+u/2,v=_=f):(v=Ma(t,this.top,c)-c/2,_=Ma(t,this.bottom,u)+u/2,d=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,v),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ev(i,r);const o=this.getLabelItems(t);for(const c of o){const u=c.options,f=c.font,d=c.label,p=c.textOffset;Du(i,d,0,p,f,u)}r&&Av(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=On(i.font),c=wi(i.padding),u=i.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(f+=c.bottom,tn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:p,maxWidth:v,rotation:_}=GL(this,f,n,u);Du(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:_,textAlign:YL(u,n,r),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ue(t.grid&&t.grid.z,-1),r=ue(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ol.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return On(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mf{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;XL(n)&&(i=this.register(n));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,$L(t,c,i),this.override&&Ue.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Ue[r]&&(delete Ue[r][i],this.override&&delete Ga[i])}}function $L(e,t,n){const i=Eu(Object.create(null),[n?Ue.get(n):{},Ue.get(t),e.defaults]);Ue.set(t,i),e.defaultRoutes&&KL(t,e.defaultRoutes),e.descriptors&&Ue.describe(t,e.descriptors)}function KL(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),c=t[n].split("."),u=c.pop(),f=c.join(".");Ue.route(o,r,f,u)})}function XL(e){return"id"in e&&"defaults"in e}class QL{constructor(){this.controllers=new Mf(ru,"datasets",!0),this.elements=new Mf(Rl,"elements"),this.plugins=new Mf(Object,"plugins"),this.scales=new Mf(Ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ce(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,n,i){const r=Tv(t);we(i["before"+r],[],i),n[t](i),we(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var is=new QL;class WL{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,i,r){r=r||{};for(const o of t){const c=o.plugin,u=c[i],f=[n,r,o.options];if(we(u,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=ue(i.options&&i.options.plugins,{}),o=ZL(i);return r===!1&&!n?[]:t8(t,o,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function ZL(e){const t={},n=[],i=Object.keys(is.plugins.items);for(let o=0;o<i.length;o++)n.push(is.getPlugin(i[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function JL(e,t){return!t&&e===!1?null:e===!0?{}:e}function t8(e,{plugins:t,localIds:n},i,r){const o=[],c=e.getContext();for(const u of t){const f=u.id,d=JL(i[f],r);d!==null&&o.push({plugin:u,options:e8(e.config,{plugin:u,local:n[f]},d,c)})}return o}function e8(e,{plugin:t,local:n},i,r){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(i,o);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jy(e,t){const n=Ue.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function n8(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function i8(e,t){return e===t?"_index_":"_value_"}function VS(e){if(e==="x"||e==="y"||e==="r")return e}function s8(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function t0(e,...t){if(VS(e))return e;for(const n of t){const i=n.axis||s8(n.position)||e.length>1&&VS(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function PS(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function r8(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return PS(e,"x",n[0])||PS(e,"y",n[0])}return{}}function a8(e,t){const n=Ga[e.type]||{scales:{}},i=t.scales||{},r=Jy(e.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!ne(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=t0(c,u,r8(c,e),Ue.scales[u.type]),d=i8(f,r),p=n.scales||{};o[c]=nu(Object.create(null),[{axis:f},u,p[f],p[d]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,f=c.indexAxis||Jy(u,t),p=(Ga[u]||{}).scales||{};Object.keys(p).forEach(v=>{const _=n8(v,f),x=c[_+"AxisID"]||_;o[x]=o[x]||Object.create(null),nu(o[x],[{axis:_},i[x],p[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];nu(u,[Ue.scales[u.type],Ue.scale])}),o}function iC(e){const t=e.options||(e.options={});t.plugins=ue(t.plugins,{}),t.scales=a8(e,t)}function sC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function o8(e){return e=e||{},e.data=sC(e.data),iC(e),e}const kS=new Map,rC=new Set;function Nf(e,t){let n=kS.get(e);return n||(n=t(),kS.set(e,n),rC.add(n)),n}const jc=(e,t,n)=>{const i=yl(t,n);i!==void 0&&e.add(i)};class l8{constructor(t){this._config=o8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Nf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Nf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Nf(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),u=c.get(n);if(u)return u;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(v=>jc(f,t,v))),p.forEach(v=>jc(f,r,v)),p.forEach(v=>jc(f,Ga[o]||{},v)),p.forEach(v=>jc(f,Ue,v)),p.forEach(v=>jc(f,Zy,v))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),rC.has(n)&&c.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ga[n]||{},Ue.datasets[n]||{},{type:n},Ue,Zy]}resolveNamedOptions(t,n,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=IS(this._resolverCache,t,r);let f=c;if(u8(c,n)){o.$shared=!1,i=Gr(i)?i():i;const d=this.createResolver(t,i,u);f=vl(c,i,d)}for(const d of n)o[d]=f[d];return o}createResolver(t,n,i=[""],r){const{resolver:o}=IS(this._resolverCache,t,i);return ne(n)?vl(o,n,void 0,r):o}}function IS(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Dv(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const c8=e=>ne(e)&&Object.getOwnPropertyNames(e).some(t=>Gr(e[t]));function u8(e,t){const{isScriptable:n,isIndexable:i}=HD(e);for(const r of t){const o=n(r),c=i(r),u=(c||o)&&e[r];if(o&&(Gr(u)||c8(u))||c&&tn(u))return!0}return!1}var h8="4.4.8";const f8=["top","bottom","left","right","chartArea"];function jS(e,t){return e==="top"||e==="bottom"||f8.indexOf(e)===-1&&t==="x"}function LS(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function zS(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),we(n&&n.onComplete,[e],t)}function d8(e){const t=e.chart,n=t.options.animation;we(n&&n.onProgress,[e],t)}function aC(e){return Ov()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Xf={},BS=e=>{const t=aC(e);return Object.values(Xf).filter(n=>n.canvas===t).pop()};function m8(e,t,n){const i=Object.keys(e);for(const r of i){const o=+r;if(o>=t){const c=e[r];delete e[r],(n>0||o>t)&&(e[o+n]=c)}}}function g8(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function Vf(e,t,n){return e.options.clip?e[n]:t[n]}function p8(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Vf(n,t,"left"),right:Vf(n,t,"right"),top:Vf(i,t,"top"),bottom:Vf(i,t,"bottom")}:t}var Ar;let Hu=(Ar=class{static register(...t){is.add(...t),US()}static unregister(...t){is.remove(...t),US()}constructor(t,n){const i=this.config=new l8(n),r=aC(t),o=BS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||VL(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=Vj(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jj(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Xf[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Fs.listen(this,"complete",zS),Fs.listen(this,"progress",d8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return ye(t)?n&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lS(this.canvas,this.ctx),this}stop(){return Fs.stop(this),this}resize(t,n){Fs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,fS(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),we(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ce(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=t0(c,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ce(o,c=>{const u=c.options,f=u.id,d=t0(f,u),p=ue(u.type,c.dtype);(u.position===void 0||jS(u.position,d)!==jS(c.dposition))&&(u.position=c.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===p)v=i[f];else{const _=is.getScale(p);v=new _({id:f,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,t)}),ce(r,(c,u)=>{c||delete i[u]}),ce(i,c=>{_i.configure(this,c,c.options),_i.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(LS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||Jy(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=is.getController(u),{datasetElementType:d,dataElementType:p}=Ue.datasets[u];Object.assign(f,{dataElementType:is.getElement(p),datasetElementType:d&&is.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ce(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:v}=this.getDatasetMeta(d),_=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(_),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ce(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(LS("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ce(this.scales,t=>{_i.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Zw(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const c=i==="_removeElements"?-o:o;m8(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!Zw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_i.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Gr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fs.has(this)?this.attached&&!Fs.running(this)&&Fs.start(this):(this.draw(),zS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const c=n[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,o=p8(t,this.chartArea),c={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(r&&Ev(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),r&&Av(n),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return BD(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const o=fL.modes[n];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Au(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Fs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),lS(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Xf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,c)=>{n.addEventListener(this,o,c),t[o]=c},r=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ce(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(f,d)=>{n.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(n.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){ce(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ce(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){c=t[u];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!_d(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),c=o(n,t),u=i?t:o(t,n);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:o}=this,c=n,u=this._getActiveElements(t,r,i,c),f=zj(t),d=g8(t,this._lastEvent,i,f);i&&(this._lastEvent=null,we(o.onHover,[t,u,this],this),f&&we(o.onClick,[t,u,this],this));const p=!_d(u,r);return(p||n)&&(this._active=u,this._updateHoverStyles(u,r,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},Zt(Ar,"defaults",Ue),Zt(Ar,"instances",Xf),Zt(Ar,"overrides",Ga),Zt(Ar,"registry",is),Zt(Ar,"version",h8),Zt(Ar,"getChart",BS),Ar);function US(){return ce(Hu.instances,e=>e._plugins.invalidate())}function oC(e,t){const{x:n,y:i,base:r,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let u,f,d,p,v;return e.horizontal?(v=c/2,u=Math.min(n,r),f=Math.max(n,r),d=i-v,p=i+v):(v=o/2,u=n-v,f=n+v,d=Math.min(i,r),p=Math.max(i,r)),{left:u,top:d,right:f,bottom:p}}function Mr(e,t,n,i){return e?0:ki(t,n,i)}function y8(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=FD(i);return{t:Mr(r.top,o.top,0,n),r:Mr(r.right,o.right,0,t),b:Mr(r.bottom,o.bottom,0,n),l:Mr(r.left,o.left,0,t)}}function v8(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=al(r),c=Math.min(t,n),u=e.borderSkipped,f=i||ne(r);return{topLeft:Mr(!f||u.top||u.left,o.topLeft,0,c),topRight:Mr(!f||u.top||u.right,o.topRight,0,c),bottomLeft:Mr(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Mr(!f||u.bottom||u.right,o.bottomRight,0,c)}}function b8(e){const t=oC(e),n=t.right-t.left,i=t.bottom-t.top,r=y8(e,n/2,i/2),o=v8(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Hp(e,t,n,i){const r=t===null,o=n===null,u=e&&!(r&&o)&&oC(e,i);return u&&(r||el(t,u.left,u.right))&&(o||el(n,u.top,u.bottom))}function _8(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function x8(e,t){e.rect(t.x,t.y,t.w,t.h)}function qp(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,c=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+c,radius:e.radius}}class au extends Rl{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=b8(this),u=_8(c.radius)?Sd:x8;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),u(t,qp(c,n,o)),t.clip(),u(t,qp(o,-n,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,qp(o,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return Hp(this,t,n,i)}inXRange(t,n){return Hp(this,t,null,n)}inYRange(t,n){return Hp(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Zt(au,"id","bar"),Zt(au,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Zt(au,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const FS=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},T8=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class HS extends Rl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=we(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=On(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=FS(i,o);let d,p;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(c,o,u,f)+10):(p=this.maxHeight,d=this._fitCols(c,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let v=t;o.textAlign="left",o.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,R)=>{const A=i+n/2+o.measureText(E.text).width;(R===0||d[d.length-1]+A+2*u>c)&&(v+=p,d[d.length-(R>0?0:1)]=0,x+=p,_++),f[R]={left:0,top:x,row:_,width:A,height:r},d[d.length-1]+=A+u}),v}_fitCols(t,n,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=c-t;let v=u,_=0,x=0,E=0,R=0;return this.legendItems.forEach((A,V)=>{const{itemWidth:B,itemHeight:F}=w8(i,n,o,A,r);V>0&&x+F+2*u>p&&(v+=_+u,d.push({width:_,height:x}),E+=_+u,R++,_=x=0),f[V]={left:E,top:x,col:R,width:B,height:F},_=Math.max(_,B),x+=F+u}),v+=_,d.push({width:_,height:x}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ol(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=En(i,this.left+r,this.right-this.lineWidths[u]);for(const d of n)u!==d.row&&(u=d.row,f=En(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let u=0,f=En(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of n)d.col!==u&&(u=d.col,f=En(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ev(t,this),this._draw(),Av(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,u=Ue.color,f=ol(t.rtl,this.left,this.width),d=On(c.font),{padding:p}=c,v=d.size,_=v/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:E,boxHeight:R,itemHeight:A}=FS(c,v),V=function(Z,P,D){if(isNaN(E)||E<=0||isNaN(R)||R<0)return;r.save();const M=ue(D.lineWidth,1);if(r.fillStyle=ue(D.fillStyle,u),r.lineCap=ue(D.lineCap,"butt"),r.lineDashOffset=ue(D.lineDashOffset,0),r.lineJoin=ue(D.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=ue(D.strokeStyle,u),r.setLineDash(ue(D.lineDash,[])),c.usePointStyle){const I={radius:R*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:M},N=f.xPlus(Z,E/2),j=P+_;zD(r,I,N,j,c.pointStyleWidth&&E)}else{const I=P+Math.max((v-R)/2,0),N=f.leftForLtr(Z,E),j=al(D.borderRadius);r.beginPath(),Object.values(j).some(k=>k!==0)?Sd(r,{x:N,y:I,w:E,h:R,radius:j}):r.rect(N,I,E,R),r.fill(),M!==0&&r.stroke()}r.restore()},B=function(Z,P,D){Du(r,D.text,Z,P+A/2,d,{strikethrough:D.hidden,textAlign:f.textAlign(D.textAlign)})},F=this.isHorizontal(),W=this._computeTitleHeight();F?x={x:En(o,this.left+p,this.right-i[0]),y:this.top+p+W,line:0}:x={x:this.left+p,y:En(o,this.top+W+p,this.bottom-n[0].height),line:0},$D(this.ctx,t.textDirection);const q=A+p;this.legendItems.forEach((Z,P)=>{r.strokeStyle=Z.fontColor,r.fillStyle=Z.fontColor;const D=r.measureText(Z.text).width,M=f.textAlign(Z.textAlign||(Z.textAlign=c.textAlign)),I=E+_+D;let N=x.x,j=x.y;f.setWidth(this.width),F?P>0&&N+I+p>this.right&&(j=x.y+=q,x.line++,N=x.x=En(o,this.left+p,this.right-i[x.line])):P>0&&j+q>this.bottom&&(N=x.x=N+n[x.line].width+p,x.line++,j=x.y=En(o,this.top+W+p,this.bottom-n[x.line].height));const k=f.x(N);if(V(k,j,Z),N=t9(M,N+E+_,F?N+I:this.right,t.rtl),B(f.x(N),j,Z),F)x.x+=I+p;else if(typeof Z.text!="string"){const Nt=d.lineHeight;x.y+=lC(Z,Nt)+p}else x.y+=q}),KD(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=On(n.font),r=wi(n.padding);if(!n.display)return;const o=ol(t.rtl,this.left,this.width),c=this.ctx,u=n.position,f=i.size/2,d=r.top+f;let p,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,v=En(t.align,v,this.right-_);else{const E=this.columnSizes.reduce((R,A)=>Math.max(R,A.height),0);p=d+En(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=En(u,v,v+_);c.textAlign=o.textAlign(Sv(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Du(c,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=On(t.font),i=wi(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,o;if(el(t,this.left,this.right)&&el(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],el(t,r.left,r.left+r.width)&&el(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!A8(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=T8(r,i);r&&!o&&we(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&we(n.onHover,[t,i,this],this)}else i&&we(n.onClick,[t,i,this],this)}}function w8(e,t,n,i,r){const o=S8(i,e,t,n),c=E8(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function S8(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+n.size/2+i.measureText(r).width}function E8(e,t,n){let i=e;return typeof t.text!="string"&&(i=lC(t,n)),i}function lC(e,t){const n=e.text?e.text.length:0;return t*n}function A8(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var cC={id:"legend",_element:HS,start(e,t,n){const i=e.legend=new HS({ctx:e.ctx,options:n,chart:e});_i.configure(e,i,n),_i.addBox(e,i)},stop(e){_i.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;_i.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(n?0:void 0),p=wi(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class uC extends Rl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=tn(i.text)?i.text.length:1;this._padding=wi(i.padding);const o=r*On(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:o,options:c}=this,u=c.align;let f=0,d,p,v;return this.isHorizontal()?(p=En(u,i,o),v=n+t,d=o-i):(c.position==="left"?(p=i+t,v=En(u,r,n),f=Mn*-.5):(p=o-t,v=En(u,n,r),f=Mn*.5),d=r-n),{titleX:p,titleY:v,maxWidth:d,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=On(n.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Du(t,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:d,textAlign:Sv(n.align),textBaseline:"middle",translation:[c,u]})}}function D8(e,t){const n=new uC({ctx:e.ctx,options:t,chart:e});_i.configure(e,n,t),_i.addBox(e,n),e.titleBlock=n}var hC={id:"title",_element:uC,start(e,t,n){D8(e,n)},stop(e){const t=e.titleBlock;_i.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;_i.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $c={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,o=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=e.length;o<c;++o){const f=e[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=$j(t,d);p<r&&(r=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function ns(e,t){return t&&(tn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Hs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function C8(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(r);return{chart:e,label:c,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function qS(e,t){const n=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:c,boxHeight:u}=t,f=On(t.bodyFont),d=On(t.titleFont),p=On(t.footerFont),v=o.length,_=r.length,x=i.length,E=wi(t.padding);let R=E.height,A=0,V=i.reduce((W,q)=>W+q.before.length+q.lines.length+q.after.length,0);if(V+=e.beforeBody.length+e.afterBody.length,v&&(R+=v*d.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),V){const W=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;R+=x*W+(V-x)*f.lineHeight+(V-1)*t.bodySpacing}_&&(R+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let B=0;const F=function(W){A=Math.max(A,n.measureText(W).width+B)};return n.save(),n.font=d.string,ce(e.title,F),n.font=f.string,ce(e.beforeBody.concat(e.afterBody),F),B=t.displayColors?c+2+t.boxPadding:0,ce(i,W=>{ce(W.before,F),ce(W.lines,F),ce(W.after,F)}),B=0,n.font=p.string,ce(e.footer,F),n.restore(),A+=E.width,{width:A,height:R}}function R8(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function O8(e,t,n,i){const{x:r,width:o}=i,c=n.caretSize+n.caretPadding;if(e==="left"&&r+o+c>t.width||e==="right"&&r-o-c<0)return!0}function M8(e,t,n,i){const{x:r,width:o}=n,{width:c,chartArea:{left:u,right:f}}=e;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),O8(d,e,t,n)&&(d="center"),d}function YS(e,t,n){const i=n.yAlign||t.yAlign||R8(e,n);return{xAlign:n.xAlign||t.xAlign||M8(e,t,n,i),yAlign:i}}function N8(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function V8(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function GS(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=e,{xAlign:u,yAlign:f}=n,d=r+o,{topLeft:p,topRight:v,bottomLeft:_,bottomRight:x}=al(c);let E=N8(t,u);const R=V8(t,f,d);return f==="center"?u==="left"?E+=d:u==="right"&&(E-=d):u==="left"?E-=Math.max(p,_)+r:u==="right"&&(E+=Math.max(v,x)+r),{x:ki(E,0,i.width-t.width),y:ki(R,0,i.height-t.height)}}function Pf(e,t,n){const i=wi(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function $S(e){return ns([],Hs(e))}function P8(e,t,n){return Cl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function KS(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const fC={beforeTitle:Bs,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Bs,beforeBody:Bs,beforeLabel:Bs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ye(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bs,afterBody:Bs,beforeFooter:Bs,footer:Bs,afterFooter:Bs};function Hn(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?fC[t].call(n,i):r}class e0 extends Rl{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new XD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=P8(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Hn(i,"beforeTitle",this,t),o=Hn(i,"title",this,t),c=Hn(i,"afterTitle",this,t);let u=[];return u=ns(u,Hs(r)),u=ns(u,Hs(o)),u=ns(u,Hs(c)),u}getBeforeBody(t,n){return $S(Hn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return ce(t,o=>{const c={before:[],lines:[],after:[]},u=KS(i,o);ns(c.before,Hs(Hn(u,"beforeLabel",this,o))),ns(c.lines,Hn(u,"label",this,o)),ns(c.after,Hs(Hn(u,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,n){return $S(Hn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Hn(i,"beforeFooter",this,t),o=Hn(i,"footer",this,t),c=Hn(i,"afterFooter",this,t);let u=[];return u=ns(u,Hs(r)),u=ns(u,Hs(o)),u=ns(u,Hs(c)),u}_createItems(t){const n=this._active,i=this.chart.data,r=[],o=[],c=[];let u=[],f,d;for(f=0,d=n.length;f<d;++f)u.push(C8(this.chart,n[f]));return t.filter&&(u=u.filter((p,v,_)=>t.filter(p,v,_,i))),t.itemSort&&(u=u.sort((p,v)=>t.itemSort(p,v,i))),ce(u,p=>{const v=KS(t.callbacks,p);r.push(Hn(v,"labelColor",this,p)),o.push(Hn(v,"labelPointStyle",this,p)),c.push(Hn(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=$c[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=qS(this,i),d=Object.assign({},u,f),p=YS(this.chart,i,d),v=GS(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const o=this.getCaretPosition(t,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:v}=al(u),{x:_,y:x}=t,{width:E,height:R}=n;let A,V,B,F,W,q;return o==="center"?(W=x+R/2,r==="left"?(A=_,V=A-c,F=W+c,q=W-c):(A=_+E,V=A+c,F=W-c,q=W+c),B=A):(r==="left"?V=_+Math.max(f,p)+c:r==="right"?V=_+E-Math.max(d,v)-c:V=this.caretX,o==="top"?(F=x,W=F-c,A=V-c,B=V+c):(F=x+R,W=F+c,A=V+c,B=V-c),q=F),{x1:A,x2:V,x3:B,y1:F,y2:W,y3:q}}drawTitle(t,n,i){const r=this.title,o=r.length;let c,u,f;if(o){const d=ol(i.rtl,this.x,this.width);for(t.x=Pf(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",c=On(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,n,i,r,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=On(o.bodyFont),v=Pf(this,"left",o),_=r.x(v),x=f<p.lineHeight?(p.lineHeight-f)/2:0,E=n.y+x;if(o.usePointStyle){const R={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=r.leftForLtr(_,d)+d/2,V=E+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,cS(t,R,A,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,cS(t,R,A,V)}else{t.lineWidth=ne(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const R=r.leftForLtr(_,d),A=r.leftForLtr(r.xPlus(_,1),d-2),V=al(c.borderRadius);Object.values(V).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Sd(t,{x:R,y:E,w:d,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Sd(t,{x:A,y:E+1,w:d-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(R,E,d,f),t.strokeRect(R,E,d,f),t.fillStyle=c.backgroundColor,t.fillRect(A,E+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,v=On(i.bodyFont);let _=v.lineHeight,x=0;const E=ol(i.rtl,this.x,this.width),R=function(D){n.fillText(D,E.x(t.x+x),t.y+_/2),t.y+=_+o},A=E.textAlign(c);let V,B,F,W,q,Z,P;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,t.x=Pf(this,A,i),n.fillStyle=i.bodyColor,ce(this.beforeBody,R),x=u&&A!=="right"?c==="center"?d/2+p:d+2+p:0,W=0,Z=r.length;W<Z;++W){for(V=r[W],B=this.labelTextColors[W],n.fillStyle=B,ce(V.before,R),F=V.lines,u&&F.length&&(this._drawColorBox(n,t,W,E,i),_=Math.max(v.lineHeight,f)),q=0,P=F.length;q<P;++q)R(F[q]),_=v.lineHeight;ce(V.after,R)}x=0,_=v.lineHeight,ce(this.afterBody,R),t.y-=o}drawFooter(t,n,i){const r=this.footer,o=r.length;let c,u;if(o){const f=ol(i.rtl,this.x,this.width);for(t.x=Pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",c=On(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(r[u],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=t,{width:d,height:p}=i,{topLeft:v,topRight:_,bottomLeft:x,bottomRight:E}=al(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(t,n,i,r),n.lineTo(u+d-_,f),n.quadraticCurveTo(u+d,f,u+d,f+_),c==="center"&&o==="right"&&this.drawCaret(t,n,i,r),n.lineTo(u+d,f+p-E),n.quadraticCurveTo(u+d,f+p,u+d-E,f+p),c==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(u+x,f+p),n.quadraticCurveTo(u,f+p,u,f+p-x),c==="center"&&o==="left"&&this.drawCaret(t,n,i,r),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=$c[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=qS(this,t),f=Object.assign({},c,this._size),d=YS(n,t,f),p=GS(t,f,d,n);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=wi(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,n),$D(t,n.textDirection),o.y+=c.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),KD(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!_d(i,r),c=this._positionChanged(r,n);(o||c)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,n,i),u=this._positionChanged(c,t),f=n||!_d(c,o)||u;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:i,caretY:r,options:o}=this,c=$c[o.position].call(this,t,n);return c!==!1&&(i!==c.x||r!==c.y)}}Zt(e0,"positioners",$c);var dC={id:"tooltip",_element:e0,positioners:$c,afterInit(e,t,n){n&&(e.tooltip=new e0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const k8=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function I8(e,t,n,i){const r=e.indexOf(t);if(r===-1)return k8(e,t,n,i);const o=e.lastIndexOf(t);return r!==o?n:r}const j8=(e,t)=>e===null?null:ki(Math.round(e),0,t);function XS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Dd extends Ol{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ye(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:I8(i,t,ue(n,t),this._addedLabels),j8(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=n;c++)r.push({value:c});return r}getLabelForValue(t){return XS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Zt(Dd,"id","category"),Zt(Dd,"defaults",{ticks:{callback:XS}});function L8(e,t){const n=[],{bounds:r,step:o,min:c,max:u,precision:f,count:d,maxTicks:p,maxDigits:v,includeBounds:_}=e,x=o||1,E=p-1,{min:R,max:A}=t,V=!ye(c),B=!ye(u),F=!ye(d),W=(A-R)/(v+1);let q=tS((A-R)/E/x)*x,Z,P,D,M;if(q<1e-14&&!V&&!B)return[{value:R},{value:A}];M=Math.ceil(A/q)-Math.floor(R/q),M>E&&(q=tS(M*q/E/x)*x),ye(f)||(Z=Math.pow(10,f),q=Math.ceil(q*Z)/Z),r==="ticks"?(P=Math.floor(R/q)*q,D=Math.ceil(A/q)*q):(P=R,D=A),V&&B&&o&&Hj((u-c)/o,q/1e3)?(M=Math.round(Math.min((u-c)/q,p)),q=(u-c)/M,P=c,D=u):F?(P=V?c:P,D=B?u:D,M=d-1,q=(D-P)/M):(M=(D-P)/q,Gf(M,Math.round(M),q/1e3)?M=Math.round(M):M=Math.ceil(M));const I=Math.max(eS(q),eS(P));Z=Math.pow(10,ye(f)?I:f),P=Math.round(P*Z)/Z,D=Math.round(D*Z)/Z;let N=0;for(V&&(_&&P!==c?(n.push({value:c}),P<c&&N++,Gf(Math.round((P+N*q)*Z)/Z,c,QS(c,W,e))&&N++):P<c&&N++);N<M;++N){const j=Math.round((P+N*q)*Z)/Z;if(B&&j>u)break;n.push({value:j})}return B&&_&&D!==u?n.length&&Gf(n[n.length-1].value,u,QS(u,W,e))?n[n.length-1].value=u:n.push({value:u}):(!B||D===u)&&n.push({value:D}),n}function QS(e,t,{horizontal:n,minRotation:i}){const r=za(i),o=(n?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class z8 extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ye(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=n?r:f,u=f=>o=i?o:f;if(t){const f=jr(r),d=jr(o);f<0&&d<0?u(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=L8(r,o);return t.bounds==="ticks"&&qj(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return jD(t,this.chart.options.locale,this.options.ticks.format)}}class Cd extends z8{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ti(t)?t:0,this.max=Ti(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=za(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Zt(Cd,"id","linear"),Zt(Cd,"defaults",{ticks:{callback:LD.formatters.numeric}});const nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yn=Object.keys(nm);function WS(e,t){return e-t}function ZS(e,t){if(ye(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Ti(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(r&&(c=r==="week"&&(wd(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,r)),+c)}function JS(e,t,n,i){const r=Yn.length;for(let o=Yn.indexOf(e);o<r-1;++o){const c=nm[Yn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(u*c.size))<=i)return Yn[o]}return Yn[r-1]}function B8(e,t,n,i,r){for(let o=Yn.length-1;o>=Yn.indexOf(n);o--){const c=Yn[o];if(nm[c].common&&e._adapter.diff(r,i,c)>=t-1)return c}return Yn[n?Yn.indexOf(n):0]}function U8(e){for(let t=Yn.indexOf(e)+1,n=Yn.length;t<n;++t)if(nm[Yn[t]].common)return Yn[t]}function t2(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=wv(n,t),o=n[i]>=t?n[i]:n[r];e[o]=!0}}function F8(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,f;for(u=o;u<=c;u=+r.add(u,1,i))f=n[u],f>=0&&(t[f].major=!0);return t}function e2(e,t,n){const i=[],r={},o=t.length;let c,u;for(c=0;c<o;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return o===0||!n?i:F8(e,i,r,n)}class Rd extends Ol{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new oL._date(t.adapters.date);r.init(n),nu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:ZS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Ti(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=Ti(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,u=Wj(r,o,c);return this._unit=n.unit||(i.autoSkip?JS(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):B8(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:U8(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),e2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=ki(n,0,c),i=ki(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||JS(o.minUnit,n,i,this._getLabelCapacity(n)),u=ue(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=wd(f)||f===!0,p={};let v=n,_,x;if(d&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,d?"day":c),t.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(_=v,x=0;_<i;_=+t.add(_,u,c),x++)t2(p,_,E);return(_===i||r.bounds==="ticks"||x===1)&&t2(p,_,E),Object.keys(p).sort(WS).map(R=>+R)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,o=this._unit,c=n||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,n,i,r){const o=this.options,c=o.ticks.callback;if(c)return we(c,[t,n,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],v=d&&u[d],_=i[n],x=d&&v&&_&&_.major;return this._adapter.format(t,r||(x?v:p))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=za(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,e2(this,[t],this._majorUnit),r),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(ZS(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return VD(t.sort(WS))}}Zt(Rd,"id","time"),Zt(Rd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kf(e,t,n){let i=0,r=e.length-1,o,c,u,f;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=Wy(e,"pos",t)),{pos:o,time:u}=e[i],{pos:c,time:f}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=Wy(e,"time",t)),{time:o,pos:u}=e[i],{time:c,pos:f}=e[r]);const d=c-o;return d?u+(f-u)*(t-o)/d:u}class n2 extends Rd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=kf(n,this.min),this._tableRange=kf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],o=[];let c,u,f,d,p;for(c=0,u=t.length;c<u;++c)d=t[c],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)p=r[c+1],f=r[c-1],d=r[c],Math.round((p+f)/2)!==d&&o.push({time:d,pos:c/(u-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(kf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return kf(this._table,i*this._tableRange+this._minPos,!0)}}Zt(n2,"id","timeseries"),Zt(n2,"defaults",Rd.defaults);const mC="label";function i2(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function H8(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function gC(e,t){e.labels=t}function pC(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mC;const i=[];e.datasets=t.map(r=>{const o=e.datasets.find(c=>c[n]===r[n]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function q8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mC;const n={labels:[],datasets:[]};return gC(n,e.labels),pC(n,e.datasets,t),n}function Y8(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:d=[],fallbackContent:p,updateMode:v,..._}=e,x=it.useRef(null),E=it.useRef(null),R=()=>{x.current&&(E.current=new Hu(x.current,{type:c,data:q8(u,o),options:f&&{...f},plugins:d}),i2(t,E.current))},A=()=>{i2(t,null),E.current&&(E.current.destroy(),E.current=null)};return it.useEffect(()=>{!r&&E.current&&f&&H8(E.current,f)},[r,f]),it.useEffect(()=>{!r&&E.current&&gC(E.current.config.data,u.labels)},[r,u.labels]),it.useEffect(()=>{!r&&E.current&&u.datasets&&pC(E.current.config.data,u.datasets,o)},[r,u.datasets]),it.useEffect(()=>{E.current&&(r?(A(),setTimeout(R)):E.current.update(v))},[r,f,u.labels,u.datasets,v]),it.useEffect(()=>{E.current&&(A(),setTimeout(R))},[c]),it.useEffect(()=>(R(),()=>A()),[]),Gs.createElement("canvas",{ref:x,role:"img",height:n,width:i,..._},p)}const G8=it.forwardRef(Y8);function $8(e,t){return Hu.register(t),it.forwardRef((n,i)=>Gs.createElement(G8,{...n,ref:i,type:e}))}const n0=$8("bar",$f);Hu.register(Dd,Cd,au,hC,dC,cC);function K8({darkMode:e,showSummary:t,view:n,objectives:i,tasks:r,completedObjectives:o,completedTasks:c,history:u,setShowSummary:f,setSelectedItem:d}){const p=(A,V)=>{const B=new Date(V),F=new Date(V);A==="daily"?(B.setHours(0,0,0,0),F.setHours(23,59,59,999)):A==="weekly"?(B.setDate(V.getDate()-V.getDay()),F.setDate(V.getDate()-V.getDay()+6)):A==="monthly"?(B.setMonth(V.getMonth(),1),F.setMonth(V.getMonth()+1,0)):A==="yearly"&&(B.setFullYear(V.getFullYear(),0,1),F.setFullYear(V.getFullYear(),11,31));const W=(q,Z)=>q.filter(P=>{const D=new Date(P[Z]);return D>=B&&D<=F});return{activeObjectives:W(i,"date"),activeTasks:W(r,"date"),completedObjectives:W(o,"completedDate"),completedTasks:W(c,"completedDate")}},v=()=>p(t,n.date),_=()=>{const A=v();return{labels:["Objetivos Completados","Tareas Completadas","Objetivos Pendientes","Tareas Pendientes"],datasets:[{label:`Resumen (${t})`,data:[A.completedObjectives.length,A.completedTasks.length,A.activeObjectives.length,A.activeTasks.length],backgroundColor:["#000000","#555555","#999999","#CCCCCC"],borderColor:["#000000","#555555","#999999","#CCCCCC"],borderWidth:1}]}},x={responsive:!0,plugins:{legend:{position:"top",labels:{color:e?"#FFFFFF":"#000000"}},title:{display:!0,text:"Progreso",color:e?"#FFFFFF":"#000000"}},scales:{x:{ticks:{color:e?"#FFFFFF":"#000000"},grid:{color:e?"#333333":"#DDDDDD"}},y:{ticks:{color:e?"#FFFFFF":"#000000"},grid:{color:e?"#333333":"#DDDDDD"}}}},E=A=>[...A].sort((V,B)=>{const F={high:3,medium:2,low:1},W=F[B.priority]-F[V.priority];return W!==0?W:new Date(V.createdAt)-new Date(B.createdAt)}),R=v();return S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 overflow-y-auto",children:S.jsxs(Ht.div,{initial:{scale:.8},animate:{scale:1},className:`${e?"bg-gray-900 text-white":"bg-white text-black"} p-4 sm:p-6 rounded-lg shadow-lg w-full max-w-lg max-h-[90vh] overflow-y-auto`,children:[S.jsxs("h3",{className:`text-lg sm:text-2xl font-bold mb-6 text-center py-2 rounded-t-lg ${e?"bg-gray-800":"bg-gray-200"}`,children:["Resumen ",t.charAt(0).toUpperCase()+t.slice(1)]}),S.jsx("div",{className:"mb-6",children:S.jsx(n0,{data:_(),options:x})}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"font-semibold text-base sm:text-lg mb-2 flex items-center",children:[S.jsx("span",{className:"w-3 h-3 bg-black rounded-full mr-2"})," Objetivos Completados (",R.completedObjectives.length,")"]}),S.jsx("div",{className:"max-h-60 overflow-y-auto",children:R.completedObjectives.map(A=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg mb-2 shadow-sm border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"font-medium text-sm sm:text-base",children:A.text}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f(null),d({...A,type:"objective",completed:!0})},className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]}),S.jsx("span",{className:"text-xs sm:text-sm block mt-1",children:new Date(A.completedDate).toLocaleString()}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Tags: ",A.tags.length>0?A.tags.join(", "):"Sin etiquetas"]})]},A.id))})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"font-semibold text-base sm:text-lg mb-2 flex items-center",children:[S.jsx("span",{className:"w-3 h-3 bg-gray-600 rounded-full mr-2"})," Tareas Completadas (",R.completedTasks.length,")"]}),S.jsx("div",{className:"max-h-60 overflow-y-auto",children:R.completedTasks.map(A=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg mb-2 shadow-sm border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"font-medium text-sm sm:text-base",children:A.text}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f(null),d({...A,type:"task",completed:!0})},className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]}),S.jsx("span",{className:"text-xs sm:text-sm block mt-1",children:new Date(A.completedDate).toLocaleString()}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Tags: ",A.tags.length>0?A.tags.join(", "):"Sin etiquetas"]})]},A.id))})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"font-semibold text-base sm:text-lg mb-2 flex items-center",children:[S.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"})," Objetivos Pendientes (",R.activeObjectives.length,")"]}),S.jsx("div",{className:"max-h-60 overflow-y-auto",children:E(R.activeObjectives).map(A=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg mb-2 shadow-sm border-l-4 ${A.priority==="high"?"border-black":A.priority==="medium"?"border-gray-600":"border-gray-400"} border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"font-medium text-sm sm:text-base",children:A.text}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f(null),d({type:"objective",...A,completed:!1})},className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:[A.progress,"% - ",new Date(A.date).toLocaleDateString()]}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Prioridad: ",A.priority.charAt(0).toUpperCase()+A.priority.slice(1)]}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Tags: ",A.tags.length>0?A.tags.join(", "):"Sin etiquetas"]})]},A.id))})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"font-semibold text-base sm:text-lg mb-2 flex items-center",children:[S.jsx("span",{className:"w-3 h-3 bg-gray-200 rounded-full mr-2"})," Tareas Pendientes (",R.activeTasks.length,")"]}),S.jsx("div",{className:"max-h-60 overflow-y-auto",children:E(R.activeTasks).map(A=>S.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 ${e?"bg-gray-800":"bg-gray-100"} rounded-lg mb-2 shadow-sm border-l-4 ${A.priority==="high"?"border-black":A.priority==="medium"?"border-gray-600":"border-gray-400"} border ${e?"border-gray-700":"border-gray-300"}`,children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"font-medium text-sm sm:text-base",children:A.text}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f(null),d({type:"task",...A,completed:!1})},className:`px-2 py-1 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(Ys,{}),S.jsx("span",{children:"Detalles"})]})]}),S.jsx("span",{className:"text-xs sm:text-sm block mt-1",children:new Date(A.date).toLocaleDateString()}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Prioridad: ",A.priority.charAt(0).toUpperCase()+A.priority.slice(1)]}),S.jsxs("span",{className:"text-xs sm:text-sm block mt-1",children:["Tags: ",A.tags.length>0?A.tags.join(", "):"Sin etiquetas"]})]},A.id))})]})]}),S.jsx("div",{className:"mt-6 flex justify-end",children:S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(null),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(ju,{}),S.jsx("span",{children:"Cerrar"})]})})]})})}function X8({darkMode:e,setShowAddModal:t,addItem:n,objectives:i}){const r=["Trabajo","Personal","Urgente","Estudio","Hogar"],[o,c]=it.useState({type:"objective",text:"",date:"",priority:"low",tags:[],reminder:"",alarm:"",objectiveId:"",percentage:0,details:"",recurrence:"none"}),u=d=>{o.tags.includes(d)||c({...o,tags:[...o.tags,d]})},f=()=>{if(!o.text||!o.date){alert("Por favor, completa el nombre y la fecha.");return}n(o.type,{text:o.text,date:new Date(o.date).toISOString(),priority:o.priority,tags:o.tags,reminder:o.reminder||null,alarm:o.alarm||null,objectiveId:o.type==="task"?o.objectiveId||null:void 0,percentage:o.type==="task"?Number(o.percentage):void 0,details:o.details,recurrence:o.recurrence,completedItems:o.type==="objective"?[]:void 0,ideas:o.type==="objective"?[]:void 0}),t(!1)};return S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto add-modal",children:S.jsxs(Ht.div,{initial:{scale:.8},animate:{scale:1},className:`${e?"bg-gray-900 text-white":"bg-white text-black"} p-4 sm:p-6 rounded-lg shadow-lg w-full max-w-lg max-h-[90vh] overflow-y-auto`,children:[S.jsxs("h3",{className:"text-lg sm:text-xl font-semibold mb-4 flex items-center",children:[S.jsx(vd,{className:"mr-2"})," Añadir ",o.type==="objective"?"Objetivo":"Tarea"]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Tipo:"}),S.jsxs("select",{value:o.type,onChange:d=>c({...o,type:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"objective",children:"Objetivo"}),S.jsx("option",{value:"task",children:"Tarea"})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Nombre:"}),S.jsx("input",{value:o.text,onChange:d=>c({...o,text:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Escribe el nombre aquí",autoFocus:!1})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Fecha:"}),S.jsx("input",{type:"datetime-local",value:o.date,onChange:d=>c({...o,date:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,autoFocus:!1})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Detalles:"}),S.jsx("textarea",{value:o.details,onChange:d=>c({...o,details:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,rows:"3",placeholder:"Añade detalles adicionales",autoFocus:!1})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Prioridad:"}),S.jsxs("select",{value:o.priority,onChange:d=>c({...o,priority:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"high",children:"Alta"}),S.jsx("option",{value:"medium",children:"Media"}),S.jsx("option",{value:"low",children:"Baja"})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[S.jsx(Py,{className:"mr-2"})," Etiquetas"]}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.map(d=>S.jsx("button",{onClick:()=>u(d),className:`px-2 py-1 rounded-lg text-xs ${o.tags.includes(d)?e?"bg-white text-black":"bg-black text-white":e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:d},d))}),S.jsx("input",{value:o.tags.join(", "),onChange:d=>c({...o,tags:d.target.value.split(", ").filter(p=>p.trim())}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,placeholder:"Añade etiquetas personalizadas (separadas por comas)",autoFocus:!1})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Recordatorio (hora):"}),S.jsx("input",{type:"time",value:o.reminder,onChange:d=>c({...o,reminder:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,autoFocus:!1})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Alarma (hora):"}),S.jsx("input",{type:"time",value:o.alarm,onChange:d=>c({...o,alarm:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,autoFocus:!1})]}),o.type==="task"&&S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Recurrencia:"}),S.jsxs("select",{value:o.recurrence,onChange:d=>c({...o,recurrence:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"none",children:"Ninguna"}),S.jsx("option",{value:"daily",children:"Diaria"}),S.jsx("option",{value:"weekly",children:"Semanal"}),S.jsx("option",{value:"monthly",children:"Mensual"})]})]}),o.type==="task"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Vincular a un objetivo:"}),S.jsxs("select",{value:o.objectiveId,onChange:d=>c({...o,objectiveId:d.target.value}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,children:[S.jsx("option",{value:"",children:"Ninguno"}),i.map(d=>S.jsx("option",{value:d.id,children:d.text},d.id))]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block mb-2 text-sm",children:"Porcentaje de contribución al objetivo (0-100):"}),S.jsx("input",{type:"number",min:"0",max:"100",value:o.percentage,onChange:d=>c({...o,percentage:Number(d.target.value)}),className:`w-full p-2 rounded-lg ${e?"bg-gray-800 text-white border-gray-700":"bg-white text-black border-gray-300"} border text-sm`,autoFocus:!1})]})]}),S.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 justify-end",children:[S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:[S.jsx(ju,{}),S.jsx("span",{children:"Cancelar"})]}),S.jsxs(Ht.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm flex items-center space-x-1 ${e?"bg-white text-black":"bg-black text-white"}`,children:[S.jsx(vd,{}),S.jsx("span",{children:"Añadir"})]})]})]})})}function Q8({darkMode:e}){return S.jsxs("footer",{className:`w-full max-w-3xl text-center text-sm sm:text-base py-4 ${e?"text-gray-400":"text-gray-600"}`,children:[S.jsxs("p",{children:["Hecho con ",S.jsx(OI,{className:"inline text-red-500 mx-1"})," por el equipo de Planify"]}),S.jsx("p",{className:"mt-2",children:S.jsxs("a",{href:"https://github.com/xAI-Planify",target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center space-x-1 hover:underline ${e?"text-white":"text-black"}`,children:[S.jsx(CI,{})," ",S.jsx("span",{children:"GitHub"})]})}),S.jsxs("p",{className:"mt-2",children:["© ",new Date().getFullYear()," Planify. Todos los derechos reservados."]})]})}Hu.register(Dd,Cd,au,hC,dC,cC);function W8({darkMode:e,setShowRightMenu:t,objectives:n,tasks:i,completedObjectives:r,completedTasks:o,notes:c}){const u=()=>{const v={};return[...r,...o].forEach(_=>{_.tags.forEach(x=>{v[x]=(v[x]||0)+1})}),{labels:Object.keys(v),datasets:[{label:"Completados por Etiqueta",data:Object.values(v),backgroundColor:"#000000",borderColor:"#000000",borderWidth:1}]}},f={responsive:!0,plugins:{legend:{position:"top",labels:{color:e?"#FFFFFF":"#000000"}},title:{display:!0,text:"Estadísticas por Etiqueta",color:e?"#FFFFFF":"#000000"}},scales:{x:{ticks:{color:e?"#FFFFFF":"#000000"},grid:{color:e?"#333333":"#DDDDDD"}},y:{ticks:{color:e?"#FFFFFF":"#000000"},grid:{color:e?"#333333":"#DDDDDD"}}}},d=()=>{const v={};return[...r,...o].forEach(_=>{const x=new Date(_.completedDate).toLocaleString("default",{month:"short",year:"numeric"});v[x]=(v[x]||0)+1}),{labels:Object.keys(v),datasets:[{label:"Completados por Mes",data:Object.values(v),backgroundColor:"#555555",borderColor:"#555555",borderWidth:1}]}},p=[{name:"Primer Objetivo",achieved:r.length>=1},{name:"5 Tareas Completadas",achieved:o.length>=5},{name:"10 Elementos Completados",achieved:r.length+o.length>=10}];return S.jsxs("div",{className:`w-64 ${e?"bg-gray-800":"bg-gray-200"} p-4 shadow-lg`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold",children:"Estadísticas"}),S.jsx("button",{onClick:()=>t(!1),className:"text-xl",children:S.jsx(ju,{})})]}),S.jsxs("div",{className:"mb-6",children:[S.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[S.jsx(Vy,{className:"mr-2"})," Progreso"]}),S.jsxs("p",{children:["Total Completados: ",r.length+o.length]}),S.jsxs("p",{children:["Objetivos Completados: ",r.length]}),S.jsxs("p",{children:["Tareas Completadas: ",o.length]})]}),S.jsx("div",{className:"mb-6",children:S.jsx(n0,{data:u(),options:f})}),S.jsxs("div",{className:"mb-6",children:[S.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[S.jsx(Vy,{className:"mr-2"})," Completados por Mes"]}),S.jsx(n0,{data:d(),options:f})]}),S.jsxs("div",{className:"mb-6",children:[S.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[S.jsx(Dw,{className:"mr-2"})," Logros"]}),S.jsx("ul",{className:"space-y-2",children:p.map((v,_)=>S.jsxs("li",{className:"flex items-center space-x-2",children:[S.jsx("span",{className:`text-sm ${v.achieved?"text-green-500":"text-gray-500"}`,children:v.name}),v.achieved&&S.jsx(Dw,{className:"text-yellow-500"})]},_))})]})]})}const Us=(e,t)=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error(`Error loading ${e} from localStorage:`,n),t}},es=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error(`Error saving ${e} to localStorage:`,n)}};function Z8(){const[e,t]=it.useState(Us("darkMode",!1)),[n,i]=it.useState(Us("objectives",[])),[r,o]=it.useState(Us("tasks",[])),[c,u]=it.useState(Us("completedObjectives",[])),[f,d]=it.useState(Us("completedTasks",[])),[p,v]=it.useState(Us("history",[])),[_,x]=it.useState(Us("notes",[])),[E,R]=it.useState(new Date),[A,V]=it.useState(null),[B,F]=it.useState(!1),[W,q]=it.useState(null),[Z,P]=it.useState(!1),[D,M]=it.useState(!1),[I,N]=it.useState(Us("showWelcome",!0)),[j,k]=it.useState(0),Nt=it.useRef(null),[Tt,K]=it.useState([]),[st,ht]=it.useState(!0);it.useEffect(()=>{(async()=>{try{const lt=nI(_I,"updates"),dt=await yI(lt);console.log("Documentos obtenidos de Firestore:",dt.docs);const _t=dt.docs.map(be=>{const Wt=be.data();return{id:be.id,message:typeof Wt.message=="string"?Wt.message.replace(/^"|"$/g,""):Wt.message,title:typeof Wt.title=="string"?Wt.title.replace(/^"|"$/g,""):Wt.title,seen:Wt.seen==="false"?!1:Wt.seen==="true"?!0:Wt.seen,updateId:typeof Wt.id=="string"?Wt.id.replace(/^"|"$/g,""):Wt.id}});console.log("Datos transformados (fetchedUpdates):",_t);const vt=Us("updates",[]);console.log("Datos almacenados en localStorage:",vt);const Se=_t.map(be=>{const Wt=vt.find(Ws=>Ws.id===be.id);return Wt?{...be,seen:Wt.seen}:be});console.log("Datos combinados (mergedUpdates):",Se),K(Se),ht(!1)}catch(lt){console.error("Error al obtener mensajes de actualización:",lt),ht(!1)}})()},[]),it.useEffect(()=>{es("darkMode",e),es("objectives",n),es("tasks",r),es("completedObjectives",c),es("completedTasks",f),es("history",p),es("notes",_),es("showWelcome",I),es("updates",Tt)},[e,n,r,c,f,p,_,I,Tt]),it.useEffect(()=>{j===1&&B&&k(2),j===2&&n.length>0&&!B&&k(3),j===3&&c.length>0&&k(4),j===4&&Z&&k(5)},[B,n,c,Z,j]),it.useEffect(()=>{if(j>0&&j<=re.length){const bt=re[j-1].target;if(bt){const lt=document.querySelector(bt);lt&&(Nt.current=lt,lt.style.position="relative",lt.style.zIndex="60",lt.style.boxShadow="0 0 0 3px rgba(255, 255, 255, 0.5)")}}return()=>{Nt.current&&(Nt.current.style.position="",Nt.current.style.zIndex="",Nt.current.style.boxShadow="",Nt.current=null)}},[j]);const wt=(bt,lt)=>{const dt={...lt,id:Date.now().toString(),createdAt:new Date().toISOString(),progress:0,completedItems:lt.completedItems||[],ideas:lt.ideas||[],tags:lt.tags||[],tasks:bt==="objective"?[]:void 0,objectiveId:bt==="task"?lt.objectiveId||null:void 0,percentage:bt==="task"?lt.percentage||0:void 0,reminder:lt.reminder||null,alarm:lt.alarm||null,priority:lt.priority||"low",notes:[]};if(bt==="objective")i([...n,dt]);else if(o([...r,dt]),dt.objectiveId){const _t=n.map(vt=>vt.id===dt.objectiveId?{...vt,tasks:[...vt.tasks||[],dt.id]}:vt);i(_t)}v([...p,{action:`Added ${bt}`,item:dt,timestamp:new Date().toISOString()}])},L=(bt,lt,dt)=>{if(bt==="objective")i(n.map(_t=>_t.id===lt?{..._t,...dt}:_t));else{const _t=r.find(vt=>vt.id===lt);if(o(r.map(vt=>vt.id===lt?{...vt,...dt}:vt)),(_t==null?void 0:_t.objectiveId)!==dt.objectiveId){const vt=n.map(Se=>Se.id===(_t==null?void 0:_t.objectiveId)?{...Se,tasks:(Se.tasks||[]).filter(be=>be!==lt)}:Se.id===dt.objectiveId?{...Se,tasks:[...Se.tasks||[],lt]}:Se);i(vt)}}v([...p,{action:`Updated ${bt}`,item:{id:lt,...dt},timestamp:new Date().toISOString()}])},et=(bt,lt)=>{if(bt==="objective")i(n.filter(dt=>dt.id!==lt.id)),u([...c,{...lt,completedDate:new Date().toISOString()}]);else if(o(r.filter(dt=>dt.id!==lt.id)),d([...f,{...lt,completedDate:new Date().toISOString()}]),lt.objectiveId){const dt=n.map(_t=>_t.id===lt.objectiveId?{..._t,tasks:(_t.tasks||[]).filter(vt=>vt!==lt.id)}:_t);i(dt)}v([...p,{action:`Completed ${bt}`,item:lt,timestamp:new Date().toISOString()}])},ct=(bt,lt)=>{if(bt==="objective")u(c.filter(dt=>dt.id!==lt.id)),i([...n,{...lt,completedDate:void 0}]);else if(d(f.filter(dt=>dt.id!==lt.id)),o([...r,{...lt,completedDate:void 0}]),lt.objectiveId){const dt=n.map(_t=>_t.id===lt.objectiveId?{..._t,tasks:[..._t.tasks||[],lt.id]}:_t);i(dt)}v([...p,{action:`Undid completion of ${bt}`,item:lt,timestamp:new Date().toISOString()}])},ot=(bt,lt)=>{if(bt==="objective"){i(n.filter(_t=>_t.id!==lt));const dt=r.filter(_t=>_t.objectiveId===lt);o(r.filter(_t=>_t.objectiveId!==lt)),d(f.filter(_t=>_t.objectiveId!==lt)),v([...p,{action:`Deleted ${bt}`,item:{id:lt},timestamp:new Date().toISOString()},...dt.map(_t=>({action:"Deleted related task",item:_t,timestamp:new Date().toISOString()}))])}else{o(r.filter(_t=>_t.id!==lt));const dt=r.find(_t=>_t.id===lt);if(dt!=null&&dt.objectiveId){const _t=n.map(vt=>vt.id===dt.objectiveId?{...vt,tasks:(vt.tasks||[]).filter(Se=>Se!==lt)}:vt);i(_t)}v([...p,{action:`Deleted ${bt}`,item:{id:lt},timestamp:new Date().toISOString()}])}},mt=(bt,lt)=>{bt==="objective"?(u(c.filter(dt=>dt.id!==lt)),d(f.filter(dt=>dt.objectiveId!==lt))):d(f.filter(dt=>dt.id!==lt)),v([...p,{action:`Deleted completed ${bt}`,item:{id:lt},timestamp:new Date().toISOString()}])},Et=(bt,lt=null,dt=null)=>{const _t={id:Date.now().toString(),title:bt.title||"Nota sin título",content:bt.content||"",createdAt:new Date().toISOString(),linkedItemId:lt,linkedItemType:dt};x([..._,_t]),lt&&dt&&(dt==="objective"?i(n.map(vt=>vt.id===lt?{...vt,notes:[...vt.notes||[],_t.id]}:vt)):dt==="task"&&o(r.map(vt=>vt.id===lt?{...vt,notes:[...vt.notes||[],_t.id]}:vt)))},yt=(bt,lt)=>{x(_.map(dt=>dt.id===bt?{...dt,...lt}:dt))},ve=bt=>{x(_.filter(lt=>lt.id!==bt)),i(n.map(lt=>({...lt,notes:(lt.notes||[]).filter(dt=>dt!==bt)}))),o(r.map(lt=>({...lt,notes:(lt.notes||[]).filter(dt=>dt!==bt)})))},qt=bt=>{const lt=Tt.map(dt=>dt.id===bt?{...dt,seen:!0}:dt);K(lt),es("updates",lt)},re=[{message:"¡Bienvenido a Planify! Vamos a añadir un nuevo objetivo. Haz clic en el botón '+' en la parte superior derecha.",target:".add-button",position:"bottom"},{message:"¡Perfecto! Ahora completa los campos y añade un objetivo. Luego, haz clic en 'Añadir'.",target:".add-modal",position:"center"},{message:"¡Buen trabajo! Tu objetivo ha sido añadido. Ahora, complétalo haciendo clic en 'Detalles' y luego en 'Completar'.",target:"#pending-section",position:"top"},{message:"¡Excelente! Ahora veamos tus estadísticas. Haz clic en el botón de menú a la izquierda y selecciona 'Estadísticas'.",target:".menu-button",position:"bottom"},{message:"¡Eso es todo! Ahora sabes cómo usar Planify. ¡Explora y organiza tus objetivos!",target:null,position:"center"}];return S.jsxs("div",{className:`min-h-screen flex flex-col items-center ${e?"bg-gray-900 text-white":"bg-gray-100 text-black"}`,children:[I&&j===0&&S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:`${e?"bg-gray-800 text-white":"bg-white text-black"} p-6 rounded-lg shadow-lg max-w-md text-center`,children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"¡Bienvenido a Planify!"}),S.jsx("p",{className:"mb-4",children:"Organiza tus objetivos y tareas de manera sencilla. ¿Quieres un tutorial rápido?"}),S.jsxs("div",{className:"flex justify-center space-x-4",children:[S.jsx("button",{onClick:()=>k(1),className:`px-4 py-2 rounded-lg ${e?"bg-white text-black":"bg-black text-white"}`,children:"Sí, mostrar tutorial"}),S.jsx("button",{onClick:()=>{N(!1),k(0)},className:`px-4 py-2 rounded-lg ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:"Saltar"})]})]})}),j>0&&j<=re.length&&S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:S.jsxs("div",{className:`${re[j-1].position==="center"?"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2":re[j-1].position==="top"?"absolute bottom-full mb-2":"absolute top-full mt-2"} ${e?"bg-gray-800 text-white":"bg-white text-black"} p-4 rounded-lg shadow-lg max-w-sm text-center z-60`,style:re[j-1].target?{position:"absolute",[re[j-1].position==="top"?"bottom":"top"]:"100%",left:"50%",transform:"translateX(-50%)"}:{},children:[S.jsx("p",{className:"mb-4",children:re[j-1].message}),S.jsxs("div",{className:"flex justify-center space-x-4",children:[S.jsx("button",{onClick:()=>{j===re.length?(k(0),N(!1)):k(j+1)},className:`px-4 py-2 rounded-lg ${e?"bg-white text-black":"bg-black text-white"}`,children:j===re.length?"Finalizar":"Siguiente"}),S.jsx("button",{onClick:()=>{k(0),N(!1)},className:`px-4 py-2 rounded-lg ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"}`,children:"Saltar"})]})]})}),!st&&Tt.filter(bt=>!bt.seen).map((bt,lt)=>(console.log("Condiciones para mostrar mensaje:",{index:lt,showWelcome:I,tutorialStep:j,update:bt}),S.jsx(uf,{children:lt===0&&!I&&j===0&&S.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:`${e?"bg-gray-800 text-white":"bg-white text-black"} p-6 rounded-lg shadow-lg max-w-md text-center`,children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:bt.title}),S.jsx("p",{className:"mb-4",children:bt.message}),S.jsx("button",{onClick:()=>qt(bt.id),className:`px-4 py-2 rounded-lg ${e?"bg-white text-black":"bg-black text-white"}`,children:"Entendido"})]})})},bt.id))),S.jsxs("div",{className:"flex w-full max-w-7xl",children:[S.jsx(uf,{children:Z&&S.jsx(Ht.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},className:"fixed inset-y-0 left-0 z-40 sm:static sm:flex",children:S.jsx(PI,{darkMode:e,setShowMenu:P,setShowSummary:q,setShowRightMenu:M})})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center p-4 sm:p-6",children:[S.jsx(VI,{darkMode:e,toggleDarkMode:()=>t(!e),setShowAddModal:F,setShowMenu:P}),S.jsx(lj,{darkMode:e,selectedDate:E,setSelectedDate:R,objectives:n,tasks:r,completedObjectives:c,completedTasks:f}),S.jsx(cj,{darkMode:e,selectedDate:E,objectives:n,tasks:r,completedObjectives:c,completedTasks:f,setSelectedItem:V,undoCompleteItem:ct}),S.jsx(Q8,{darkMode:e,children:S.jsxs("button",{onClick:()=>M(bt=>!bt),className:`p-2 rounded-full ${e?"bg-gray-700 text-white":"bg-gray-200 text-black"} flex items-center space-x-2`,children:[S.jsx(tD,{}),S.jsx("span",{children:"Notas"})]})})]}),S.jsx(uf,{children:D&&S.jsx(Ht.div,{initial:{x:300},animate:{x:0},exit:{x:300},className:"fixed inset-y-0 right-0 z-40 sm:static sm:flex",children:S.jsx(W8,{darkMode:e,setShowRightMenu:M,objectives:n,tasks:r,completedObjectives:c,completedTasks:f,notes:_})})})]}),S.jsxs(uf,{children:[A&&S.jsx(uj,{darkMode:e,selectedItem:A,setSelectedItem:V,objectives:n,tasks:r,completedTasks:f,updateItem:L,completeItem:et,deleteItem:ot,deleteCompletedItem:mt,notes:_,addNote:Et,updateNote:yt,deleteNote:ve}),B&&S.jsx(X8,{darkMode:e,setShowAddModal:F,addItem:wt,objectives:n}),W&&S.jsx(K8,{darkMode:e,showSummary:W,view:{date:E,type:W},objectives:n,tasks:r,completedObjectives:c,completedTasks:f,history:p,setShowSummary:q,setSelectedItem:V})]})]})}ZR.createRoot(document.getElementById("root")).render(S.jsx(it.StrictMode,{children:S.jsx(Z8,{})}));
